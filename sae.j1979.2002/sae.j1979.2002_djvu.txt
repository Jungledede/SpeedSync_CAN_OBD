*********A********* 



By Authority Of 

THE UNITED STATES OF AMERICA 

Legally Binding Document 

By the Authority Vested By Part 5 of the United States Code § 552(a) and 
Part 1 of the Code of Regulations § 51 the attached document has been duly 
INCORPORATED BY REFERENCE and shall be considered legally 
binding upon all citizens and residents of the United States of America. 
HEED THIS NOTICE : Criminal penalties may apply for noncompliance. 



Document Name: SAE J1979. E / E Diagnostic Test Modes 



CFR Section(s): 40 CFR 86.1806-05(h)(l)(ii) 



Standards Body: Society of Automotive Engineers 



^•MMJPttftjjj, 



,iDvec 



* 



m 






Official Incorporator : 

The Executive Director 
office of the federal register 
washington, d.c. 



%,. 



ir-vj. 



JP 



23.25 



E/E DIAGNOSTIC TEST MODES — 
EQUIVALENT TO ISO/DIS 15031-5:APRIL 30, 2002 
— SAEJ1979 APR2002 



SAE Standard 



Report of the SAE Vehicle E/E Systems Diagnostic Standards Committee approved December 1991, revised June 1994, completely revised July 1996 and revised September 1997 
Revised by the SAE Vehicle Electrical and Electronics Diagnostic Systems Standards Committee and ISCvTC 22/SC3/WG 1 Serial Data Communication Work Group April 2002 ' 
Rationale statement available. r *■ • 



This document supersedes SAE J1979 SEP1997, and is technically equivalent to ISO/DIS 15031-5:April 30, 2002, except for minor reorganisation of Paragraphs 1 and 2. 



Foreword— On-Board Diagnostic (OBD) regulations require passenger cars, 
and light and medium duty trucks, to support communication of a minimum set of 
diagnostic information to off-board "generic" test equipment. This document 
specifies diagnostic services and functionally addressed request / response 
messages required to be supported by motor vehicles and external test equipment 
for diagnostic purposes which pertain to motor vehicle emission-related data. 
These messages are intended to be used by any external test equipment meeting 
the requirements of SAE J1978 for retrieval of OBD information from a vehicle. 

SAE J1979 was originally developed to meet U.S. OBD requirements for 1996 
and later model year vehicles. ISO 15031-5 was based on SAE J1979 and was 
intended to combine the U.S. requirements with European OBD requirements for 
2000 and later model year vehicles. In addition, this document and later versions 
of the ISO/DIS document include new data reporting requirements included in 
proposed U.S. regulations, and also include specific requirements for retrieval of 
the same diagnostic information from vehicles equipped with ISO 15765-4 as a 
diagnostic data link. 



1 

1.1 

1.2 

2 

2.1 

2.1.1 

2.1.2 

2.2 

2.2.1 

2.2.2 

3 

4 

4.1 

4.1.1 

4.1.2 

4.1.3 

4.1.4 

4.1.5 

4.2 

4.2.1 

4.2.2 

4.2.3 

4.2.4 

4.2.5 

4.2.6 

4.2.7 

4.2.8 
4.2.9 

4.2.10 

4.3 

4.4 

4.5 

5 

5.1 

5.1.1 

5.1.2 

5.1.3 

5.1.4 

5.2 

5.2.1 



TABLE OF CONTENTS 

Scope 
Purpose 

Differences from ISO Document 
Reference(s) 
Applicable Publications 
SAE Publications 
ISO Publications 
Related Publications 
SAE Publications 
ISO Documents 
Term(s) and Definition(s) 
Technical Requirements 
Diagnostic Service, General Requirements- 
Multiple Responses to a Single Data Request 
Application Timing Parameter Definition 

Minimum Time between Requests from External Test Equipment 
Data Not Available 
Maximum Value 

Diagnostic Message Format , 

Addressing Method 
Maximum Message Length 
Request/Response Message Format 
Response Code Parameter Definition 

Header Byte Definition of ISO 9141-2, ISO 14230-4, and SAE J1850 
Header Byte Definition of ISO 15765-4 

Data Bytes Definition of ISO 9141-2, ISO 14230-4, SAE J1850, and ISO 
15765-4 

Non-Data Bytes included in Diagnostic Messages with SAE J1850 
Non-Data Bytes included in Diagnostic Messages with ISO 9141-2 and 
ISO 14230-4 
Bit Position Convention 

Allowance for Expansion and Enhanced Diagnostic Services 
Definition of PIDs for Service $01 and $02 
Format of Data to be Displayed 

Diagnostic Service Definition for ISO 9141-2, ISO 14230-4, and SAE 
J1850 

Service $01 - Request Current Powertrain Diagnostic Data 
Functional Description 
Message Data Bytes 
Parameter Definition 
Message Example 

Service $02 - Request Powertrain Freeze Frame Data 
Functional description 



5.2.2 

5.2.3 

5.2.4 

5.3 

5.3.1 

5.3.2 

5.3.3 

5.3.4 

5.4 

5.4.1 

5.4.2 

5.4.3 

5.4.4 

5.5 

5.5.1 

5.5.2 

5.5.3 

5.5.4 

5.6 

5.6.1 
5.6.2 
5.6.3 
5.6.4 

5.7 

5.7.1 

5.7.2 

5.7.3 

5.7.4 

5.8 

5.8.1 

5.8.2 

5.8.3 

5.8.4 

5.9 

5.9.1 

5.9.2 

5.9.3 

5.9.4 

6. 

6.1 

6.1.1 

6.1.2 

6.1.3 

6.1.4 

6.2 

6.2.1 

6.2.2 

6.2.3 

6.2.4 

6.3 

6.3.1 

6.3.2 

6.3.3 

6.3.4 

6.4 

6.4.1 

6.4.2 

6.4.3 

6.4.4 



Message Data Bytes 
Parameter Definition 
Message Example 

Service $03 - Request Emission-Related Diagnostic Trouble Codes ■ 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $04 - Clear/Reset Emission-Related Diagnostic Information 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $05 - Request Oxygen Sensor Monitoring Test Results 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example .'..'-' 

Service $06 - Request On-Board Monitoring Test Results for Specific 

Monitored Systems 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $07 - Request Emission-Related Diagnostic Trouble Codes 

Detected During Current or Last Completed Driving Cycle 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $08 - Request Control of On-Board System, Test or Component 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $09 - Request Vehicle Information 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Diagnostic Service Definition for ISO 15765-4 

Service $01 - Request Current Powertrain Diagnostic Data 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $02 - Request Powertrain Freeze Frame Data 

Functional Description 

Message Data Bytes 

Parameter Definition 

Message Example . . . . 

Service $03 - Request Emission-Related Diagnostic Trouble Codes 

Functional Description - - - - 

Message Data Bytes 

Parameter Definition 

Message Example 

Service $04 - Clear/Reset Emission-Related Diagnostic Information ; 

Functional Description 

Message Data Bytes 

Parameter Definition ; ! 

Message Example 



23.26 



6.5 Service $05 - Request Oxygen Sensor Monitoring Test Results 

6.6 Service $06 - Request On-Board Monitoring Test Results for Specific 
Monitored Systems 

6.6.1 Functional Description ' : 4 

6.6.2 Message Data Bytes • 

6.6.3 Parameter Definition 

6.6.4 Message Example 

6.7 Service $07 - Request Emission-Related Diagnostic Trouble Codes 
Detected During Current or Last Completed Driving Cycle 

6.7.1 Functional Description 

6.7.2 Message Data Bytes 

6.7.3 Parameter Definition 

6.7.4 Message Example 

6.8 Service $08 - Request Control of On-Board System, Test or Component 

6.8.1 Functional Description 

6.8.2 Message Data Bytes 

6.8.3 Parameter Definition 

6.8.4 Message Example 

6.9 Service $09 - Request Vehicle Information 

6.9.1 Functional Description 

6.9.2 Message Data Bytes 

6.9.3 Parameter Definition 

6.9.4 Message Example 

Appendix A(normative) PED (Parameter ID)/OBDMID (On-Board Monitor ID) / 
TID (Test ID)/INFOTYPE supported definition 

Appendix B(normative) PIDs (Parameter ID) for Service $01 and $02 Scaling and 
Definition 

Appendix C(normative) TIDs (Test ID) for Service $05 Sealing and Definition 

Appendix D(normative) OBDMTDs (On-Board Diagnostic Monitor ID) Defini- 
tion for Service $06 ; . : ■. , ' 

Appendix E(normative) Unit and Scaling ED definition for service $06 

E.l Unsigned Unit and Scaling Identifiers Definition 

E.2 Signed Unit and Scaling Identifiers Definition 

Appendix F(normative) TIDs (Test ED) for Service $08 Scaling and Definition 

Appendix G(normative) EMFOTYPEs for Service $09 Scaling and Definition 

1. Scope 

1.1 Purpose— This document supersedes SAE J1979 SEP1997, and is 
technically equivalent to ISO/DIS 15031-5:April 30, 2002. 

This SAE Recommended Practice is intended to satisfy the data reporting 
requirements of On-Board Diagnostic (OBD) regulations in the United States and 
Europe, and any other region that may adopt similar requirements in the future. 
This document specifies: 

a. Message formats for request and response messages, 

b. Timing requirements between request messages from external test 
equipment and response messages from vehicles, and between those 
messages and subsequent request messages, 

c. Behavior of both the vehicle and external test equipment if data is not 
available, 

d. A set of diagnostic services, with corresponding content of request and 
response messages, to satisfy OBD regulations, 

This document includes capabilities required to satisfy OBD requirements for 
multiple regions, /model years, engine types; and vehicle types. Those regulations 
are not yet final for some regions, and are expected to change in the future. This 
document makes no attempt to interpret the regulations and does not include 
applicability of the included diagnostic services and data parameters for various 
vehicle applications. The user of this document is responsible to verify the 
applicability of each section of this document for a specific vehicle, engine, 
model year and region. 



This document is based on the Open Systemslnterconnection (OSI):Basic Ref-; 
erence Model in accordance with ISO/TEC 7498 arid ISO/DEC 1073 1 which struc- 
tures eormnunication systems mfo seven layers as'shown m me M 

1.2 Differences from ISO Document^Theje are no technical differences 
between this document andlSO/DIS 15031-5:April30, 2002. 

NOTE— Both this document and the ISO 1503 1-5 document are intended to 
satisfy the requirements of OBD requirements in the United States 
and Europe, and any other region that may adopt similar require-- 
ments in the future. Those regulations change with time, and often 
.. . when a requirement is introduced in one region, it will. later also 

become a requirement in another region. The ISO task force 
responsible for ISO 15031-5 and the SAE task force work closely 
together to maintain consistency in diagnostic reporting require- 
ments in these two, documents, and to ensure usability of thesedocr 
uments for all regions. Theigoaljs to maintainjdentical technical 
content in the two documents, but this document may need to 
change if additional capabilities are required for the U.S. before the 
ISO document can be modified to include those changes. 
2. References ■ . 

2.1 Applicable Publications — The following publications form a part of 
this, specification to the extent specified herein. ;Unless otherwise indicated, the 
latest version of SAE publications shall apply. ■ , 

2.1.1, SAE PUBLICATIONS — Available from SAE, 400 Commonwealth Drive, 
Warrendale, PA 15096-00.01. 

SAE J1850: MAY2001 — Class B Data Communications Network Interface, 
SAE J1930— Electrical/Electronic Systems Diagnostic, Terms^ Definitions, 

Abbreviations, and Acronyms - Equivalent toJSO/TR 15031-2: 

April 30, 2002 
SAE J1978— OBD H Scan Tool - Equivalent to ISO/DIS 15031-4:December 

14, 2001 
SAE J2012 — Diagnostic Trouble Code Definitions - Equivalent -to ISO/DIS; 

15031-6:April30,2002 
2.1.2 ISO Documents— Available from ANSI, 25 West 43rd Street, New 
York, NY 10036-8002. 

ISO 9141-2: 1994 — Road vehicles - Diagnostic systems, - Part 2: CARB 

requirements for interchange of digital information 1 
ISO 9141-2: 1994/ Amd.l:1996— Road vehicles - Diagnostic systems - Part 2: 

CARB requirements for interchange of digital information 

Amendment 1 ■■-.■■.' < 

ISO 14230-4:2000— Road vehicles - Keyword protocol 2000 for diagnostic 

systems - Part 4: Requirements for emissionsrrelated systems 
ISO/DIS 15031-5: April 30, 2002— Road vehicles - Communication between 

vehicle and external test equipment , for. ; emissions-related 

diagnostics - Part 5:: Emissions related diagnostic: services 
ISO 15765-2 — Road vehicles- Diagnostics :on Controller Area Network 

(CAN) - Part 2: Network layer services- ,. . ■ 
ISO 15765-4 — Road vehicles - Diagnostics on Controller; Area Network 

(CAN) - Part 4: Requirements, for emissionsrrelated systems 

2.2 Related Publications — The following publications are provided for 
information purposes only and are not a required part of this specification. 

2.2.1 SAE Publication — Available from SAE, 400 Commonwealth Drive, 
Warrendale, PA 15096-0001. 

SAE J1962— Diagnostic Connector - Equivalent to ISO/DIS- 15031- 
3:December 14, 2001 - 

2.2.2 ISO DOCUMENT— Available from ANSI, 25 West 43rd Street, New York, 
NY 10036-8002. 

ISO 15031-1:2001 — Road vehicles - Communication between vehicleand 

external test equipment for emissions-related diagnostics - Part 
1 : General information ■ ' k 



TABLE 1— APPLICABILITY AND RELATIONSHIP BETWEEN DOCUMENTS 



Applicability 


OSI 7 layer 


Emissions-related' 
diagnostics 


Applicability 


OSI 7 layer 


Emissions-related^ 
diagnostics 1 


Seven layer according 
to 

ISO/IEC 7498 and 
ISO/IEC 10731 


Physical (layer 1) 


ISO 9141-2 


ISO 14230-1 


SAE J1 850 


" IS0 11898, 
ISO 15765-4 


Data link (layer 2) 


ISO 9141-2 


ISO 14230-2 


SAE J1850 


1SOT1898, 
ISO 15765,-4. 1 


Network (layer 3) 


— 


— 


— 


IS0 15765-2, ' 
ISO 15765-4 


Transport (layer 4) 


— 


... 


— 


-~ 


Session (layer 5) 


— 


- 


- 


ISO 15765-4, , 


Presentation (layer 6) 


-- 


— 


— 


— 


Application (layer 7) 


SAE J1 979/ 
ISO 15031-5 


SAE J 1979/ 
ISO 15031-5 


SAE J1 979/ 
ISO 15031-5 


SAE J1 979/ 
ISO 15031-5 



23.27 



value is intended to 



3. Term(s) and Definition(s) 

3.1 Absolute Throttle Position Sensor— This 

represent the throttle opening. 

NOTE— For systems where the output is proportional to the input voltage, 
this value is the percent of maximum input signal. For systems 
where the output is inversely proportional to the input voltage, this 
value is 100% minus the percent of maximum . input signal. 
Throttle position at idle will usually indicate greater than 0%, and 
throttle position at wide open throttle will usually indicate less than 
100%. 

3.2 Bank — Specific group of cylinders sharing a common control sensor, 
bank 1 always contains cylinder number 1, bank 2 is the opposite bank. 

NOTE— If there is only one bank, use bank #1 DTGs and the word bank 
may be omitted. With a single "bank" system utilising multiple 
sensors, use bank #1 DTCs identifying the sensors as #1, #2, #3 in 
order as they move further away from the cylinder(s). 

3.3 Base Fuel Schedule— The fuel calibration schedule programmed into 
the Powertrain Control Module or PROM when manufactured or when updated 
by some off-board source, prior to any learned on-board correction. 

3.4 Load — Typically Calculated Load Value for spark ignition engines, an 
indication of the current airflow divided by peak airflow; where peak airflow is 
corrected for altitude, if available. 

NOTE— Peak airflow is typically represented as the maximum theoretical 
airflow possible (a single number) or is calculated as a function of 
engine RPM. Either method is acceptable. Mass airflow and 
barometric pressure sensors are not required for this calculation. 
This definition provides a unit-less number, and provides the 
service technician with an indication of the percent engine capacity 
that is being used. 
For diesel applications, the calculated load value shall be determined by the 

ratio of current measured or calculated output torque to maximum output torque 

at current engine speed. 

3.5 Client — The function that is part of the tester and that makes use of the 
diagnostic services. A tester normally makes use of other functions such as data 
base management, specific interpretation, man-machine interface. 

3.6 Continuous Monitoring — Sampling at a rate no less than two samples 
per second. 

3.7 Convention (Cvt) — The convention column is integrated in each 
message table and marks each parameter included. 

NOTE — The following conventions are used: C = Conditional: the parame- 
ter marked "C" in a request/response message is present only under 
a condition specified in the bottom row of the message table. M = 
Mandatory: the parameter marked "M" in a request/response mes- 
sage table shall always be present. U = User optional: the parame- 
ter marked "U" in a request/response message table shall or shall 
not be supplied, depending on dynamic usage by the manufacturer. 
The convention recommends a mnemonic, which might be used for 
implementation. In no case is the specified mnemonic a mandatory 
requirement for any implementation. 

3.8 ECM— Engine Control Module 

3.9 ECU — Electronic Control Unit is a generic term for any electronic con- 
trol unit. 

3.10 FT — Fuel Trim, feedback adjustments to the base fuel schedule. 



NOTE — Short-term fuel trim refers to dynamic or insti ltaneous adjust- 
ments. Long-term fuel trim refers to much more gradual adjust- 
ments to the fuel calibration schedule than ihort-term trim 
adjustments. These long-term adjustments compensate for vehicle 
differences and gradual changes that occur over time. 

3.11 Negative Numbers 

.— signed binary - the most significant bit (MSB) of the binary number is 
used to indicate positive (0) / negative (1) 

— 2s complement - negative numbers are represented by complementing 
the binary number and then adding 1 

EXAMPLE -0.99 = 8001 hex = 1000 0000 0000 0001 binary 
= 0000 hex = 0000 0000 0000 0000 binary 

+0.99 = 7FFFhex = 0111 1111 1111 1111 binary 

NOTE (-0.99) + (+0.99) = 

3.12 Number — Is expressed by this symbol "#". 

3.13 P2, P3 Timing Parameter — Both parameters are application timing 
parameters for the ECU(s) and the external test equipment. 

3.14 PCM — Powertrain Control Module 

3.15 Server — A function that is part of an electronic control unit and that 
provides the diagnostic services. 

NOTE — This document differentiates between the Server (i.e., the function) 
and the electronic control unit so that this document remains inde- 
pendent from the implementation. 

3.16 Service — An information exchange initiated by a client (external test 
equipment) in order to require diagnostic information from a server (ECU) or/and 
to modify its behaviour for diagnostic purpose. 

NOTE — This is also the equivalent of test mode or mode. 

3.17 SI — Abbreviation for International System of Units. 

3.18 TCM— Transmission Control Module 
4. Technical Requirements 

4.1 Diagnostic Service, General Requirements — The requirements speci- 
fied in this section are necessary to ensure proper operation of both the external 
test equipment and the vehicle during diagnostic procedures. External test equip- 
ment, when using" messages specified, shall not affect normal operation of the 
emission control system. 

4.1.1 Multiple Responses to a Single Data REQUEST^-The request mes- 
sages are functional messages, which means the external test equipment will 
request data without knowledge of which ECU(s) on the vehicle will respond. In 
some vehicles, multiple ECUs may respond with the information requested. Any 
external test equipment requesting information shall, therefore, have provisions 
for receiving multiple responses. 

4.1.2 Application Timing Parameter Definition— The definition of P2 
and P3 is included in this section. A subscript is added to each timing parameter 
to identify the protocol: 

— P2 K . Line , P3 K . Line : P2, P3 for ISO 9141-2 and ISO 14230-4 protocols 

— P2 J1850 : P2 for SAE J1850 protocol 

— P2 CAN : P2 for ISO 15765-4 protocol 

4.1.2.1 Definition/or ISO 9141-2— -For ISO 9141-2 interfaces, Data Link 
Layer response time requirements are specified in ISO 9141-2. 

The table below specifies the application timing parameter values for P2 and 
P3. 



TABLE 2— DEFINITION OF ISO 9141-2 APPLICATION TIMING PARAMETER VALUES 



Parameter 



P2 K-Une 

Key Bytes: 

$08 $08 

One or more 

ECU(s) 



P2 K-Line 

Key Bytes: 

$94 $94 

Only one 

ECU 



P3 K . 



Minimum 
value (ms) 



55 



Maximum value 
(ms) 



50 



5000 



Description 



Time between external test equipment request message and the successful transmission of the ECU(s) response 
message(s). Each OBD ECU shall start sending its response message within P2 K . Un8 after the request message has 
been correctly received. Subsequent response messages shall also be transmitted within P2 K . Li „ B of the previous 
response message: for multiple message responses. 



Time between external test equipment request message and the successful transmission of the ECU response 
message(s). The OBD ECU shall start sending its response message within'P2 K _ L , n6 after the request message has 
been correctly received. Subsequent response messages shall also be transmitted within P2 K . Line of the previous 
response message for multiple message responses. 



Time between the end of an ECU(s) successful transmission of response message(s) and start of new external test 
equipment request message. The external test equipment may send a new request message if all response messages 
related to the previously sent request message have been received and if P3 K . LinB minimum time expired. 



23.28 



4.1,2.2. Definition for ISO 14230-4— For ISO 14230-4 interfaces, Data Link 
Layer response time requirements are specified in ISO 14230^4 



The table below specifies the application timing parameter values for P2 and 



P3. 



TABLE 3— DEFINITION OF ISO 14230-4 APPLICATION TIMING PARAMETER VALUES 



Parameter 


Minimum 
value (ms) 


Maximum 
value (ms) 


Description 


P2 K-Line 


25 


50 


Time between; external test equipment requestmessageandthe successful transmission of the ECU(s) response message(s). Each OBD 
ECU shall start sending its response message within P2 K ^ Un9 after the request message has been correctly received. Subsequent 
response messages shall also be transmitted within P2 K .u ne of the previous response message for multiple message responses. 


P3K-Un8 


. 55 


5000 


Time between the end of an ECU(s) successful transmission of response message(s) andstart of new external, test equipment request 
message. The external test equipment may send a new request message if all response, messages related to. the previously sent request 
message have been received and if P3 K . Une minimum time expired. ' ' •■".■■ . ■ ■ 



4.1.2.3 Definition for SAE J1850— For SAE J1850 network interfaces, the 
on-board systems shall respond to a request within Kj.^n' of a request or a previ- 
ous response message. With multiple response messages possible from a single 
request message, this allows as much time as is necessary for all ECUs to access 
the data link and transmit their response message(s). If there is no response mes- 
sage within this time period, the external test equipment can either assume no 



response message will be received, or if a response message has already been 
received, that no more response messages will be received. The application timing 
parameter value PSjigsg is specified in the table below. 



TABLE 4-^DEFINITION OF SAE J1 850 APPLICATION TIMING PARAMETER VALUES 



Parameter 


Minimum value 
(ms) 


Maximum 
value (ms) 


Description , . 


P2 J1850 





too 


Time betWeen external test equipment request message and the successful transmission of the ECU(s) response 
message(s). Each OBD ECU shall attempt*) send its response message (or at least the firstof multiple response messages) 
within P2ji B50 afterjthe request message, has been correctly received.. Subsequent response ^messages shall: also be ; 
transmitted within. P2 J1850 of the previous response message for multiple message responses. 



4.1.2.4 Definition for ISO 15765-4— -For CAN bus systems based on ISO 
15765-4, the (all), responding-ECU(s) of the pn-board; system shall .respond to a 



request message within P2 CAN . The table below specifies the application timing 
parameter values for P2. 



TABLE 5— DEFINITION OF ISO 15765-4 APPLICATION TIMING PARAMETER VALUES 



Parameter 


Minimum 
value (ms) 


Maximum 
value (ms) 


■ ' Description 


P2 CAN 





50 


Time between external; test equipment request message and the receipt of all unsegmented response messages and all first frames of segmented 
response message(s). Each OBD ECU shalf start sending its response message within P2 CAN after the request message has been correctly received. 


P2*CAN 





5000 


Timebetween the successful reception of a negative response message with response code $78 and the next respo.nse message (positive or negative 
message). . .. . .. 



4.1.3 Minimum Time Between Requests from External Test Equipment 
4.1.3.1 ISO 9141-2, ISO 14230-4 - Minimum Time Between Requests from 
External Test Equipment— For ISO 9141-2 (K-Line) interfaces, the required times 
between request messages are specified in the ISO 9141-2. 



For ISO 14230-4 (K-Line) interfaces, the required times between request 
messages are specified in the ISO 14230-4. 

The figure below shows an example of a request message followed by four 
(4) response messages and another request message. 



Start P2 and P3 

P2,3K-Line- 

29 5° 55 

1 I I I 



Start P2 and P3 

-> ^P2,3K-Une- 



.,4000 5000 

r-i r- 



D 25 50 55 
I I I I 



A 



Start P2 and P3 

— P2/3 K .Un ? - 

25 50 55 

L I I. i — 



A 



Start P2 and P3 | j 

-"► ; — P2,3K : Line— 



Start P2 and P3 
"► — :P2,3K-Llne- 



,. 1000 5000 25 SO 55 



I 1 1 I 



..' 4000 5Q00 25 'SO 1 55 

H — i- i i II 



h 4000 5000 

H — (-. 



AA 



| Request 



AA 



A A Start of 



next request 



Request 



-►t 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 



Response 



Response 



| Response 



Response 



FIGURE 1— ISO 9141-2 (KEY BYTES: $08 $08) AND ISO 14230-4 
APPLICATION TIMING PARAMETER OVERVIEW 



23.29 



4.1.3.2 SAE J 1850 - Minimum Tme Between Requests from External Test 
Equipment— -For SAE J1850 network interfaces, an external test equipment shall 
always wait for a response message from the previous request, or "no response" 
time-out before sending another request message. If the number of response mes- 
sages is known and all response messages have been received then the external 



test equipment is permitted to send the next request message immediately. If the 
number of response messages is not known then the external test equipment shall 
wait at least P2j 185u maximum time. 

The figure below shows an example of a request message followed by four 
(4) response messages and another request message. 




P2J1850- 



> ECU #1 



I ECU #2 



OBD ECU #3 



Start P2 
► — P2J1850- 



« 


i 


% 


f 


i 




■ 


■ 


i 


r 


*• 


i 


i 


i 


i 


i 



u 



Start of next request 
If number of 



A 



Next Request 



Start of next request 
if number of 
responses 
Is not known 



Next Request 



->t 



Response 



FIGURE 2— SAE J1850 APPLICATION TIMING PARAMETER OVERVIEW 



4.1.3.3 ISO 15765-4 - Minimum Time Between Requests from External Test 
Equipment— For ISO 15765-4 network interfaces, the external test equipment 
may send a new request message immediately after it has determined that all 
responses related to the previously sent request message have been received. If the 
external test equipment does not know whether it has received all response mes- 
sages (e.g., after sending the initial OBD request message: Service $01, PID $00) 



it shall wait (P2 CAN maximum) after the last request (if no responses are sent) or 
the last response message. The timer P2 CAN of the external test equipment starts 
with the confirmation of a successful transmission of the request message. 

The figure below shows an example of a request message followed by three 
(3) single frame response messages and another request message. 



StartP2 



£ 
a 
'5 
o 1 
ui 

(» 



n 

c 

u 
0) 

■s 

ui 



P2CAN- 



Confirmation » 



SF Indication 
response 



Request 



A 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 



Single Frame 
Response 



SF indication * 
response / \ 



SF Indication 
response 



AA 



Start of 
Next Request 



-""A 



Start of 
Next Request 



Next Request 

if # of ECUs 

is known 



Next Request if # of 
ECUs is not known 



-M 



Single Frame 
Response 



Single Frame 
Response 



FIGURE 3— ISO 15765-4 APPLICATION TIMING PARAMETER 
(SINGLE FRAME RESPONSE MESSAGES) OVERVIEW 



The figure below shows an example of a request message followed by two 
(2) single frames, one (1) multiple frame response message and another request 
message. The next request message can be sent immediately by the external test 



equipment after completion, of all response messages; in case the transmission of 
the response messages takes longer than P2 CAN even if the external test equip- 
ment does not know the number of responding ECUs. 



23.30 



-P2CAN- 



Confirmarion A 



A 



Request 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 



FF Indication 
response #1 



A 



SF Indication 
response #2 



4 



SF Indication 
response #3 



End Indication 
response #1 



AA 



Start of 
Next Request 



Next Request 



-M 



Multiple Frame Response 



Single Frame 
Response 



Single Frame 
Response 



FIGURE 4— ISO 15765-4 APPLICATION TIMING PARAMETER (SINGLE AND MULTIPLE 
_ ERAMERESPONSE MESSAGES NOT-FINISHED WITHIN- P2 CAN ) OVERVIEW 



NOTE — The Network Layer timing parameters for the' multiple frame 
response are not shown. Network Layer timing requirements for 
legislated diagnostic messages are specified in ISO 15765-4. 

The figure below shows an example of a request message followed by one 
(1) single frame, one (1) multiple frame response message (completion within 



P^can) and another request message. The next request message can be sent 
immediately by the external test equipment after completion of all response mes- 
sages if the external test equipment knows the number of responding ECUs. If 
not, it needs to wait with the next request message to send until P2can * s expired. 



E 
a 



-P2CAN- 



.+■ 
Confirmation A 



A A 



FF Indication 
respohse'#1 



Request 



SF Indication a End Indication A a Start of 

response #2^ response #1 A A Nexl Request 



A Start of 
Next Request 



Next Request 

if_# of ECUs 

is known 



Next-Request if # of 
ECUs is not known 



"►t 



OBD ECU #1 



OBD ECU #2 



Multiple Frame. Response 



Single Frame 
Response 



FIGURES— ISO 15765-4 APPLICATION TIMING PARAMETER (SINGLE AND 
MULTIPLE ; FRAME RESPONSE MESSAGES WITHIN P2 CAN ) OVERVIEW 



NOTE — The Network -Layer timing parameters for "the multiple frame 
response are not shown. Network Layer timin g requirements for 
■' " legislated diagnostic messages are specified in ISO 15765-4. 



4.1.3.4 ISO 15765-4 - ECU Behaviour to a Request for Supported/Non Sup- 
ported OBD Information— -The figure below shows an example of a typical vehi- 
cle OBD configuration. 



A = External test equipment; B = ECM-(Engine Control-Module); C = TCM (Transmission Control Module) 
FIGURE 6^EXTEBN^TEST EQUIPMENT CONNECTED TO TWO,® OBD ECUS 



NOTE — A service shall only be implemented by an ECU if supported with 
data' (e.g., PTD/OBD MonitorlDyTest ID/InfoType supported). 

Typically the ECM supports OBD Monitor IDs which'the TCM does not 
support. In case the external test equipment requests the status of such OBD Mon- 
itor BD supported by the ECM, the ECM sends a positive response message and 
the TCM does not send a response message (no negative response message 



allowed). The external test equipment knows that the TCM will not send a posi- 
tive response message based on the OBD Monitor ID supported information 
retrieved prior to the latter request. 

This shall be implemented to enhance the overall diagnostic communication 
performance between the external test equipment and the vehicle ECUs (see Sec- 
tion 4.1.3.3). 



4.1.4 Data Not Available 

4.1.4.1 ISO 9141-2, ISO 14230-4, and SAE J1850 - Data Not Available— 
There are two conditions for which data is not available. One condition is 

that the service is not supported, and the other is that the service is supported but 
data is currently not available. 

For SAE J1850 and ISO 9141-2 interfaces, there will be no reject message 
to a functional request message if the request is not supported by the ECU: This 
prevents response messages from all ECUs that do not support a service or a spe- 
cific data value. 

For ISO 14230-4 interfaces, there will be a response message to every 
request message either positive (with data) or negative. In order to avoid unneces- 
sary communication the ECU(s) which does (do) not support a functionally 
requested PID, TID, or INFOTYPE is permitted to not send a negative response 
message because another ECU will send a positive response message. Format and 
possible codes of negative responses are specified in Section 4.2.4. 

Some services are supported by a vehicle, but data may not always be avail- 
able when requested. For services $05 and $06, if the test has not been run since 
test results were cleared, or for service $02 if freeze frame data has not been 
stored, or for service $09 if the engine is running, valid data will not be available. 
For these conditions, the manufacturer has the option either to not respond or to 
respond with data that is Invalid (ISO 9141-2 and SAE J1850 only). The func- 
tional description for these services discuss the method to determine if the data is 
valid. 

4.1.4.2 ISO 15765-4 -Data Not Available— There are four (4) conditions 
for which data is not available: 

a. Request message is not supported: The ECU(s) which does (do) not sup- 
port the functional request message shall not send any response message. 

b. Request message is supported but data is not supported: The ECU(s) 
which does (do) support the functional request message but does (do) not 
support the requested data (e.g., PID, OBD Monitor ID, TID, or INFO- 
TYPE) is (are) not allowed to send a negative response message because 
another ECU will send a positive response message. If the external test 
equipment sends a message including multiple PIDs and each emission- 
related ECU does not support all requested PIDs then each ECU shall 
send a positive response message including the supported PID(s) and 
data values and shall not send a negative response message. If an ECU 
does not support any of the PIDs requested it is not allowed to send a 
negative response message. 



23.31 

c. Request message is supported but data is currently not available: The 
ECU(s) which does (do) support the functional request message but does 
(do) not currently have the requested data available shall respond with a 
negative response message with response code $22 - ConditionsNotCor- 
rect (negative response message format is specified in Section 4.2.3). For 
service $06 the use of a negative response message including response 
code $22 is not permitted. For services $04 and $09 the use of negative 
response code $22 is allowed only during conditions specified by OBD 
regulations. 

d. ECU(s) and the external test equipment is specified in Section 4.1.4.3. 

4.1.4.3 Data Not Available Within P2Tming— The following sections spec- 
ify the request/response message handling for each protocol if the data is not 
available within the P2 timing in the ECU(s). 

4.1.4.3.1 ISO 9141-2 -Data not available within P2 timing — The following 
description only applies to service $09, InfoType $06 Calibration Verification 
Numbers. 

The ECU(s) which does (do) support the functional request message but does 
(do) not have the requested data available within P2 timing, a retry request mes- 
sage handling shall be performed as follows: 

a. If the response message is not received within P2 K _ L!ne , the external test 
equipment shall stop retrying the request message after one (1) minute from 
the original request. 

b. The retry message shall be sent at least every four (4) seconds (between 55 
ms and 4000 ms). The retry message keeps the bus alive and prevents the 
external test equipment from having to re-initialise the bus (P3 K . Line time 
out). 

c. The ECUs, which either have already sent a positive response message or 
have not sent a positive response message shall not restart the requested 
internal routine again. 

d. The external test equipment shall record if all ECUs have sent the expected 
number of response messages. 

e. After successful completion of all response messages, the external test 
equipment is required to send a request message which is "not equal" to the 
"Repeated Request" message. 

Additional description is included in the functional description of the corre- 
sponding service. 



Start P2 and P3 



Slart P2 and P3 



— P2,3K-u« ► 

> u as n aooo son 

i-M f-f—}- 




-P2,3K-Uns- 



OBD ECU #2 



FIGURE 7— ISO 9141-2 (KEY BYTES: $08 $08) - DATA NOT AVAILABLE 
WITHIN P2 TIMING HANDLING OVERVIEW 



#*DQ0 SOW 

f\ Start of 
y next request 



Next Request 

Not Equal 

Request Repeated 



->t 



NOTE— For ISO 9141-2 with key bytes $94 $94 the response message timing 
P2 K-Line sna U be according to table "Definition of ISO 9141-2 appli- 
cation timing parameter values". 
4.1.4.3.2 ISO 14230-4 - Data Not Available Within P2 Timing— The ECU(s) 
which does (do) support the functional request message but does (do) not have the 
requested data available within P2 timing, shall perform the following handling: 
a. The ECU(s) shall respond with a negative response message with response 
code 
$78 - RequestCorrectlyReceived-ResponsePending within P2 timing. 



ECUs which require more time than P2 K . Line to perform the requested 
action shall repeat the negative response message with response code $78 
prior to expiration of P2 K _Line unti l me positive response message is avail- 
able. 

After all positive response messages have been received or a time out 
P2 K-Line max has occurred the external test equipment shall wait until P3 K . 
Line™ 11 - is reached to send a new request message. 



23.32 



Start; P2 and P3 



Start P2 and P3 



-P2,3K-Line- 



5000 



Start P2and P3 



Start P2 and P3 



o is so 
■i 1 1~ 



4 4 



+ 



4 4 

"P2,3K-Line— 



StartiP2 and P3 



25 50 

H — H V- 



-f-P2,3K-L!n. 



Confirmation 



A A 



Request 



5000 



! 

sow i 

T' 

i I 

1 ■ 
i ! 
I i 

N 

i ■ 

i i 

i . L 



Start P2 and P3 



25 - 50 ' 
■i 1 h" 

4 4 

■^P2,3K-Line- 



25 50 55 

H — I 1-1 

A .A 

P2,3K-Une- 



-P2,3K-Line- 



5000 

-H- 



44 



H- 



. Start of 
next request 



50M 

— f 



Request 



-M 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 



RC78Pending 
iCouriter - 



Neg. Response 
withRC=$78 



Positive 
Response 



Neg. Response 
withRC=$78 



Positive 
Response 



Positive 
Response 



+1=1 



+1=2 



no change 



-1=1 



-1=0 



RC78Pending 
ECUList 



ECU#1 



ECU#1 
ECU#2 



no change 



ECUtf t 
ECU#2 



ECUffl 
ECUff2 



P2ReIoad 
Value in ms 



5000 



5000 



50 



.. no change no change 

FIGURE 8— ISO 14230-4 - NEGATIVE RESPONSE CODE'RC=$78 HANDLING OVERVIEW 



4.1.4.3.3 SAE J1850- Data Not Available Within P2 Timing— The ECU(s) 

which does (do) support the functional request message but does (do) not have the 

requested data available within P2 timing, aretty request message handling shall 

be performed as follows: 

a. If the response message is not received within P2jig5o, the external test 

equipment shall stop retrying the request message after one (1) minute from 

the original request. 



b. Theretry message shall be repeated after thirty (30 ±1) seconds. 

c. The external test equipment shall record if all ECUs have sent the expected 
number of response messages. 

Additional description is included in the functional description of the corre- 
sponding service. 



A 



Request 



-P 2.11850- 




. External Test 

Equipment 

repeats 

request 



A AA AA A 



Repeated 
Request 



A 



-P2-I1B50- 



* 



A 



Start of 
next request 



A 



Next Request 

Not Equal 

Request Repeated 



-M 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 



Positive 
Response 



Positive 
Response 



Positive 
Response 



FIGURE 9— SAE J1850 - DATA NOT AVAILABLE WITHIN P2 TIMING HANDLING OVERVIEW 



23.33 



.4.1.4.3.4 ISO 15765-4 -Data Not Available Within P2 Timing— The ECU(s) 
which does (do) support the functional request message but does (do) not have the 
requested data available within P2 timing, shall perform the following handling: 
a. The ECU(s) shall respond with a negative response message with response 
code $78 - RequestCorrectlyReceived-ResponsePending within P2 timing. 
After correct reception of the negative response message with response code 
$78 the P2 CAN max parameter timing value shall be set to P2* CAN 
(5000 ms) by the external test equipment and the ECU which has sent the 
negative response message. 

If another ECU also sends a negative response message with response code 
$78 the P2 CAN max timing parameter value shall be reset to P2* CAN 



b. 



d. ECUs which require more than P2* CAN to perform the requested action 
shall repeat the negative response message with response code $78 prior to 
expiration of P2* CAN until correct reception of the positive response mes- 
sage. 

e. After all positive response messages have been received or time out 
P2* CAN max has occurred the P2 CAN max timing parameter shall be reset to 
the values specified in table - Definition of ISO 15765-4 application timing 
parameter values. 

The figure below shows the negative response message handling with response 
code $78 for the ISO 15765-4 interface. 



-P2CAN- 



-P2CAN- 



B 
a. 
'5 
m 



Start P2* 



-P2CAN- 



Start of next request 



Start P2 



A 



Start of next request 



-P2CAN- 



tA 



Confirmation 



Request 



End 
response 



se#lA 



OBD ECU #1 



OBD ECU #2 



OBD ECU #3 

RC78Pending 
Counter 



Neg. Response 
with RC=$78 



End of 
response #2 



4 4 



FF Indication 



Neg. Response 
with RC=$78 



Positive 
Response 



End of 
response #4 

End of 
response #3 J 



End 
response 



of A 

setts LA 



Multiple Frame 
Positive Response 



Positive 
Response 



I Next Request j 
! # of ECUs known • 



Next Request # of 
ECUs not known 



->t 



+1=1 



+1=2 no change -1=1 



-1=0 



RC78Pending 
ECUList 



ECU#1 



ECU#1 ECUftt 

ECU#2 n° change ECU#2 



ECU #1 
ECU #2 



P2Reload 
Value in ms 



50 ' 50on 5000 no change no change 50 

FIGURE 10— ISO 15765-4 - NEGATIVE RESPONSE CODE RC=$78 HANDLING OVERVIEW 



4.1.5 Maximum Values — If the data value exceeds the maximum value possi- 
We t0 be sent ' me on-board system shall send the maximum value possible ($FF 
or $FFEF). The external test equipment shall display the maximum value or an 
indication of data too high. This is not normally critical for real time diagnostics,, 
but for example in the case of a misfire at high vehicle speed with resulting freeze 
frame data stored, this will be very valuable diagnostic information. 
4.2 Diagnostic Message Format 

4.2.1 Addressing Method— Functional addressing shall be used for all 
request messages because the external test equipment does not know which sys- 
tem on the vehicle has the information that is needed. 

4.2.2 Maximum Message Length 

4.2.2.1 ISO 9141-2, ISO 14230-4, SAE J1850 -Maximum Message 
Length— -The maximum message length for request and response messages is lim- 
ited to seven (7) data bytes. 

For SAE J1850 and ISO 9141-2 interfaces each unique diagnostic message 
specified in this document is a fixed length, although not all messages are the 



same length. For services $01 and $02, message length is determined by parame- 
ter identification (PID). For service $05, message length is determined by Test ID. 
For other services, the message length is determined by the service. This enables 
the external test equipment to check for proper message length, and to recognise 
the end of the message without waiting for possible additional data bytes. For ISO 
14230-4 interfaces, the message length is always determined by the length infor- 
mation included in the first byte of the header. 

4.2.2.2 ISO 15765-4 - Maximum Message Length— The maximum message 
length is specified in ISO 15765-2. For request messages the message length is 
limited to seven (7) data bytes. 
4.2.3 Request/Response Message Format 

4.2.3.1 ISO 9141-2, ISO 14230-4, SAE 11 850, ISO 15765-4 -Request Mes- 
sage Format— The following table specifies the format of the request message. 



TABLE 6— REQUEST MESSAGE FORMAT FOR ISO 9141-2, ISO 14230-4, SAE J1850, ISO 15765-4 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request Service Identifier 


M 


XX 


SIDRQ 


#2 


service specific data byte#1 


U 


XX 




#3 


service specific data byte#2 


U 


XX 





#4 


service specific data byte#3 


U 


XX 


: _-2 ' 


#5 


service specific data byte#4 


U 


XX 




#6 


service specific data byte#5 


U 


XX 


_._ 


#7 


service specific data byteff 6 


u 


XX 


- 



23.34 



The message format defined for some services for the ISO 157.65-4 protocol 
allows for an optional number of data bytes in the request message, sent by the 
external test equipment. If these are included in ithe request messagev; support of 
those optional data bytes becomes mandatory for the server/ECU. 



[4.2.3.2 ISO 9141-2, ISO 14230-4; SAE J1850 - Positive Response Message 
Format— The following table specifies ;the format of the positive response mes- 



TABLE 7— POSITIVE RESPONSE MESSAGE FORMAT 
FOR ISO 9141-2, ISO 14230-4, SAE J18S0 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Positive Response Service Identifier 


M 


XX 


SIDPR 


#2 
#3 
#4 
#5 
#6 
#7 


service specific data byte#1 
service specific data byte#2 
service specific data byte#3 
service specific data byte#4 :■ 
service specific.:data-byte#5 
service specific data byte#6 


U 
U 
U 
U 
U 
U 


XX 
XX 
XX 
XX 
XX 
XX 


— 



4.2.3.3 ISO 15765-4 - Positive Response Message Format— -The following 
table specifies the format of the positive response message. 



TABLE 8— POSITIVE RESPONSE MESSAGE FORMAT FOR ISO 15765-4 



Data Byte 


ParameterName 


Cvt 


Hex Value 


Mnemonic 


#1 


Positive Response Service Identifier 


M 


XX 


SIDPR 


#2 
#3 
#4 

J #n-2 ." 

#n-1 
3m 


service specific data byte#1 
service specific data byte#2 
service specific data byte#3 

service specific data byte#mr2 

service specific data byte#m-1 ; 

servicespecific data byte#m: 


U 

-u 
u 

u 

vU 

u " 


XX 
XX 
XX 

XX 
XX 
XX 


' 


n: this value depends on the response message length 
m: this value depends on the response message length - 1 



4.2.3.4 ISO 14230-4, ISO 15765-4 - Negative Response Message Format— 
This section includes additions, exceptions, and/or restrictions for the ISO 
standards which apply. 



The following table specifies the format of the negative response message. 



TABLE 9— NEGATIVE RESPONSE MESSAGE FORMAT FOR IS0 14230-4, ISO 15765-4 



. - Data Byte- - 


~ . Parameter-Name - - - 


... Cvt 


Hex Value 


-Mnemonic 


#1 


Negative Response Servicetdentifier 


."■ M-.. 


7F 


SIDNR 


#2 


Request Service Identifier 


M 


XX 


SIDRQ 


#3 


ResponseCode 


NT' 


XX 


RC_ i 



4.2.4 Response Code Parameter Definition — Response codes shall be 
implemented in 'an ECU whieir supports a service(s) not having valid' data' avail- 



able at the time of a request or can not respond with valid data available within 
P2 K-Line and P2 CAN tinting. 



-TABLE lo-NEGATIVE RESPONSE CODE DEFINITION 



Supported by 
ISO 


Hex . 
Value 


Definition of Response Code .,. 


,.. ^Mnemonic , 


14230-4 


10 


generalRejecf- - ' ; - .. - -- .;- 
This response code indicates that the service is rejected But the server (ECO) does not specify the reason of the rejection. 


" M --'-GR- 


14230-4 


11 


serviceNotSupported 

This response code indicates that the requested action will not be taken because the server (ECU) does not support the requested service.. 


SNS 


14230-4 


12 


subFunctibnNotSupported-lhvalidFormat 

This response code indicates that the requested action will not be taken because the server (ECU) does not support the arguments of the request 
message or the format of the argument bytes do not match the prescribed format for the specified service. 


SFNSIF 


14230-4 
15765-4 


21 


busy-RepeatRequest 

This response code indicates that the server (ECU) is temporarily too busy to perform the requested operation. For ISO 15765-4 protocol the client 
(external test equipment) shall behave as defined in ISO 15765-4. In a multkclient (more thanone external test equipment, e.g., telematic client) 
environment the diagnostic request message of one client might be blocked temporarily by a negative response message with response code $21 while 
another client finishes a- diagnostic task. Therefore this negative response code is only allowed to be used during the initialisation sequence of the 
protocol. .. ; -'"■ • . . .-'--' , '-,.o 
NOTE If the server (ECU) is able to perform the diagnostic task but needs additional time to finish the task and prepares the response message, the 
negative response message with response code $78 shall be used instead of $21 . 


BRR 


14230-4 
15765-4 


22 


conditionsNotCorrectOrRequestSequenceError 

This response code indicates that the requested action will not be taken because the server (ECU) prerequisite, conditions are not met. This request may 
also occur when sequence sensitive requests :are issued in the wrong order. ,. - 


CNCORSE 


14230-4 
15765-4 


78 


requestCorrectlyReceived-ResponsePending 

This response code indicates that the request message was received correctly, arid that any parameters in the request message were Valid, but the 
action to be performed may not be completed yet. This response code can be used to indicate that the request message was properly received and 
does not need to be re-transmitted, but the server (ECU) is not yet ready to receive another request. The negative response message with this response 
code may be repeated by the ECU(s) within P2 K . Une = P2qan = p 2* max until the positive response message with the requested data is available. 


RCR-RP 



23.35 



4.2.5 Header Byte Definition of ISO 9141-2, ISO 14230-4, and SAE 
J1850 — The first three (3) bytes of all diagnostic messages are the header bytes. 

For SAE J1850 and ISO 9141-2 interfaces the value of the first header byte is 
dependant on the bit rate of the data link and the type of message, refer to SAE 
J1850 and ISO 9141-2. The second header byte has a value that depends on the- 
type of message, either a request or a response. 

For ISO 14230-4 interfaces, the value of the first header byte indicates the 
addressing mode (physical/functional) and the length of the data field. The second 
header byte is the address of the receiver of the message. The third header byte for 



all interfaces is the physical address of the sender of the message. The external 
test equipment has the address $F1. Other service tools shall use addresses in the 
range from $F0 to $FD. The response to all request messages will be independent 
of the address of the external test equipment requesting the information. Vehicle 
manufacturers shall not use the header bytes defined in SAE J 1979 for any pur- 
pose other than diagnostic messages. When they are used, they shall conform to 
this specification. 



TABLE 11— DIAGNOSTIC MESSAGE FORMAT FOR ISO 9141-2, ISO 14230-4, SAE J1850 



Header bytes (Hex) 



Priority/Type 



Target address (hex) 



Source address (hex) 



Data bytes 



#3 



#5 



Diagnostic request at 10.4 kbit/s: SAE J1850 and ISO 9141-2 



68 



Maximum 7 data bytes 



Diagnostic response at 10.4 kbit/s: SAE J1850 and ISO 9141-2 



Yes 



No 



ECU addr 



Maximum 7 data bytes 



Diagnostic request at 10.4 kbit/s (ISO 14230-4) 



Yes 



ULLLLLLb 



33 



Diagnostic response at 10.4 kbit/s (ISO 14230-4) 



10LL LLLLb 



Maximum 7 data bytes 



No 



F1 



addr 



Maximum 7 data bytes 



Diagnostic request at 41.6 kbit/s (SAE J1850) 



No 



6A 



Maximum 7 data bytes 



Diagnostic response at 41 .6 kbit/s (SAE J1 850) 



Yes 



Yes 



addr 



Maximum 7 data bytes 



Yes 



NOTE— LL LLLL = Length of data bytes; RSP = In-frame response;.ERR = 
Error Detection 

4.2.6 Header Byte Definition of ISO 15765-4— Each CAN frame is identi- 
fied by a CAN Identifier. The size of the identifier is either 1 1 bit or 29 bit. The 
CAN identifier shall always be followed by an eight (8) byte CAN frame data 
field (refer to ISO 15765-4 Road vehicles - Diagnostics on Controller Area Net- 



work (CAN) - Part 4: Requirements for emissions-related systems; see section 
"Data length code (DLC)"). Depending on the message type, up to three (3) bytes 
(FlowControl) are used for the PCI (Protocol Control Information) prior to the 
Service Identifier (only included in single frame or first frame) and data bytes of 
the message. 



TABLE 12— DIAGNOSTIC MESSAGE FORMAT FOR ISO 15765-4 



Header bytes 



CAN Identifier (11 or 29 bit) 



CAN frame data field 



#1 



#2 



#3 



4.2.7 Data Bytes Definition of ISO 9141-2, ISO 14230-4, SAE J1850, and 
ISO 15765-4— For the ISO 9141-2, ISO 14230-4, and the SAE J1850 protocol 
the first data byte following the header is the diagnostic service identifier, and the 
remaining data bytes vary depending on the specific diagnostic service. For the 
ISO 15765-4 protocol the first data byte following the CAN Identifier in a single 
frame and first frame is the PCI (Protocol Control Information, number of bytes 
varies, depending on frame type), then diagnostic service identifier, and the. 
remaining data bytes vary depending on the specific diagnostic service. 

4.2.8 Non-Data Bytes Included in Diagnostic Messages with SAE 
J1850— All diagnostic messages will use a cyclic redundancy check (CRC) as in 
SAE J1850 as the error detection (ERR) byte. In-frame response (RSP) is speci- 
fied as optional in SAE J1850. For messages specified in this document, the RSP 
byte is required in all request and response messages at 41.6 kbit/s, and is not 
allowed for messages at 10.4 kbit/s. The in-frame response byte shall be the node 
address of the device transmitting the RSP. SAE J1850 specifies additional mes- 
sage elements that may be included in diagnostic messages. Use of these message 
elements is beyond the scope of this document, but needs to be considered when 
specifying total diagnostic messages. 

4.2.9 Non-Data Bytes Included in Diagnostic Messages with ISO 
9141-2 and ISO 14230-4 — Messages will include a checksum, specified in ISO 
9141-2 and ISO 14230-4, after the data bytes as the error detection byte (ERR). 
There is no provision for an in-frame response. 



4.2.10 Bit Position Convention — Some data byte values include descrip- 
tions that are based on bit positions within the byte. The convention used is that 
the most significant bit (MSB) is referred to as "bit 7," and the least significant bit 
(LSB) is referred to as "bit 0," as shown in the figure below. 



MSB 




LSB 


7 


6 


5 


4 


3 


2 


1 






FIGURE 11— BIT POSITION WITHIN A DATA BYTE 

4.3 Allowance for Expansion and Enhanced Diagnostic Services — This 
document allows for the addition of diagnostic services both as industry standards 
and manufacturer specific services. The diagnostic services $00 through $0F are 
reserved - to be specified by SAE and/or ISO. 

4.4 Definition of PBDs for Service $01 and $02— All PIDs are defined in 
Appendix B. 

4.5 Format of Data to be Displayed— The table below indicates the type 
of data and minimum requirements for format of the display. 



23.36 



TABLE 13^F0RMAT OF DATA TO BE DISPLAYED 



'Data. 


Services 


- ;'■..". Display 'Format 


: . Device ID -source address of response- 


all 


ISO9141-2:Hexadecimal(00toFE) - - 
,ISO14230-4:Hexadecimal(00to.FI=) 
"SAE J1850:Hexadeclmal (00 to FF) 
; ISO 15765-4:Hexadecimar(U bit or29 bit CAN Identifier) 


Parameter ID (PID) 


$01 & $02 


Hexadecimal (00 to FF) description (see Appendix B) 


.Frame number 


.. . . - $02 


Decimal (0 to 255) . 


Data values 


$01 & $02 


See Appendix B 


p ' * • Diagnostic trduble'codes •"■ 


$03&$07 


"P"; "B", "C" or "U", plus 4 hexadecimal characters and/or DTC definition - see SAE ■ 
J2012 :.■•_■■.. _. .: 


Test ID - - - 


$05, $06 & $08 


Hexadecimal (00 to FF) . . - 


-- ■ Tesfvalue-and test limits — - 


$05 


Engineering units for Test IDs less than $80 (see Appendix C )- Decimal (0 to 255) 
for test IDs greaterthan $80 '-.: '':. ■•/■ 


r Test;value and test limits 


, $06 


Decimali(0toJ65535) 


Component ID 


$06 


Hexadecimal (00 to 7F) ;•■'.-,: 


Optional data bytes ... 


- $08 


4 bytes, each decimal (0 to 255) (see Appendix F ) 


Vehicle information type 


$09 


Hexadecimal (00 to 7F) (see Appendix G) >■■.■- ,;.- ■ 


'Vehicle information data 


:. $09 . 


ASCII for information types $02 and $04; 
. HexadecJroal/forinforrnation type $06 .._■:.-_.-.- ■■.... 
Decimal for information type $08 (see Appendix G) 



5^ Diagnostic Service Definition for ISO 9141-2, ISO 14230-4, and SAE 

' J1850 " 

I -5.1 :- Service $01 - Request-Current Powertrain Diagnostic Data 

5.1. le Functional Description — The purpose of this service is to allow 
access to current efmssibtrelated data Values, including analogue inputs and out- 
puts, digital inputs and outputs, and system status information. The requestfor 
information includes a parameter.identification (PID) value that indicates! to the 
onboard system the specific, information requested. PID specifications, scaling 
information, and display formats are included in Appendix B. ■ . -; 

The ECU(s) will respond to this message by transmitting the requested data 
value last determined by the system. All data values returned for sensor readings 
will be actual readings, not default or substitute values used by the system 
because of a fault with that sensor. -■ ■ . ' . :.' ; ?- 



Not all PIDs are applicable or supported by all systems. PID $00 is a : bit- 
encoded PID that indicates, for each ECU* which PIDs that ECU supports. PID 
$00 shall be supported by all ECUs that-respond to-a service $01 request, because 
the external test equipment that conforms to SAE J1978 use the presence of a 

" response message by the vehicle to this request message to determine wnich pro- 
tpcol-is supported for diagnostic communications. Append** A .-defines how to 
encode supported PIDs. 
5,1.2 Message Data Bytes ,.; 

5.1,2:1 Request Current Powertrain Diagnostic Data Request MessagelJef- 
inition (read supported PIDs) ■ . . ' 



TABLE 14— REQUEST.CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 
(READ SUPPORTED PIDS) 



Data Byte 


Parameter Name 


Cyt 


Hex Value 


Mnemonic 


. . #1 


Request current powertrain diagnostic data request SID 


M 


01 


SIDRQ ,,- ,- 


' . - *2- ■ 


PlD;(see Appendix A) . ,, 


M • 


*■'; .J :)OC ' 


: qPIDi -■ 



5.1.2.2 Request Current Powertrain Diagnostic Data Response, Message 
Definition (report supported PIDs) 



TABLE 15— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 
(REPORT SUPPORTED PIDS) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic ' 


#1 


Request current powertrain .diagnostic data response SID 


M 


41 


SIDPR . 


• ■ .*2- 

-' "" #3 

#4 

' ..- #5 

#6 


data record of supported PID = [ 

> ... - r .- 'i.-. supported PID , 

data A, 

- ' , data B, 

dataC, 

data D ] 


M 
M 
M 
M 
M 


XX 
XX 
XX 
XX 
XX 


RIDREC 
: PID 
DATA_A 
DATAB 
DATAC 
DATA D 



5.1.2.3 Request Current Powertrain Diagnostic Data Request Message Def- 
inition (read FID value) 



23.37 



TABLE 16— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 
(READ PID VALUE) 



Data Byte 



#2 



Parameter Name 



Request current powertrain diagnostic data request SID 



PID (see Appendix B) 



C = Conditional — PID value shall be one of the supported PIDs of previous response message 



"M/C 



Hex Value 



01 



Mnemonic 



5.1.2.4 Request Current Powertrain Diagnostic Data Response Message 
Definition (Report PID Value) 



TABLE 17— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 
(REPORT PID VALUE) 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 



Parameter Name 



Request current powertrain diagnostic data response SID 



data record of 1 st supported PID = [ 



PID - 
data A, 
data B, 
data C, 
data D ] 



C = Conditional — data B - D depend on selected PID value 



Cvt 



Hex Value 



41 



XX 
XX 
XX 
XX 



Mnemonic 



SIDPR 



PIDREC_ 

PID 
DATA_A 
DATA_B 
DATA_C 
DATAJ3 



NOTE — The PID, which is included in the request message may be sup- 
ported by all emission-related ECUs, which shall comply with this 
specification. Therefore, multiple response messages are sent by 
the vehicle ECUs. 
5.1.3 Parameter Definition 

5.1.3.1 PIDs Supported— "Appendix A" specifies the interpretation of the 
data record of supported PIDs. 



5.1.3.2 PID and Data Byte Descriptions— "Appendix B" specifies standar- 
dised emission-related parameters. 

5.1.4 MESSAGE EXAMPLE— The example below shows how the "Request cur- 
rent powertrain diagnostic data" service shall be implemented. 

5.1.4.1 Step #1: Request Supported PIDs from Vehicle—The. external test 
equipment requests supported PIDs (PID = $00, $20) from the vehicle. Refer to 
Appendix A to interpret the data bytes in the response messages. 



TABLE 18— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -» All ECUs 



Request 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data request SID 



PID used to determine PID support for PIDs 01-20 



Byte Value (Hex) 



01 



Mnemonic 



SIDRQ 



PID 



TABLE 19— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#3 
#4 
#5 
#6 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID requested 



Data byte A, representing support for PIDs 01, 03-08 
Data byte B, representing support for PIDs 09, 0B-10 
Data byte C, representing support for PIDs 11, 13, 15 
Data byte D, representing support for PIDs 19, 1C, 20 



Byte Value (Hex) 



00 



10111111b = $BF 
10111111b = $BF 
10101000b = $A8 
10010001b = $91 



Mnemonic 



SIDPR 



PID 



DATA_A 
DATA_B 
DATA_C 
DATA D 



TABLE 20— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#2 



#3 
#4 
#5 
#6 



ECU#2 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID requested 



Data byte A, representing support for PID 01 
Data byte B, representing support for PID 0D 
Data byte C, representing no support for PIDs 1 1 -1 8 
Data byte D, representing no support for PIDs 1 9-20 



Byte Value (Hex) 



41 



00 



10000000b = $80 
00001000b = $08 
00000000b = $00 
00000000b = $00 



Mnemonic 



SIDPR 



PID 



DATA_A 
DATA_B 
DATA_C 
DATA_D 



23.38 



TABLE 21— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs "'■' 


Message Type: 


Request : 


Data Byte 


Description (all values are in hexadecimal) ' 


Byte Value (Hex) 


Mnemonic 


.. . #1 


Bequest current powertrain. diagnostic data request SID 


... . 01 


' .'- - SIDRQ 


_ #2 


_ BJD requested . 


_..: . .:' 20 


RID 



TABLE 22— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 


ECU#1 -* ExternaHest equipment . 


Message Type: 


Response 


Data Byte 


~ Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data response SID 


: 4t ..: •■■ ■ ■ - 


..'..' ? ID £ R 


' : #2 


PID requested 


20 : 


PID 


'■- ' #3 
• * 4 

- #6 


Data.byte A, representing support for PID 21 

Data byte B, representing no support for PIDs 29-30 

Data ibyte C, representing no support for PIDs 31-38 ..._._ _...' . 

Data byte D, representing no support for PIDs^9-40_ 


10000000b = $80 
00000000b = $00 
00000000b = $00 

oooooooop = $po ' ; 


DATA_A 

DATA_B 

DATA C 

1_ DATA_D 



• : NOTE— ECUSIf2 does' not send a response message because it indicated 

with the previous response message that it does not support PID 

$26. v " . 

Now the external test equipment creates an internal' list of supported PIDs 

for each ECU. The ECU'#1 (ECM) supports the following PIDs: $01, $03 - $09, 

$0B - $11, $13, $15, $19,$iC, $20, $21. The ECU #2 (TCM) supports the PIDs: 

$01 and$0D. 



5.1.4.2 Step #2: Request PID frdrn Vehicle— The external test equipment 
requests the following PID from the vehicle: 

—PID $01 iNumber of emission-related powertrain DTCs and MIL status, 
PID is supported by ECU #1 (ECM) and ECU #2 (TCM) 



TABLE 23— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (all -values fare in hexadecimal) 


''■"■' Byte Value (Hex) 


Mnemonic 


'. #1 


Request current powertrain diagnostic data request SID 


■ ..- - i ■ "! J. ,- 


SIDRQ 


#2 


PID: Number of emission-related powertrain DTCs and MIL status 


■ ■ 01 


PID 



TABLE 2*— REQUEST CURRENT POWERTRAIN DIAGNOSfiC DATA RESPONSE MESSAGE 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data response SID 


41 


SIDPR 


#2 


PID: Number of emission-related powertrain DTCs and MIL status 


01 


PID 


#3 
#4 
#5 
#6 


MIL: ON; Number of emission-related powertrain DTCs: 01 
Misfire -, Fuel system -/Comprehensive monitoring 

Catalyst-, Heated' catalyst- monitoring supported 

Catalyst -, Heated catalyst-, ..., monitoring test complete/not complete 


81 " '■■ 
33 - 
FF 
63 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



TABLE 25^-REQUESf CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 


ECU#2 -> External test equipment 


Message Type: 


Response 






Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#f ■ 


Bequest current powertrain diagnostic data response SID 


41 


SIDPR 


#2 


iPID: Number of emission-related powertrain DTCs and MIL status 


01 -' ' 


PID 


#3" 
#4 
#5 
#6 - 


:MIL: OFF; Number of emission-related powertrain DTCs: 01 
Comprehensive monitoring: supported, test complete 

Catalyst -, Heated-catalyst - monitoring supported 

Catalyst -, Heated catalyst - monitoring test complete/not complete 


01 
44 
00 
00 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



23.39 



The external test equipment requests the following PID from the vehicle: 
— PID $19:Bank 2 - Sensor 2, PID is supported by ECU #1 (ECM) 



TABLE 26— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data request SID 



PID: Oxygen Sensor Output Voltage (B2 - S2) 
Short Term Fuel Trim (B2 - S2) 



Byte Value (Hex) 



01 



Mnemonic 



SIDRQ 



PID 



TABLE 27— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



. Data Byte 



#1 



#3 
#4 



ECU#1 -* External test equipment 



Response 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID: Oxygen Sensor Output Voltage (B2 - S2) 
Short Term Fuel Trim (B2 - S2) 



Oxygen Sensor Output Voltage (B2 - S2): 0.8 Volt 
Short Term Fuel Trim (B2 - S2): 93.7 % 



Byte Value (Hex). 



41 



A0 
78 



Mnemonic 



SIDPR 



PID 



DATA_A 
DATA B 



NOTE— EGU#2 does not support PID $19 and therefore does not send a 

response message. 
5.2 Service $02 - Request Powertrain Freeze Frame Data 

5.2.1 Functional Description— The purpose of this service is to allow 
access to emission-related data values in a freeze frame. This allows expansion to 
meet manufacturer specific requirements not necessarily related to the required 
freeze frame, and not necessarily containing the same data values as the required 
freeze frame. The request message includes a parameter identification (PID) value 
that indicates to the on-board system the specific information requested. PID 
specifications, scaling information, and display formats for the freeze frame are 
included in Appendix B. 

The ECU(s) will respond to this message by transmitting the requested data 
value stored by the system. All data values returned for sensor readings will be 
actual stored readings, not default or substitute values used by the system because 
of a fault with that sensor. 

Not all PIDs are applicable or supported by all systems. PID $00 is a bit- 
encoded PID that indicates, for each ECU, which PIDs that ECU supports. There- 



fore, PID $00 shall be supported by all ECUs-that respond to a service $02 request 
as specified even if the ECU does not have a freeze frame stored at the time of the 
request. 

Appendix A defines how to encode supported PIDs. 

PID $02 indicates the DTC that caused the freeze frame data to be stored. If 
freeze frame data is not stored in the ECU, the system shall report $00 00 as the 
DTC. Any data reported when the stored DTC is $00 00 may not be valid. 

The frame number byte will indicate $00 for the mandated freeze frame data. 
Manufacturers may optionally save additional freeze frames and use this service 
to obtain that data by specifying the freeze frame number in the request message. 
If a manufacturer uses these additional freeze frames, they will be stored under 
conditions specified by the manufacturer, and contain data specified by the manu- 
facturer. 

5.2.2 Message Data Bytes 

5.2.2.1 Request Powertrain Freeze Frame Data Request Message Definition 
(Read Supported PIDs) 



TABLE 28— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSAGE 
(READ SUPPORTED PIDS) 



Data Byte 



#1 



Parameter Name 



Request powertrain freeze frame data request SID 



PID (see Appendix A) 



frame # 



Cvt 



Hex Value 



Mnemonic 



SIDRQ 



PID 



5.2.2.2 Request Powertrain.Freeze Frame Data Response Message Defini- 
tion (Report Supported PIDs) 



Data Byte 



#1 



#4 
#5 
#6 
#7 



TABLE 29— REQUEST POWERTRAIN FREEZE FRAME DATA RESPONSE MESSAGE 
(REPORT SUPPORTED PIDS) 



Parameter Name 



Request powertrain freeze frame data response SID 



PID 



frame # 



data record of supported PIDs = [ 



Data A: supported PIDs, 
Data B: supported PIDs, 
Data C: supported PIDs, 
Data D: supported PIDs ] 



Cvt 



PID 



FRNO 



DATAREC_ 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



23.42 



53-2:2 Request Current. Powertrain Diagnostic Data Response Message 
Definition (PID $01) ;• ■ 



TABLE 37— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE (PID $01) 



Data Byte 


Parameter Name 


- Cvt- 


Hex Value ■■■ 


-Mnemonic 


' #1 


Request current powertrain diagnostic data response SID 


" M 


41 


SIDPR 


'" .- #2. ...,,,' 


PID '{Number of emission-related; DTCs and MIL status) ■..,.- 


M 


01 


'., PID , , 


#3 
#4' 
#5 
.#6 - 


data record = [; '. r : 

DataA, — -- 

DataB, 
' DataCi 
Data-D] ...... 


M 

'•"■'- M 
M 
M 


fx : 

xx - • - _ 

XX., .-,-;;. 
XX-" .-'"■ - 


DATAREC 
DATA A 
DATA B 
DATA C 
DATA D 



5.3.2.3 Request Emission-Related DTC Request Message Definition- - ~- ' ■- ■ 

TABLE 38— REQUEST EMISSION-RELATED DTC REQUEST MESSAGE 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


• #1 - 


Request emission-related DTC request SID 


M 


03 


SIDRQ 



5,3.2-.4 : Request Emission-Related DTC Response-Message Definition 

•"".."•_-' TABLE 39— REQUEST EMISSION-RELATED DTC RESPONSE MESSAGE 



DataByte 


Parameter-Name 


- Cvt 


Hex Value 


- Mnemonic 


■' '■' :: #1' ■■' ■ ::. , 


. Request emission-related DTCxesppnse SID: 


m;v 


.. ■„■ .43 . . 


SIDPR" 


#2 

, , #3; ? 


DTC#1 (High Byte) ■"-'--' .:■■■.:. 

DJC#1 (Low Byte). ; - ;; ■ _; ;- ; ■.,_: . .. " : '; ,, ;;,. 


M/C-' : ' 
; ...M/C ; 


XX 

XX ': .-j.:.,- 


DTC1HI 
- ■ ."' DTC1LO 


• : . #4 . ' : 


' DTC#2 (High' Byte) • - : "' 

DTC#2:(Low Byte) -\ ;. ■',■-'■.. ;■-...'■" 


MIC' 
M/C-. 


XX ' ; 

:.:" XX.; 


■ DTC2HI 
DTC2LO 


#6 
#7, 


DTC#3 (High Byte) 
, DTC#3 (Low Byte) '; -.:'.■;. .'..■-■': 


M/CV-' : 
M/C • 


■' XX 

■:■'■; {..1'Xx. ■■' 


DTC3HI 
■...; DTC3LO 


: C ' = Conditional — DTC#1 , DTC#2, and DTG#3 are always present. If no valid DTG number is included theDTC Values shall contain^OO 



5.3.3 PARAMETER DEFINITION' — This service does not support any parameters. 

5.3.4 Message Example — The example below shows how "the "Request 
emission-related DTCs" service shall be implemented. The external test equip- 
ment requests emission-related DTCs from the vehicle. The vehicle supports the 
ISO 14230-4 protocol. The ECU#1 (ECM)-has six (6) -DTCs stored, the ECU'#2 
(TCM) has one (1) DTC stored, and the ECU #3 (ABS/Traction Control) has no 
DTC stored. 



— ECU#1(ECM): " PG143; P0196, P0234, P02CD, P0357, 

P0A24 

— ECU #2 (TCM): P0443 

— ECU #3 (ABS/Tractibn Control): no DTC stored (response message is 

optional for ISO 9141-2 and SAE Jl 850) 
The external test equipment requests the following PID from the vehicle: 

— PID $01: Number of emission-related DTCs and' MIL status, PID is 
supported by ECU #1 (ECM), ECU #2 (TCM), and ECU #3 (ABS/Trac- 
tion Control) v *r 



TABLE 40— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 


External test equipment i» All ECUs 


Message Type: 


Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data request SiD v - ■ ,.■-..-' 


01 ■ " - 


SIDRQ 


#2 


PID: Number of emission-related DTCs and M|L status 


01 


PID 



TABLE 41— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 


ECU#1 -i External test equipment 


Message Type: 


: 'Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data response S!D 


41 


SIDPR 


#2 


RID:.Number~of emissions-related DTCs and-MIL status . 


01 


PID 


#3 
#4 
#5 
#6 


MIL: ON; Number of emission-related DTCs: 06 
Misfire -, Fuel system -, Comprehensive monitoring 

Catalyst -, Heated catalyst - monitoring supported 

Catalyst -, Heated catalyst -,..., monitoring test complete/not complete 


86 
33 
FF 
63 


DATA1A 
DATA_B 
DATA_C 
DATA_D 



23.43 



TABLE 42— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 
#4 
#5 
#6 



ECU#2 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID: Number of emission-related DTCs and MIL status 



MIL: OFF; Number of emission-related DTCs: 01 

Comprehensive monitoring: supported, test complete 

Catalyst -, Heated catalyst -,..., monitoring supported 

Catalyst -, Heated catalyst - monitoring test complete/not complete 



Byte Value (Hex) 



41 



01 
44 
00 
00 



TABLE 43-flEQUESTCURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 

#4- 
#5 
#6" 



ECU#3 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID: Number of emission-related DTCs and MIL status 



MIL: OFF; Number of emission-related DTCs: 00 
Comprehensive monitoring: supported, test complete 

Catalyst -, Heated catalyst - monitoring supported 

Catalyst -, Heated catalyst -, ..., monitoring test complete/not complete 



Byte Value (Hex) 



41 



01- 



00 

'- oo: - 
oo 
oo. ' 



The external test equipment requests emission-related DTCs because ECU #1 

has six (6) DTCs stored, ECU #2 has one (1) DTC stored, and ECU #3 has no (0) - -- -- -- ------ 

DTC stored. 

TABLE 44— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request emission-related DTC request SID 



Byte Value (Hex) 



03 



TABLE 45— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 



Type: 



Data Byte 



#2 
#3 



#4 
#5 



#6 
#7 



ECU #1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request emission-related DTC response SID 



DTC#1 High Byte of P0143 
DTC#1 Low Byte of P0143 



DTC#2 High Byte of P0196 
DTC#2 Low Byte of P0196 



DTC#3 High Byte of P0234 
DTC#3 Low Byte of P0234 



Byte Value (Hex) 



43 



01 

43 



01 
96 



02 
34 



Mnemonic 



SIDPR 



PID 



DATA_A 
DATA_B 
DATA_C 
DATA_D 



SIDPR 



PID 



DATA_A 
DATA_B 
DATA_C 
DATA D 



Mnemonic 



SIDRQ 



Mnemonic 



SIDPR 



DTC1HI 
DTC1LO 



DTC2HI 
DTC2LO 



DTC3HI 
DTC3LO 



23.44 



TABLE 46— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 


ECU #2 -> External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1- 


Request emission-related DTC response SID 


43 


SIDPR 


#2 
#3 


DTC#1 High Byte of P0443 
DTC#1 Low Byle of P0443 


04 
.43 


DTC1HI 
DTC1LO 


#40 
#5 


DTC#2 High Byte: 00 
DTC#2 Low Byte: 00 


00 
00 


DTC2HI 
DTC2LO 


#6 
#7 


DTC#3 High Byte: 00 
DTC#3 Low Byte: 00 


00 
00 


DTC3HI 
DTC3LO 



TABLE 47— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 


ECU #1 -> External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value,(Hex) 


Mnemonic 


#1 


Request emission-related DTC response SID 


43:.' 


SIDPR 


#2 
#3 


DTC#1 High Byte of P02CD 
DTC#1 Low Byte of P02CD 


02 
CD 


DTC1HI 
DTC1LO 


#4 
#5 


DTC#2 High Byte of P0357 
DTC#2 Low Byte of P0357 


03 
57 


DTC2HI 
DTC2LO 


#6 
#7 


DTC#3 High Byte of P0A24 
DTC#3 Low Byte of P0A24 


0A 

24 


DTC3HI 
DTC3LO 



TABLE 48— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 


ECU #3 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemdhic 


#1 


Request emission-related DTC response SID - 


43 


SIDPR 


#2 
#3 


DTG#1 High Byte: 00 
DTC#1 Low Byte: 00;: . 


00 
00 


DTC1HI 
DTC1LO 


#4 
#5 


DTC#2 High Byte: 00 

DTC#2 Low Byte: 00 . . . 


00 
00 


DTC2HI 
DTC2LO 


#6 
#7 


DTC#3 High Byte: 00 
DTC#3LowByte:00 


00 
00 


DTC3HI 
DTC3LO 



NOTE— For ISO 9141-2 and SAE J1850 protocols the ECU #3 response 
message is optional because there is no DTC stored. If ISO 14230-4 
protocol is supported by the vehicle, ECU #3 shall send a positive 
response-message with no DTCs. 



5.4 Service $04 - Clear/Reset Emission-Related Diagnostic Information 

5.4.1 Functional Description — The purpose of this service is to provide a 
means for the external test equipment to command ECUs to clear all emission- 
related diagnostic information. This includes: 

— Number of diagnostic trouble codes 

— Diagnostic trouble codes 

— Trouble code for freeze frame data 

— Freeze frame data 

— Oxygen sensor test data 

— Status of system monitoring tests 

— On-board monitoring test results 

— Distance travelled while MIL is activated 

— Number of warm-ups since DTC cleared 

— Distance since diagnostic trouble codes cleared 

— Minutes run by the engine while MEL activated 

— Time since diagnostic trouble codes cleared 



(can be read with Service $01, PID $01) 
(can be read with Service $03) 
(can be read with Service $02, PID $02) 
(can be read with Service $02) 
(can be read with Service $05) 
(can be read with Service $01, PID $01) 
(can be read with Services $06 and $07) 
(can be read with Service $01, PID $21) 
(can be read with Service $01, PID $30) 
(can be read with Service $01, PID $31) 
(can be read with Service $01, PID $4D) 
(can be read with Service $01, PID $4E) 



23.45 



Other manufacturer specific "clearing/resetting" actions may also occur in 
response to this request message. .: 

For safety and/or technical design reasons, some ECUs may not respond to this 
service under all conditions. All ECUs shall respond to this service request with 
the ignition ON and with the engine not running. ECUs that cannot perform this 
operation under other conditions, such as with the engine: running, will ignore the 



request with SAE J1850 and ISO 9141-2 interfaces, or will send a negative 
response message with ISO 14230-4 interfaces, as described in ISO 14230-4. 
5.4.2 Message Data Bytes - 

5.4.2.1 Clear/Reset Emission-Related Diagnostic Information Request 
Message Definition 



TABLE 49— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION REQUEST MESSAGE 



Data Byte 



#1 



Parameter Name 



Clear/reset emissionrrelated diagnostic information request SID 



Cvt 



Hex Value 



Mnemonic 



SIDRQ 



5.4.2.2 Clear/Reset Emission-Related Diagnostic Information Response 
Message Definition 



TABLE 50-iCLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



Data Byte 



#1 



Parameter Name 



Clear/reset emission-related diagnostic information response SID 



Cvt 



Hex Value 



44. 



Mnemonic 



SIDPR 



5.4.3 PARAMETER DEFfNITIOlvr— This service does hot" support any parameters. 

5.4.4 MESSAGE EXAMPLE— This example is based on the example of service 
$03 as described in Section 5.3.4. The external test equipment commands the 
vehicle to Clear/reset emission-related diagnostic information with the engine 
running. The ECU #1 (ECM) and ECU #2 (TCM) will send a response message 
to confirm that all emission-related diagnostic information is cleared. For ISO 
9141-2 and SAE J1850 protocols ECU #3 (ABS/Traction Control) will not send a 



response message because the conditions to perform the requested action are not 
met. For ISO 14230-4 protocol ECU #3 will send a negative response message 
with response code $22 - conditionsNotCorrect. In such case the external test 
equipment shall post a message with "Stop engine and turn ON ignition" and then 
repeat the service $04 command and check for response messages from all emis- 
sion-related ECUs installed in the vehicle. - 



TABLE 51— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Clear/reset emission-related diagnostic information request SID 



Byte Value (Hex) 



04 



Mnemonic 



SIDRQ 



TABLE 52— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Clear/reset emission-related diagnostic information response SID 



Byte Value (Hex) 



44 



TABLE 53— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



ECU#2 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Clear/reset emission-related diagnostic information response SID 



Byte Value (Hex) 



44 



Mnemonic 



SIDPR 



TABLE 54— NEGATIVE RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#T 



#2 



ECU#3 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Negative Response Service Identifier 



Clear/reset emission-related diagnostic information request SID 



Negative Response Code: conditionsNotCorrect 



Byte Value (Hex) 



7F 



Mnemonic 



.SIDNR 



SIDRQ 



NR_CNC 



NOTE— For ISO 14230-4 protocol the conditions of ECU#3 to Clear/reset 
emission-related diagnostic information are not met. Therefore ECU 
#3 sends a negative response message with response code "conditions- 
NotCorrect". The external test equipment shall repeat the request after 



the conditions of the vehicle have changed by the user. Now, all ECUs 
shall send a positive response message to the external test equipment 
to confirm successful operation of the Clear/reset emission-related 
diagnostic information service. 



23.46 



5.5 Service $05 - Request Oxygen Sensor Monitoring Test Results 

5.5.1 Functional Description — The purpose of this service is to allow 
access to the on-board oxygen sensor monitoring test results. The same informa- 
tion may be obtained by the use of service $06. 

The request message for test results includes a Test ID value that indicates the 
information requested. Test value definitions, scaling information, and display 
formats are included in Appendix C. 

Many methods may be used to calculate test results for this service by different 
manufacturers: If data values are to: be reported using these messages that are dif- 
ferent from those specified, ranges of test values have been assigned that can be 
used which have standard units of measure. The external test equipment can con- 
vert these values and display them in the standard units. 

The ECU will respond to this message by transmitting the requested test data 
last determined by the system. The latest test results are to be retained, even over 



multiple ignition OFF cycles, until replaced by more recent test results. Test 
results are requested by Test ID. • 

Not all test values are applicable or supported by all vehicles. An optional fea- 
ture of this service is for the ECU to indicate which Test IDs are supported. Test 
ID $00 is a bit-encoded value that indicates support for Test IDs from $01 to $20. 
Test ID $20 indicates support for Test IDs $21 through $40, etc. This is the same 
concept as used for PID support in services $01 and $02 as specified in Appendix 
A. If Test ID $00 is not supported, then the ECU does not use this feature to indi- 
cate Test ID support. 

5.5.2 Message Data Bytes 

5.5.2.1 Request Oxygen Sensor Monitoring Test Results Request Message 
Definition (Read Supported TIDs) 



TABLE 55— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS REQUEST MESSAGE 
(READ SUPPORTED TIDS) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request oxygen sensor monitoring test results request SID 


M 


05 


SIDRQ 


#2 


Test ID (see Appendix A) 


M 


XX 


TID 


#3 


02 Sensor# 


M 


XX 


; 02SNO 



5.5.2.2 Request Oxygen Sensor Monitoring Test Results Response Message 
Definition (Report Supported TIDs) 



TABLE 56— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE 
(REPORT SUPPORTED TIDS) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request oxygen sensor monitoring test results response SID 


M 


45 ■. 


SIDPR 


#2 


Test ID 


M 


XX 


TID - 


#3 


02 Sensor # 


M 


XX 


02SNO' 


#4 
#5 
#6 
#7 


data record of supported Test IDs = [ Data A: supported Test IDs, 
Data B: supported Test IDs, 
Data C: supported Test IDs, 
Data D: supported Test IDs ] 


M 
M 
M 
M 


XX 
XX 
XX 
XX 


DATA A 
DATA B 
DATA C 
DATA D 



5.5.2.3 Request Oxygen Sensor Monitoring Test Results Request Message 
Definition (Read TID Values) 



TABLE 57— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS REQUEST MESSAGE 
(READ TID VALUES) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request oxygen sensor monitoring test results request SID 


M 


05 


SIDRQ 


#2 


Test ID 


M 


XX 


TID 


#3 


02 Sensor # 


M. 


XX 


02SNO 



5.5.2.4 Request Oxygen Sensor Monitoring Test Results Response Message 
Definition (Report TID Values) 



TABLE 58— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE 
(REPORT TID VALUES) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


.Mnemonic 


#1 


Request oxygen sensor monitoring test results response SID 


M 


45 


SIDPR 


#2 


TEST ID 


M 


XX 


TID: 


#3 ." 


02 Sensor # 


M 


XX 


02SNO 


#4 - 

#5 

#6 


data record of Test ID = [ Test Value 

- Minimum Limit 
Maximum Limit ] 


M 
C 
C 


XX 
XX 
XX 


TESTVAL 
MINLIMIT 
MAXLIMIT 


C = Conditional — - if the supported Test ID is a constant ($01 - $04) the parameters Minimum and Maximum Limit shall not be included 



5.5:3 Parameter Definition: 

5.5.3.1 Test IDs Supported — The Test IDs supported is the same concept as 
used for PID support in services $01 and $02 as specified in Appendix A. 

5.5.3.2 Test ID and Data Byte Descriptions — "Appendix C" specifies stan- 
dardised and vehicle manufacturer specific Test ID ranges. 



5.5.3.3 Oxygen Sensor Location Definition — The Oxygen sensor location 
value used in the request message shall indicate the Oxygen Sensor location as 
defined by PID $13 or $1D as specified in Appendix B. 



23.4X 



TABLE 59— OXYGEN SENSOR LOCATION DESCRIPTION 



Oxygen sensor location (one, and only one bit can be set to a 1) 



Bit 



Sensor locationl) 



Bank.1 - Sensor 1 
Bank 1 - Sensor 2 
Bankl -Sensor 3 
Bank 1 .- Sensor 4. - 
Bank 2 - Sensor 1 
Bank 2 - Sensor 2 
Bank 2 - Sensor 3 
Bank 2 - Sensor 4 



Alternative sensor location2) 



Bank 1 - Sensor 1 
_ Bankl -Sensor 2 
Bank 2 - Sensor 1 
Bank 2 -Sensor 2 
. Bank 3- Sensor 1 
Bank 3 -Sensor 2 
Bank 4 - Sensor 1 
Bank 4 -Sensor 2 



1) If Service $01 PID $13'supporte(T 

2) If Service $01 PID $1 p supported. 



5.5.3.4 Test Result Description— The. following table defines the test result. 

_ TABLE 60— TEST RESULT DESCRIPTION 



Hex 



00 -FF 



# of bytes 



1 



Description 



The Test Result parameter includes either a constant or a calculated value depending on the Test ID. 



5.5.3.5 Minimum and Maximum Test Limit Description-^-The. - following 
table defines Minimum and Maximum Test Limit. _. 



TABLE 61— MINIMUM AND MAXIMUM TEST LIMIT DESCRIPTION 



Test Limit 



Minimum 



Maximum 



# of bytes 



Description 



The minimum test limit (only for calculated test result) is the minimum value to which the test result is compared. - ■ 

The Test Limit value is either a minimum or a maximum value to which the test results are compared. The Test Limit is a one byte unsiqned 
numeric value (0 -255). ....-....* 



The maximum test limit (only for calculated test result) is the maximum value to which the test result is compared. 



Results of latest mandated on-board oxygen. sensor..monitoring test, see fig- ... 
ure below. 



Oxygen 
sensor 
output 




Numbers refer to test JD ' so6 •..: SOS f^ — — SQA ~ — ""I $09 

FIGURE 13— TEST ID VALUE EXAMPLE 



5.5.4 MESSAGE EXAMPLE— The example below shows how the "Request oxy- 
gen sensor monitoring test results" service shall be implemented. 

5.5.4.1 Step #1: Request Oxygen Sensor Monitoring Test Results (Request 
for Supported Test IDs) from Vehicle— The external test equipment requests all 
supported Test IDs from the vehicle. Refer to the example of service $01 how to 
request supported PEDs (same concept is used for supported TIDs). PID $13 is 
supported by ECU #1. This is important information for the external test equip- 
ment in order to identify the correct 02 Sensor location. 

As a result of the supported TED request the external test equipment creates 
an internal list of supported TIDs for each ECU: The ECU #1 (ECM) supports 
Test IDs $01 - $06, $70, $71 and $81. The ECU #2 (TCM) does not support any 
Test IDs. 



5.5.4.2 Step #2; Request Oxygen Sensor Monitoring Test Fesults from Vehi- 
cle — The external test equipment sends two (2) "Request oxygen sensor monitor- 
ing test results" request messages to the vehicle. The two (2) request messages 
include the following Test EDs: 

— 1st request message:Test IDs $01 
— 2nd request message:Test EDs $05 

NOTE — In general, the external test equipment should read the test status of 
service $01 PID $01 prior to execute service $05 with Test ED $01 
and $05 to verify, whether the tests are supported and completed. 
The test values reported may be invalid if the test is not completed. 



TABLE 62— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS REQUEST MESSAGE 



Message direction: 



Data Byte 



Message Type: 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request oxygen sensor monitoring test results request SID 



TID: Rich to lean sensor threshold voltage (constant) 



02 Sensor #: Bank 1 - Sensor 1 



Byte Value (Hex) 



05 



Mnemonic 



SIDRQ 



TID 



02SNO 



23.48 



TABLE 63— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request oxygen sensor monitoring test results response SID 


45 


SIDPR 


#2 


TID: Rich to lean sensor threshold voltage (constant) 


01 


TID 


#3 


02 Sensor #: Bank 1 - Sensor 1 


01 


02SNO 


#4 


Test Limit: 450 mV 


5A 


TESTVAL 



NOTE — ECU#2 does not support any Test IDs and therefore does not send 
a response message. 



TABLE 64— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS REQUEST MESSAGE 



Message direction: 


External test equipment '-» All ECUs 


Message Type": ~ 


" Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request oxygen sensor monitoring test results request SID 


05 


SIDRQ 


#2 


TID: Rich to lean sensor switch time (calculated) 


05 


TID 


#3 


02 Sensor #: Bank 1 - Sensor 1 "' ' -■■■'■"• 


01 


02SNO 



TABLE 65— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE ; 



Message direction: 


ECU#1 -> External test equipment 


Message Type: 


Response . 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request oxygen sensor monitoring test results response SID 


45 


SIDPR 


#2 


TID: Rich to lean sensor switch time (calculated) 


05 


TID 


#3 


02 Sensor #: Bank 1 - Sensor 1 


01 


02SNO 


#4 


Test Limit: 72 ms (milliseconds) 


12 


TESTVAL 


#5 


Minimum Limit: ms 


00 


MINLIMIT 


#6 


Maximum Limit: 100 ms 


19 


MAXLIMIT 



5.6 Service $06 - Request On-Board Monitoring Test Results for Spe- 
cific Monitored Systems 

5.6.1 Functional Description — The .purpose of this service is to allow 
access to the results for on-board diagnostic monitoring tests of specific compo- 
nents/systems that are not continuously monitored. Examples are catalyst moni- 
toring and the evaporative system monitoring. 

The vehicle manufacturer is responsible for assigning Test IDs and Component 
IDs for tests of different systems and components. The latest test results are to be 
retained, even over multiple ignition OFF cycles, until replaced by more recent 
test results. Test results are requested by Test ED. Test results are reported only for 
supported combinations of test limit type and component ID, and are reported as 
positive (unsigned) values. Only one test limit is included in a response message, 
but that limit could be either a minimum or a niaximum limit. If both a minimum 
and maximum test limit are to be reported, then two (2) response messages will be 



transmitted, in any order. The most significant bit of the "test limit type / compo- 
nent ID" byte will be used to indicate the test limit type. 

An optional feature of this service is for the ECU to indicate which Test IDs are 
supported. Test ID $00 is a bit-encoded value that indicates support for Test IDs 
from $01 to $20. Test ID $20 indicates support for Test IDs $21 through $40, etc. 
This is the same concept as used for PBD support in services $01 and $02 as spec- 
ified in Appendix A. If Test ID $00 is not supported, then the ECU does not use 
this feature to indicate Test ID support. 

This service can be used as an alternative to service $05 to report oxygen sensor 
test results. 

5.6.2 Message Data Bytes 

5.6.2.1 Request On-Board Monitoring Test Results for Specific Monitored 
Systems Request Message Definition (Read Supported TIDs) 



TABLE 66— REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC 
MONITORED SYSTEMS REQUEST MESSAGE (READ SUPPORTED TIDS) 



Data Byte 


Parameter Name 


Cvt 


Hex Value - 


Mnemonic 


#1 


Request on-board monitoring test results for specific monitored systems request SID 


M 


06 


SIDRQ 


#2 


Test ID (see Appendix A) 


M 


XX 


TID 



23.49- 



5.6.2.2 Request On-Board Monitoring Test Results for Specific Monitored ■"■'. ■ - 

Systems Response Message Definition (Report Supported TIDs) 

TABLE 67— REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC MONITORED SYSTEMS RESPONSE MESSAGE (REPORT SUPPORTED TIDS) 



Data Byte 



#1 



#3 



#4 
#5 
#6 
#7 



Parameter Name 



Request on-board monitoring test results for specific monitored systems response SID 



Test ID 



FillerByte 



data record of supported Test IDs = [ 



Data A: supported Test IDs, . 
Data B: supported Test IDs, 
Data G: supported Test IDs, 
Data D: supported Test IDs ] 



Cvt 



M 
M 
M 
M 



Hex Value 



46 



Mnemonic 



SIDPR 



TID 



-FB 



DATAREC, 
DATA_A 
DATA_B 
DATA_C 
DATAJ3 



5.6.2.3 Request On-Board Monitoring Test Results for Specific Monitored 
Systems Request Message Definition (Read Test Results) 

TABLE 68-REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC MONITORED SYSTEMS REQUEST MESSAGE (READ TEST RESULTS) 



Data Byte 



#1 



Parameter Name 



Request on-board monitoring test results tor specific monitored systems request SID 



Test ID (request test results) 



SIDRQ 



TID. 



5.6.2.4 Request On-Board Monitoring Test Results for Specific Monitored '"" --■■■- --, 

Systems Response Message Definition (Report Test Results) : --'-. ''•"■'. 

TABLE 69— REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC MONITORED SYSTEMS RESPONSE MESSAGE (REPORT TEST RESULTS) 



Data Byte 



#1 



#3 



#4 
#5 
#6 
#7 ■ 



Parameter Name 



Request on-board monitoring test results for specific monitored systems response SID 



Test ID (report test results) 



Test LimitType & Component ID 



data record of Test ID = [ 



Test Value (High Byte) 
Test Value (Low Byte) 
Test Limit (High Byte) 
Test Limit (Low Byte) ] 



C - Conditional — if Test Limit is either a Minimum or a Maximum Limit depends on the parameter Test Limit Type & Component ID value (bit 7) 



Hex Value 



46 



Mnemonic 



-TLTCID- 



TIDREC_ 
TVHI 
TVLO 
TLHI 
TLLO 



5.6.3 Parameter Definition . 

5.6.3. i Test IDs Supported- -The Test IDs supported is the same concept as 
used for PID support in services $01 and $02 as specified in Appendix A. 

5.6.3.2 Test ID and Data Byte Descriptions — "Appendix C" specifies stan- 
dardised and vehicle manufacturer specific Test ID ranges, which are permitted to 
be supported in this service. 



5.6.3.3 Test Limit Type and Component IB Description— The Test Limit 
Type and Component ID is a one (1) byte parameter and is defined in the table 
below. 



Parameter name 



Component ID 



Test Limit Type 



TABLE 70— TEST LIMIT TYPE AND COMPONENT ID DESCRIPTION 



Description 



Component ID - manufacturer specified - necessary when multiple components or systems are present on the vehicle and have the same 
definition of Test ID. 

If the same test is performed on more than one component, multiple test results shall be reported for that Test ID. For example, a test for 
bank 1 catalystcan be the same as a test for a bank 2 catalyst, or a test for a pre-catalyst oxygen sensor can be the same as a test for a 
post-catalyst oxygen sensor. In either case, a request for a single Test ID would result in two test results being reported with different 
Component IDs. 



Most significant bit indicates type of test limit, where: 

■O- test limit is maximum value - test fails if test value is greater than this value. 
1 - test limit is minimum value - test fails if test value is less than this value. 



5.6.3.4 Test Result Description— The Test Result represents the test result 
and is defined in the table below. 



Parameter name 



Test Result 



# of bytes 



(High and Low 
Byte) 



TABLE71— TEST RESULT DESCRIPTION 



Description' 



Test result - this value shall be less than or equal to the test limit if most significant bit of Test Limit Type and Component ID byte 
is '0', and shall be greater than or equal to the test limit if most significant bit of Test Limit Type and Component ID byte is '1 '. The 
Test Value is a two byte unsigned numeric value (0 - 65535). - ■ . : 



23.50 



5.6.3.5 Test Limit description — The Test Limit is defined in the table below. 

TABLE 72— TEST LIMIT DESCRIPTION 



Parameter name 


# of bytes 


Description 


Test Limit 


2 
(High and Low Byte) 


The Test Limit value is either a minimum or a maximum value to which the test results are compared. The Test Limit is a two 
byte unsigned numeric value (0 - 65535). 



5.6.4 Message EXAMPLE — The example below shows how the "Request on- 
board monitoring test results for specific monitored systems" service shall be 
implemented. 

5.6.4.1 Step #1: Request On-Board Monitoring Test Results for Specific 
Monitored Systems (Request for Supported Test IDs) — The external test equip- 
ment requests all supported Test IDs from the vehicle. Refer to the example of 
service $01 how to request supported PIDs (same concept is used for supported 
TTDs). 

As a result of the supported TID request the external test equipment creates 
an internal list of supported TTDs for each ECU: The ECU #1 (ECM) supports 
Test ID $02. The ECU #2 (TCM) does not support any Test IDs. 



5.6,4.2 Step #2: Request On-Board Monitoring Test Results for Specific 
Monitored Systems — The external test equipment sends a "Request on-board 
monitoring test results for specific monitored systems" request message with one 
(1) supported Test ID to the vehicle. The response messages indicate which Com- 
ponent IDs are supported. The request message includes the following Test ID: 
— Test ID $02 - Lean to rich sensor threshold voltage (constant), (supported 

Component IDs: $04, $16) 

NOTE — In general, the external test equipment should read the test status of 

service $01 PID $01 prior to execute service $06 with Test ID $01 

and $06 to verify, whether the tests are supported and completed. 

The test values reported may be invalid if the test is not completed. 



TABLE 73— REQUEST ON-BOARD MONITORING TEST RESULTS FOR 
SPECIFIC MONITORED SYSTEMS REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (ail values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request on-board-monitoring test results for-specific monitored systems request SID 


06 


SIDRQ -- 


#2 


TID Lean to rich sensor threshold voltage (constant) 


02 


TID 


" TABLE 74— REQUEST ON-BOARD MONITORING TEST RESULTS FOR 

SPECIFIC MONITORED SYSTEMS RESPONSE MESSAGE 


Message direction: 


ECU#1 -> External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


.#1 


Request_qn-board monitoring test results for specific monitored systems respqns'e S|D. 


'.'. 46. 


SIQPR . . . ! 


,#2 


TID Lean to rich sensor threshold voltage (constant) 


02 


TID 


#3 . 


Test Limit Type: test limit is minimum value: Component ID: 04 


84 


TLTCID 


#4 
#5 


Test Value High Byte: test fails if test value is less than test limit 
Test Value Low Byte: test fails if test value is less than test limit 


00 
10 


TVHI 
TVLO 


#6 
#7 


Minimum Test Limit High Byte 
Minimum Test Limit Low Byte 


00 
00 


TLHI 
TLLO 



:NOTE — ECU#2 does not support any Test IDs and therefore does not send 
a response message. 



TABLE 75— REQUEST ON-BOARD MONITORING TEST RESULTS FOR 
SPECIFIC MONITORED SYSTEMS RESPONSE MESSAGE 



Message. direction: : 


ECU#1-> External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request on-board monitoring test results for specific monitored systems response SID 


46 


SIDPR 


#2 


TID Lean to rich sensor threshold voltage (constant) 


02 


TID 


#3 


Test Limit Type: test limit is maximum value; Component ID: 1 6 


16 


TLTCID 


#4 
#5 


Test Value High Byte: test fails if test value is greater than test limit 
Test Value Low Byte: test fails if test value is greater than test limit 


00 
32 


TVHI 
TVLO 


#6 
#7 


Maximum Test Limit High Byte 
' Maximum Test Limit Low Byte 


00 
20 


TLHI 
TLLO 



NOTE— The above example shows that the test in ECU #1 for Test ID 02 
and Component ID 04 passed and that the test in ECU #1 for Test 
ID 02 and Component ID 16 failed. 



23.51 



5.7 Service $07 - Request Emission-Related Diagnostic Trouble Codes 
Detected During Current or Last 
Completed Driving Cycle 

5.7.1 Functional Description— The purpose of this service is to enable the 
external test equipment to obtain "pending" diagnostic trouble codes detected 
during current or last completed driving cycle for emission-related components / 
systems that are tested or continuously monitored during normal driving- condi- 
tions. Service $07 is required for all DTCs and is independent of Service $03. The 
intended use of this data is to assist the service technician after a vehicle repair, 
and after clearing diagnostic information, by reporting test results after a single 
driving cycle. If the test failed during the driving cycle, the DTC associated witlT 
that test will be reported. Test results reported by this service do not necessarily 
indicate a faulty component / system. If test results indicate a failure after addi- 
tional driving, then the MIL will be illuminated and a DTC will be set and 
reported with service$03, indicating a faulty component / system. This service 



can always be used to request the results of the latest test, independent of the set- 
ting of aDTC. 

Test results for these components/systems are reported in the same format as 
the DTCs in service $03 - refer to the functional description for service $03. 

If less than three (3) DTC values are reported for failed tests, the response mes- 
sages used to report the test results shall be filled with $00 to fill seven (7) data 
bytes. This maintains the required fixed message length for all messages. 

If there are no test failures to report, responses are permitted but not required 
for SAE J1850 and ISO 9141-2 interfaces^For ISO 14230-4 interfaces, the ECU 
will respond with a report containing no codes (all DTC values shall contain $00). 

5.7.2 Message Data Bytes 

5:7.2.1 Request Emission-Related Diagnostic Trouble Codes Detected dur- 
ing Current or Last Completed Driving Cycle Request Message Definition 



TABLE 76— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES DETECTED 
DURING CURRENT OR LAST COMPLETED DRIVING CYCLE REQUEST MESSAGE 



Data Byte 



#1 



Parameter Name 



Request emission-related diagnostic trouble codes detected during current or last completed driving 
cycle request SID 



Cvt 



Hex Value 



Mnemonic 



SIDRQ 



5.7.2.2 Request Emission-Related Diagnostic Trouble Codes Detected Dur- 
ing Current or Last Completed Driving Cycle Response Message Definition ~ 



TABLE 77— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES DETECTED 
' DURING CURRENT OR LAST COMPLETED DRIVING CYCLE RESPONSE MESSAGE 



Data Byte 



#1 



#2 
#3 



#4 
#5 



#6 
#7 



Parameter Name 



Request emission-related diagnostic trouble codes detected during current or last completed driving 
cycle response SID 



DTC#1 (High Byte) 
DTC#1 (Low Byte) 



DTC#2 (High Byte) . 
DTC#2 (Low Byte) 



DTC#3 (High Byte) 
DTC#3 (Low.Byte) 



Cvt 



M/C 
M/C 



M/C 
M/C 



M/C 
M/C 



C = Conditional — DTC#1 , DTC#2, and DTC#3 are always present. If no valid DTC number is included the DTC values shall contain $00 



Hex Value. _ 



Mnemonic 



SIDPR 



DTC1HI 
DTC1LO 



DTC2HI 
DTC2LO 



DTC3HI 
DTC3LO 



5.7.3 PARAMETER DEFINITION— This service does not support any parameters. 

5.7.4 MESSAGE EXAMPLE— Refer to message example of service $03. 

5.8 Service $08 - Request Control of On-Board System, Test or Compo- 
nent 

5.8.1 Functional Description— The purpose of this service is to enable the 
external test equipment to control the operation of an on-board system, test or 
component. 

The data bytes will be specified, if necessary, for each Test ID in Appendix F, 
and will be unique for each Test ED. If any data bytes are unused for any test, they 
shall be filled with $00 to maintain a fixed message length. 

Possible uses for these data bytes in the request message are: . . ■ > ■ 

— Turn on-board system/test/component ON 

— Turn on-board system/test/component OFF 

— Cycle on-board system/test/component for 'n' seconds. 



Possible uses for these data bytes in the response message are: 

— Report system status 

— Report test results 

An optional feature of this service is for the ECU to indicate which Test IDs are 
supported. Test ID $00 is a bit-encoded value that indicates support for Test IDs 
from $01 to $20. Test ID $20 indicates support for Test IDs $21 through $40, etc. 
This is the same concept as used for PID support in services $01 and $02 as spec- 
ified in Appendix A. If Test ID $00 is not supported, then the ECU does not use 
this feature to indicate Test ID support. 

5.8.2 Message Data Bytes 

5.8.2.1 Request Control of On-Board Device Request Message Definition 
(read supported TIDs) 



TABLE 78— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE (READ SUPPORTED TIDS) 



Data Byte 



#3 
#4 
#5 - 
#6 
#7 



Parameter Name . 



Request control of on-board device request SID 



Test ID (see Appendix A) 



data record of Test ID = [ 



Data A, 
Data B, 
Data C, 
DataD, 
DataE] 



M 
M 
M 
M - 
M 



00 
00 
00 
00 
00 



SIDRQ 



TID 



TIDREC_ 
DATA_A 
DATA_B 
DATA_C 
DATA_D 
DATA_E 



23.52 



5.8.2.2 Request Control of On-Board Device Response Message Definition 
(Report Supported TIDs) 



TABLE 79-^REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE 
(REPORT SUPPORTED TIDS) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request control of on-board device response SID. 


M 


48 


SIDPR 


• .#2 


Test ID 


M 


XX 


TID 


#3 


RllerByte 


M 


00 


' FB 


#4 
#5 
#6 
#7 


data record of supported Test IDs = [ 

Data A: supported Test IDs, 
Data B: supported Test IDs, 
Data C: supported Test IDs, 
Data D: supported Test IDs ] 


M 
M 
M 
M 


XX 
XX 
XX 
XX 


TIDREC_ 
DATA A 
-DATA_£> 
DATA C 
DATA D 



5.8.2.3 Request Control of On-Board Device Request Message Definition 
(read TID values) 



TABLE 80— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE (READ TID VALUES) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request control of on-board device request SID 


M 


08 


SIDRQ 


#2 


Test ID (request Test ID values) 


M 


XX 


TID 


#3 
#4 
#5 
#6 
#7 


data record of Test ID = [ 

Data A, 

DataB, 

DataG, -.'■■ • ' 

Data D, 

DataE] 


M/C 
M/C 
M/C 
M/C 
M/C 


XX 
XX 
XX 
XX 
XX 


TIDREC_ 
DATA A 
DATA B 
DATA C 
DATA D 
DATA E 


C = Conditional' — 


Data A - E shall be filled with $00 if unused 









5.8.2.4 Request Control of On-Board Device Response Message Definition 
(report TID values) 



TABLE 8'1— REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE (REPORT TID VALUES) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request control of on-board device response SID 


M 


48 


SIDPR 


#2 


Test ID (report Test ID values) 


M 


XX 


TID 


#3 
#4 
#5 
#6 
#7 


data record of Test ID =■[ 

Data A, 
Data B, 
DataC, 
Data D, 
Data E ] 


M/C 
M/C 
M/C 
M/C 
M/C 


XX 
XX 
XX 
XX 
XX 


TIDREC 
DATA A * 
DATA B 
DATA C 
DATA D 
DATA E 


C- Conditional — 


Data A- E shall be filled, with $00: if unused 









5.8.3 Parameter Definition 

5.8.3.1 Test IDs Supported— Refer to Appendix A. 

5.8.3.2 Test ID and Data Byte Descriptions — Refer to Appendix F. 

5.8.4 Message Example — The example below shows how "Request control 
of on-board system, test or component" service shall be implemented. 

5.8.4.1 Step #1: Request Control of On-Board System, Test or Component 
(Request for Supported Test IDs) — The external test equipment requests all sup- 
ported Test IDs from the vehicle. Refer to the example of service $01 how to 
request supported PIDs (same concept is used for supported TIDs). 



As a result of the supported TDD request the external test equipment creates 
an internal list of supported PIDs for each ECU: The ECU #1 (ECM) supports 
Test ID $01. The ECU #2 (TCM) does Hot support any Test IDs and therefore 
does not send a response message. 

5.8.4.2 Step #2: Request Control of On-Board Device (Service $08, Test ID 
$01) — The external test equipment sends a "Request control of on-board device" 
message with one (1) supported Test ID $01 to the vehicle. 



TABLE 82— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request control of on-board device request SID 


08 


SIDRQ 


#2 


TID: Evaporative system leak test 


01 


TID 


#3 


Data A: 00 


00 


DATA_A 


#4 


Data B: 00 


00 


DATA_B 


#5 


Data C: 00 


00 


DATA_C 


#6 


Data D: 00 


00 


DATA_D 


#7 


Data E: 00 


00 


DATA_E 



23.53". 



TABLE 83— REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



ECU#1 ^ External test equipment 



Response 



Description (all values are in hexadecimal) 



Request control of on-board device response SID 



TID: Evaporative system leak test 



#3 


Data A: 00 


#4 


Data B: 00 


•#5 -- 


Data C: 00 


#6 


Data D: 00 


#7 


Data E: 00 



Byte Value (Hex) 



48 



01 



00 

00 

— 00 

- oo 

00 



Mnemonic 



SIDPR 



TID 



DATA_A 
DATA_B 
DATA_G- 
DATAJD- 
DATA_E 



NOTE— ECU#2 does not support the Test ID and therefore does not send a 

, response message. 

5.9 Service $09 - Request Vehicle Information 

5.9.1 Functional Description— The purpose of this service is to enable the 
external test equipment to request vehicle specific vehicle information such as 
Vehicle Identification Number (VIN) and Calibration IDs. Some of this informa- 
tion may be required by regulations and some may be desirable to be reported in a 
standard format if supported by the vehicle manufacturer. INFOTYPEs are 
defined in Appendix G. 

An optional feature of this service is for the ECU to indicate which INFO- 
TYPEs are supported (support of INFOTYPE $00 is required for ISO 9141-2). 
INFOTYPE $00 is a bit-encoded value that indicates support for INFOTYPEs 
from $01 to $20. INFOTYPE $20 indicates support for INFOTYPEs $21 through 
$40, etc. This is the same concept as used for PID support in services $01 and $02 
as specified in Appendix A. If PID (Parameter ID)/TID (Test ID)/INFOTYPE $00 
is not supported, then the ECU does not use this feature to indicate PID (Parame- 
ter TD)/TID (Test ID)/INFOTYPE support. 

For request messages with INFOTYPEs not equal to $00 the positive response 
messages may not be sent by the ECU(s) within in the P2max timing window as 
specified in Section 4.1.2. The external test equipment shall maintahfa list of 



ECUs, which support the INFOTYPEs not equal to $00 in order to justify, 
whether it shall expect a response message from this ECU or not. This applies to 
the following protocols: 

a. ISO 9141-2: If the positive response message is not received within 
P2 K-Line» me external test equipment shall stop retrying the request mes- 
sage after one (1) minute from the original request. The retry message 
shall be sent at least every four (4) seconds. The retry message keeps the 
bus alive and prevents the external test equipment from having to re-initi- 
alise the bus (P3 K _ Line time out). The ECU shall not re-initialise the ser- 
vice $09 internal routine. Refer to Section 4.1.4.3.1. 

b. SAE J1850: If the response message is not received within thirty 
(30) seconds, the external test equipment shall re-send (retry) the request 
message. The ECU shall not re-initiate the service $09 internal routine, 
but send the positive response message if not already sent. In order to 
achieve a maximum time out of one (1) minute the external test equip- 
ment shall perform no more than one (1) retry. Refer to Section 4.1.4.3.3. 

5.9.2 Message Data Bytes 

5.9.2.1 Request Vehicle Information Request Message Definition (Read 
Supported InfoType) 



TABLE 84— REQUEST VEHICLE INFORMATION REQUEST MESSAGE (READ SUPPORTED INFOTYPE) 



Data Byte 



Parameter Name 



Request vehicle information request SID 



InfoType (see Appendix A) 



Hex Value 



SIDRQ 



INFTYP 



5.9.2.2 Request Vehicle Information Response Message Definition (Report 
Supported InfoType) 



TABLE 85— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 
(REPORT SUPPORTED INFOTYPE) 



Data Byte 



#1 



#2 



#4 
#5 
#6 
#7 



Parameter Name 



Request vehicle information response SID 



InfoType 



MessageCount 



data record of InfoType = [ 



Data A: supported InfoTypes, 
Data B: supported InfoTypes, 
Data C: supported InfoTypes, 
Data D: supported InfoTypes] 



C = Conditional — Data A - D shall not be included if InfoType equals an odd number (MessageCount) 



Cvt 



M/C 
M/C 
M/C 
M/C 



Hex Value 



49 



SIDPR 



INFTYP_ 



MC_ 



DATAREC_ 
DATA_A 
DATA_B 
DATA_C 
DATA D- 



5.9.2.3 Request Vehicle Information Request Message Definition (Read 
InfoType Values) 



Data Byte 



#1 



TABLE 86— REQUEST VEHICLE INFORMATION REQUEST MESSAGE (READ INFOTYPE VALUES) 



Parameter Name 



Request vehicle information request SID 

InfoType . 



Cvt 



09 



Mnemonic 



SIDRQ 

INFTYP_ 



23.54 



5.9.2.4 Request Vehicle Information Response Message Definition (report 
InfoType values) " 



TABLE 87— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (REPORT INFOTYPE VALUES) 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request vehicle information response SID 


M 


49 


SIDPR 


#2 


InfoType 


M 


XX 


INFTYP_ 


#3 


MessageCount 


M 


XX 


MC_ 


#4 
#5 
#6 
#7 


data record of InfoType = [ Data A, 
Data B, 
DataC, 
Data D ] 


M/C 
M/C 
M/C 
M/C 


XX 
XX 
XX 
XX 


DATA A 
DATA B 
DATA C 
DATA D 


C = Conditional — data A - D is only present if the requested InfoType equals an even number 



5.9.3 Parameter Definition 

5.9.3.1 Vehicle Information Types Supported — Refer to Appendix A. 

5.9.3.2 Vehicle Information Types and Data Byte Descriptions — Refer to 
Appendix G; 

5.9.3.3 MessageCount Description — Refer to Appendix G. 

5.9.4 MESSAGE EXAMPLE— The example below shows how the "Request vehi- 
cl&information" service shall be implemented. 

• ' 5.9.4^1 Step #1'. Request Vehicle Information (Request Supported InfoType) 
from Vehicle — The external test equipment requests all supported InfoTypes from 
the vehicle. Refer to the example of service $01 how to request supported PIDs 



(same concept is used for supported InfoTypes). As a result of the supported Info- 
Type request the external test equipment creates an internal list of supported PIDs 
for each ECU: The ECU #1 (ECM) supports the following InfoTypes: $01, $02, 
$03, $04, $05, $06, $07, and $08. Since there is, only one ECU; which meets 
emission-related legislative requirements; no response messages from another 
ECU will occur. 

5.9.4.2 Step <#2: Request InfoTypes from Vehicle— Now the external test 
equipment requests the following InfoType: 

—InfoType $01: MC_VIN = 5 response messages; supported by ECU#1 



TABLE 88— REQUEST VEHICLE INFORMATION AEQUEST MESSAGE 



: Message direction: 


External test equipment -» All ECUs 


Message Type: 


Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID 


09 


S1DRQ 


#2 


InfoType: MessageCount.VIN 


01 


INFTYP 



TABLE 89— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 



Message direction: 


ECU#1 ;-» External test equipment 




Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte, Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: MessageCount VIN 


01 


INFTYP 


#3 


MessageCount VIN = 5 response messages 


05 


MC_VIN 



Now the external test equipment requests the following InfoType: 
— InfoType $02: VIN = [lGlJC5444R7252367]supportedby ECU#1. 



TABLE 90— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


. " 




Message Type: 


Request 


; Data Byte 


Description (ail values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID 


09 


SIDRQ 


#2 


InfoType: VIN 


02 


INFTYP 



23:55 



TABLE 91— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1) 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 



#4 
#5 . 
#6 
#7 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: VIN 



MessageCount VIN = 1st response message 



Data A: Fill byte 
Data B: Fill byte 
Data C: Fill byte 
DataD:T 



Byte Value (Hex) 



49 



00 
00 
00 
31 



TABLE 92— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (2) 



Message direction: 



Message Type: 



Data Byte 



#1 



#4 
#5 
#6 
#7 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: VIN 



MessageCount VIN = 2nd response message 



Data A: 'G' 
DataB:T 
Data C: 'J' 
Data D: 'C 



Byte Value (Hex) 



47 
31' 
4A 
43 



TABLE 93— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (3) 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 



#4 
#5 
#6 
#7 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: VIN 



MessageCount VIN = 3rd response message 



Data A: '5' 
Data B: '4' 
Data C: '4' 
Data D: '4' 



Byte Value (Hex) 



49 



35 
34 
34 

:34 



TABLE 94— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (4) 



Message direction: 



Message Type: 



Data Byte 



#1 



" M - 
#5 
#6 
#7 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: VIN 



MessageCount VIN = 4th response message 



Data A: 'R' 
Data B: '7' 
Data C: '2' 
Data D: '5' 



Byte Value (Hex) 



52 
37 
32 
35' 



Mnemonic 



SIDPR 



INFTYP 



MC_VIN 



DATA_A 
DATA_B 
DATA_C 
DATAJ3 



Mnemonic " 



INFTYP 



MC_VIN 



DATA_A 
DATA_B 
DATA_C 

dataId 



Mnemonic 



SIDPR 



INFTYP 



MC_VIN 



DATA_A 
DATA_B 
DATA_C . 
DATA_D 



Mnemonic 



INFTYP 



MC_VIN 



DATA_A 
DATA_B 
DATA_C 
DATA_D^ 



23.56 



TABLE 95— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (5) 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (ail values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


« 


Request vehicle information response SID 


49 . 


SIDPR 


#2 


lnfoType:VIN 


02 


INFTYP 


#3 


MessageCount VIN = 5th response message 


05 


MC_VIN 


#4. 
#5 
#6 
#7 


Data A: '2' 

Data B: '3' 

' Data C: '6' 

Data D: 7' 


32 
33 
36 
37 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



Now the external test equipment requests the following InfoType: 

— InfoType $03: MessageCount Calibration ID = $04;supported by ECU#1 



TABLE 96— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: *" 


"Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID 


09 


SIDRQ 


#2 


InfoType: MessageCount Calibration ID 


03 


INFTYP 



TABLE 97— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 



Message direction: 


ECU#1 -> External test equipment. . 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: MessageCount Calibration ID 


03 


INFTYP 


#3 


MessageCount Calibration ID = 4 response messages 


04 


MC_CALID " 



Now the external test equipment requests the following InfoType: 
—InfoType $04: CALID = [JMB*36761500]; supported by ECU#1; 



TABLE 98— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (all values are in hexadecimaj) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID . . . 


09 


SIDRQ 


#2 


InfoType: Calibration ID 


04 ' 


INFTYP 



TABLE 99— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1) 



Message direction: 


ECU#1 -> External test equipment ■ 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) / 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: Calibration ID 


04 


INFTYP 


#3 


MessageCount Calibration ID = 1st response message 


01 


MC_CALID 


#4 
#5 
#6 
#7 


Data A: 'J' 
Data B: 'M' 
Data C: 'B' 
Data D: '" 


4A 
4D 
42 
2A 


DATA_A 
DATA_B 
DATA_C 
DATAJD 



23.57- 



TABLE 100— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (2) 



Message direction: 


ECU#1 -> External test equipment * * 


Message Type: 


Response " " ' 


Data Byte 


Description (all values are in hexadecimal) 


'Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID - - ■■ 


49 


SIDPR 


#2 


InfoType: Calibration ID ' - — ■- - 


04 - 


INFTYP- 


#3 


MessageCount Calibration ID = 2nd response message - — 


02 


MC_CALID 


#4 
#5 
#6 
#7 


DataA:'3' --■ -.- - - 

Data B: '6' . . ' : .""■ .-'.-'.. 

Data C: '7' 

Data D: '6' - 


33 ■ - •- - 

36 . 

37 

36 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



TABLE 101— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (3) 



Message direction: 



Message Type: 



Data Byte 



#1 



#4 
#5 
#6 
#7 



ECU#1 -> External test equipment. 



.Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID- 



InfoType: Calibration ID 



MessageCount Calibration ID = 3rd response message 



Data A: '1' 
Data B: '5' 
Data C: '0' 
Data D: '0' 



Byte Value (Hex) 



■ 49 



04- 



31 
.35- 
'30 

30 



TABLE 102— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (4) 



Message direction: 



Message Type: 



Data Byte 



#2 



#4 
#5 
#6 
#7 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: Calibration ID 



MessageCount Calibration ID = 4th. response message 



Data A: Fill byte 
Data B: Fill byte 
Data C: Fill byte 
Data D: Fill byte 



Byte Value (Hex) 



04 



00 
00 
00 
00 



Now the external test equipment requests the following InfoType: 

— InfoType $05: MessageCount Calibration Verification Number = $06; 

supported by ECU#1 and ECU#2 



TABLE 103— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -» All ECUs 



Request 



Description (ail values are in hexadecimal) 



Request vehicle information request SID 



InfoType: MessageCount Calibration Verification Number 



Byte Value (Hex) 



05 



TABLE 104— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: MessageCount Calibration Verification Number 



MessageCount Calibration Verification Number = 2 response messages 



Byte Value (Hex) 



49 



05 



Mnemonic 



SIDPR 



INFTYP 



MCCALID 



DATA_A 
DATA_B . 
DATA_C 
DATA_D 



Mnemonic 



SIDPR 



INFTYP 



MCCALID 



DATA_A 
DATA_B 
DATA_C 
DATA_D 



Mnemonic 



SIDRQ 



INFTYP 



Mnemonic 



SIDPR 



INFTYP 



MC_CVN 



23.58 



TABLE 105— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 



Message direction: 


ECU#2 -> External test equipment 




_ 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: MessageCount Calibration Verification Number 


05 


INFTYP 


#3 


MessageCount Calibration Verification Number = 1 response message 


01 


MC_CVN 



Now the external test equipment requests the following InfoType: 
—InfoType $06: CVN#1 = [17 91 BC 82];supportedby ECU#1 
—InfoType $06: CVN#2 = [16 E0 62 BE];supported by ECU#1 



—InfoType $06: CVN = [98 12 34 76] supported by ECU#2 



TABLE 106— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 


"External test equipment -> Ail ECUs 


MessageType:" 


Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID 


09 


SIDRQ 


#2 


InfoType: Calibration Verification Number 


06 


INFTYP 



TABLE 107— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1) 



Message direction: 


ECU#1 -> Externa) test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: Calibration Verification Number 


06 


INFTYP 


#3 


MessageCount Calibration Verification Number = 1st response message 


01 


MC_CVN 


#4 
#5 
#6 
#7 


Data A: 17 

Data B: 91 

- Data G: BC 

Data D: 82 


17 
91 
BC 

82 ' •■ 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



NOTE — Depending on which protocol the vehicle supports the following 
situations may occur: 

— If the vehicle supports ISO 9141-2 the external test equipment may need 

to repeat the request message multiple times before the ECU(s) send a 
response message. 

— If the vehicle supports SAE 11850 the external test equipment may need 
to repeat the request message before the ECU(s) send a response mes- 
sage. 



If the vehicle supports ISO 14230^4 the ECU(s) may send a negative 
response message with response code $22 - condrtionsNotCorrect if e.g., 
the engine is running. After the vehicle conditions have been adjusted to 
meet this service request the external test equipment shall repeat the 
request message and the ECU(s) shall send a positive response message. 



TABLE 108— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (2) 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: Calibration Verification Number 


06 


INFTYP 


#3 


MessageCount Calibration Verification Number = 2nd response message 


02 


MC_CVN 


#4 
#5 
#6 
#7 


Data A: 16 
Data B: E0 
Data C: 62 
Data D: BE 


16 
E0 
62 
BE 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



23.59 



TABLE 109S-REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (3) 



Message direction: 


ECU#2 -> External test equipment 




Message Type: 


Response 




Data Byte 


■-■ Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 




#1 


Request vehicle information response SID 


49 


SIDPR 




#2 


InfoType: Calibration Verification Number 


> 06 ' . : 


INFTYP 




#3 


MessageCount Calibration Verification Number= 1st response message ■-..:■■ ' 


01 


MC.CVN 




#4 

'.'. #5 
#6 
#7 


Data A: 98 

Data B: 12 I": 

Data C: 34 

Data D: 76 


-98. ■■•_ : 

•■ 12 :'.-. 

34' - • .-.':•' . " 

■ 76 v": ■."■:'•. '■ 


' DATA_A 

. DATA_B 

DATA_C 

- ! DATA D. 




Now the externa] 
-^ InfoType $07 
ported by ECU# 


test equipment requests the following InfoType: :: ::; 

: MessageCount In-use Performance Tracking = $08;sup= — -■■-■■ - 

1 -:- -,:■••■ 


e ; ':.'■' "•".: 


- 




TABLE110— REQUEST VEHICLE INFORMATION REQUEST MESSAG 




Message direction: 


. External test equipment -> All ECUs 


... _.. 


- •-'- ■ 




Message Type: 


Request 


--.. ..;. . ■.....■„ 


'" ' 




Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 




#1 


Request vehicle information request SID 


09 " " 


SIDRCT 




- #2 


InfoType: MessageCount In-use Performance Tracking 


07 ~ -■..-.'-"■ 


: INFTYP 




TABLE 111— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 






Message direction: 


ECU#1 -» External test equipment 




Message Type: 


Response 


... . - . . . _ . 


--- 




Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


._ 


#1 


Request vehicle information response SID - 


49 


SIDPR 




#2 


InfoType: MessageCount In-use Performance Tracking 


07 


INFTYP 




#3 


MessageCount In-use Performance Tracking = 8 response messages 


08 


MCJPT 





Now the external test equipment requests the following InfoType: 

-^ InfoType $08: MC_IPT = 8 response messages; supported by ECU#1 ; 



TABLE 112— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request vehicle information request SID 



InfoType: In-use Performance Tracking 



Byte Value (Hex) 



09 



Mnemonic 



SIDRQ 



TABLE 113— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1) 



Message direction: 



Message Type: 



Data Byte 



#1 



#4 
#5 
#6 
#7 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: In-use Performance Tracking 



MessageCount In-use Performance Trackings 1st response message 



OBDCOND_A: 1 024 counts 
OBDCOND_B: 1024 counts 
IGNCNTR_A: 3337 counts 
IGNCNTR_B: 3337 counts 



Byte Value (Hex) 



49 



04 
00 
0D 
09 



Mnemonic 



SIDPR 



MCJPT 



OBDCOND_A 
OBDCOND_B 
IGNCNTR_A 
IGNCNTR B 



23.60 



TABLE 114— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (2) 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: in-use Performance Tracking 


08 


INFTYP 


#3 


MessageCount In-use Performance Tracking = 2nd response message 


02 


MCJPT 


#4 
#5 
#6 
#7 


CATCOMP1_A: 824 counts 
CATCOMP1_B: 824 counts 
CATCOND1_A: 945 counts 
CATCOND1_B: 945 counts 


03 
38 
03 
B1 


CATCOMP1_A 
CATCOMP1_B 
CATCOND1_A 
CATCOND1_B 



TABLE 115— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (3) 



Message direction: 


ECU#1 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: In-use Performance Tracking 


08 


INFTYP 


#3 


MessageCount In-use Performance Tracking = 3rd response message 


03 


MGilPT 


#4 
#5 
#6 
#7 


CATCOMP2_A:711 counts 
CATCOMP2_B: 711 counts 
CATCOND2_A: 945 counts 
CATCOND2_B: 945 counts 


02 
C7 
03 
B1 


CATCOMP2_A 
CATCOMP2_B 
CATCOND2_A 
CATCOND2_B 



TABLE 116— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (4) 



- Message direction: 


ECU#1 -> External test equipment - 


<•— Message Type: 


Response 


Data Byte 


Description (all values are inhexadecimal) 


ByteValue (Hex) 


Mnemonic 


#1 


Request vehicle information response SID 


49 


SIDPR 


#2 


InfoType: In-use Performance Tracking 


08 


INFTYP 


#3 


MessageCount In-use Performance Tracking = 4th response message 


04 


MCllPT 


#4 
#5 
#6 
#7 


02SCOMP1_A: 737 counts 
02SCOMP1_B: 737 counts 
02SCOND1_A: 924 counts 
02SCOND1_B: 924 counts 


02 
E1 
03 
9C 


O2SC0MP1_A 
02SCOMP1_B 
02SC0ND1_A " 
02SCOND1_B 



TABLE 117— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (5) 



,, Message direction: 


ECU#1 -» External test equipment 


- 




Message Type: 


Response 


Data Byte 


Description (all. values arejn hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


" Request vehicle information response SID 


49 


SIDPR 


-#2. - 


infoType: In-use Performance Tracking 


08 


INFTYR 


#3 


MessageCount In-use Performance Tracking = 5th response message 


05 


MCJPT 


#4 .-. .?;■ 

#5 - " 

#6 

#7 


02SCOMP2_A: 724 counts 
02SCOMP2_B: 724 counts 
02SCOND2_A: 833 counts 
02SCOND2_B: 833 counts 


02 
D4 
03 
41 


02SCOMP2_A 
02SCOMP2_B 
02SCOND2_A 
02SCOND2_B 



23.61 



TABLE 118— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (6) 



Message direction: 



Message Type: 



Data Byte 



#4 
#5 
#6 
#7 



ECU#1 -> External test equipment* 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: In-use Performance Tracking 



MessageCount In-use Performance Tracking = 6th response message 



EGRCOMP_A: 997 counts 
EGRCOMP_B: 997 counts 
EGRCOND_A: 1010 counts 
EGRCOND_B: 1010 counts 



Byte Value (Hex) 



63 
E5 
03 
F2 



TABLE 1 1 9— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (7) 



Message direction: 



Message Type: 



Data Byte 



#1 



#4 
#5 
#6 
•#7 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: In-use Performance Tracking 



MessageCount In-use Performance Tracking = 7th response message 



AIRCOMP_A: 937 counts 
AIRCOMPJ3: 937 counts 
AIRCOND_A: 973 counts 
AIRCOND_B: 973 counts 



Byte Value (Hex) 



49 



08 



03 
A9 
03 
CD- 



TABLE 120— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (8) 



Message direction: 



Message Type: 



Data Byte 



#1 



#2 



#3 



#4 
#5 
#6 
#7 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: In-use Performance Tracking 



MessageCount In-use Performance Tracking = 8th response message 



EVAPCOMP_A: 68 counts 
EVAPCOMP_B: 68 counts 
EVAPCOND_A: 97 counts 
EVAPCOND_B: 97 counts 



Byte Value (Hex) 



49 



08 



00 
44 
00 
61 



6. Diagnostic Service Definition for ISO 15765-4 

6.1 Service $01 - Request Current Powertrain Diagnostic Data 

6.1.1 Functional Description— The purpose of this service is to allow 
access to current emission-related data values, including analogue inputs and out- 
puts, digital inputs and outputs, and system status information. The request for 
information includes a parameter identification (PID) value that-indicates to the 
on-board system the specific information requested. PID specifications, scaling 
information, and display formats are included in Appendix B. 

The ECU(s) will respond to this message by transmitting the requested data 
value last determined by the system. All data values returned for sensor readings 
will be actual readings, not default or substitute values used by the system 
because of a fault with that sensor. 



Mnemonic 



SIDPR 



INFTYP 



MCJPT 



EGRCOMP.A 

EGRCOMP_B 

" EGRCOND_A 

EGRCOND_B 



Mnemonic 



SIDPR 



INFTYP 



MCJPT- 



AIRCOMP_A 
AIRCOMPJ3 
AIRCOND_A 
AIRCOND- B 



Mnemonic 



SIDPR 



INFTYP 



MCJPT 



EVAPCOMP_A 
EVAPCOMP_B 
EVAPCOND_A 
EVAPCONDJ3 



Not all- PIDs are applicable or supported by all systems. PID $00 is a bit- 
encoded value that indicates for each ECU which PIDs are supported. PID $00 
indicates support for PIDs from $01 to $20. PID $20 indicates support for PIDs 
$21 through $40, etc. This is the same concept for PIDs/OBD Monitor IDs/TIDs/ 
InfoTypes support in services $01, $02, $06, $08, $09. PID $00 is required for 
those ECUs that respond to a corresponding service $01 request message as spec- 
ified in Appendix A. PID $00 is optional for those ECUs that do not respond to 
additional service $01 request messages. 

The order of the PIDs in the response message is not required to match the 
order in the request message. ; - , 

6.1.2 Message Data Bytes 

6.1.2.1 Request Current Powertrain Diagnostic Data Request Message Def- 
inition (Read Supported PIDs) 



23.62 



TABLE 121— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 
(READ SUPPORTED PIDS) 



Data Byte 


. _. Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request current powertrain diagnostic data request SID 


M 


01 


SIDRQ 


#2 ■■• ■>■■■; 


PID#1 (PIDs supported: see Appendix A) 


M 


XX 


PID 


#3- ■ '"-. " 


PI.D#2 (PIDs supported: see Appendix A) 


U 


XX 


PID 


'" " #4.; " ' 


Plb#3 (PIDs supported: see Appendix A) 


U 


XX 


PID 


#5 


PID#4 (PIDs supported: see Appendix A) 


U 


XX 


PID 


#6 .-'-.' 


PID#5 (PIDs supported: see Appendix A) 


U 


XX 


PID 


■ #7 


PID#6 (PIDs supported: see Appendix A) 


U 


XX 


PID 


U = User Optional — PID may be included to avoid multiple PID supported request messages 



NOTE — To request PIDs supported range from $C1 - $FF another request 
message with PED#1 = $C0 and PID#2 = $E0 shall be sent to the 
vehicle. 



6.1.2.2 Request Current Powertrain Diagnostic Data Response Message 
Definition (Report Supported PIDs)— -ECU(s) must respond to all supported 
ranges if requested. A range is defined as a block of 32 PIDs (e.g., range #1 : PID 
$01-$20). The ECU shall not respond to unsupported PID ranges unless subse- 
quent ranges have a supported PID(s). 



TABLE 122— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 
(REPORT SUPPORTED PIDS) 



Data. Byte . 


Parameter Name 


Cvt 


Hex Value 


Mnemonic- 


#1 


Request current powertrain diagnostic data response SID 


M 


41 


SIDPR 


#2 
#3 

#4 -' 

#5 

#6 


data record of supported PIDs = [ 

1st supported PID 
Data A: supported PIDs, 
Data B: supported PIDs, 
Data C: supported PIDs, 
Data D: supported PIDs ] 


M 
M 
M 
M 
M 


XX 
XX 
XX 
XX 

XX 


PIDREC 

PID 
DATA A 
DATA B 
DATA C 
DATA_D 












#n-4 
#n-3 
#n-2 
#n-1 
#n 


data record of supported PIDs = [ ■ ..»,., 

mth supported PID 
Data A: supported'PIDs, 
Data B: supported PIDs, 
Data C:supported PIDs, 
Data D: supported PIDs ] 


C1 
C2 
C2 
C2 
C2 


XX 
XX 
XX 
XX 
XX 


PIDREC 

PID 
DATA A 
DATA B 
DATA C 
DATA D 


C1 = Conditional — PID value shall be the same value as included in the request message if supported by the ECU 
C2 = Conditional — value indicates PIDs supported; range of supported PIDs depends on selected PID value (see C1) 



NOTE — The response message shall only include the PID(s) and Data A - D 
which are supportedby the ECU. If the request message includes 
(a) PID value(s) which are not supported by the ECU those shall 
notbe included in the response message. 



6.1.2.3 Request Current Powertrain Diagnostic Data Request Message Def- 
inition (Read PID Values) 



TABLE 123— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Data Byte 


Parameter Name 


Cvt 


Hex Value ■ 


Mnemonic 


#1 


Request current powertrain diagnostic data request SID 


M 


°1 


SIDRQ 


#2 


PIDS1 (see Appendix-B) 


M/C, 


XX 


...... PID 


#3 


PID#2 (see Appendix B) ' ■ - 


U/C 


XX. 


PID 


#4 


- PID#3 (see Appendix B) . 


U/C 


XX 


PID 


#5 


PID#4 (see Appendix'B) 


U/C 


XX 


PID 


#6 


PID#5 (see Appendix B) 


U/C 


XX 


PID 


#7 


PID#6 (see Appendix B) 


U/C 


XX 


PID 


U = User Optional — trie parameter may be present or not' 

C = Conditional — if a PID is not supported but requested then there shall be no response for that PID 



6.1.2.4 Request Current Powertrain Diagnostic Data Response Message 
Definition (Report PID Values) ...... 1! '.'..__. 



23.63 



TABLE.124— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 



#n-4 
#n-3 
#n-2 
#n-1 
#n 



Parameter Name 



Request current powertrain diagnostic data response SID 



data record of 1st supported PID =.[ 



PID#1 
data Av 
data.B, 
dataC, 
dataD] 



data record of rath supported.PID = ..[. 



PID#m 
data A, 
data B, 
data C, 
data D ] 



M 
M 
C1 
C1 
C1 



C2 
C2 
C3 
C3 
C3 



C1 = Conditional — "data B - D" depend on selected PID value 

C2 = Conditional — parameter is only present if supported by the ECU 

C3 = Conditional — parameters and values for "data B - D" depend on selected PID number and are only included if PID is supported by the ECU 



Hex Value 



xx 
xx 



Mnemonic 



SIDPR 



PIDREC_ 

PID 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



PIDHEC_ 

PID 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



NOTE — Not all PIDs, which are included in; the request message may be 
supported by all emission-related ECUs, which shall comply with 
this specification. Therefore, each vehicle ECU, which supports at 
least one (1) PID, shall send a response message including the 
PDD(s) with data. 
6.1.3 Parameter Defmtion 

6.1.3.1 PIDs Supported— "Appendix A" specifies the interpretation of the 
data record of supported PIDs. 

6J.3.2 PID and Data Byte Descriptions— "Appendix B" specifies standar- 
dised emission-related parameters. 



6.1.4 MESSAGE EXAMPLE— The following example shows how the "Request 
current powertrain diagnostic data" service shall be implemented. 

6.1.4.1 Step #1: Request Supported PIDs from Vehicle— -The external test 
equipment requests supported PEDs ($00, $20, $40, $60, $80, $A0) from the vehi- 
cle. Refer to Appendix A to interpret the data bytes in the response messages. 

NOTE — ECU(s) must respond to all supported ranges if requested. A range 
is defined as a block of 32 PIDs (e.g., range #1 : PID $01-$20). The 
ECU shall not respond to unsupported PED ranges unless subse- 
quent ranges have a supported PID(s). - - 



TABLE 125— REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#2 



External test equipment -> All ECUs 



Request 



Description (All PID values are in hexadecimal) 



Request current powertrain diagnostic data request SID 



PID used to determine PID support for PIDs 01 -20 



PID used to determine PID support for PIDs 21-40 



PID used to determine PID support for PIDs 41 -60 



PID used to determine PID support for PIDs 61-80 



PID used to determine PID support for PIDs 81 -A0 



PID used to determine PID support for PIDs A1-C0 



Byte Value (Hex) 



01 



40 



Mnemonic 



SIDRQ 



PID 



PID 



TABLE 126— ECU#1 RESPONSE: REQUEST CURRENT POWERTRAIN 
DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#3 
#4 
#5 
#6 



#8 
#9 
#10 
#11 



ECU#1 -> External test 



Response 



Description (All PID. values are in hexadecimal) 



Request current powertrain diagnostic data response SID 



PID requested 



Data byte A, representing support for PIDs 01 , 03-08 
Data byte B, representing support for PIDs 09, 0B-1 
Data byte C, representing support for PIDs 1 1, 13, 15 
Data byte D, representing support for PIDs 19, 1C, 20 



PID requested 



Data byte A, representing support for PID 21 - 
Data byte B, representing nosupportfor PIDs 29-30 
Data byte C , representing no support for PIDs 31-38 
Data byte D, representing no support for PIDs 39-40 



Byte Value (Hex) 



41 



00 



10111111b = $BF 
10111111b = $BF 
10101000b = $A8 
10010001b = $91 



20 



10000000b = $80 
00000000b = $00 
00000000b = $00 
00000000b = $00 



Mnemonic 



SIDPR 



PID 



DATA_A 
DATA_B 
DATA_C 
DATA D 



PID 



DATA_A - 
-DATA_B 
DATA_C 
DATAD 



23.64 



TABLE 127— ECU#2 RESPONSE: REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 


ECU#2 -> External test equipment 


Message Type: 


-Response 


Data Byte 


Description (All PID values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data response SID 


41 


SIDPR 


#2 


PID requested 


00 


PID 


#3 

#4 

#5 

. #6 


Data byte A, representing support for PID 01 
Data byte B, representing support for PID OD 
Data byte C .representing no support/for PIDs 11-18 
Data byte D, representing no" support for PIDs 19-20 


10000000b = $80 
00001000b = $08 
00000000b = $00 
00000000b = $00 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



Now the external test equipment creates an internal list of supported PIDs for 
each ECU. The ECU #1 (ECM) supports the following PIDs: $01, $03 - $09, 
$0B - $11, $13, $15, $19, $1C, $20, $21. 
The ECU #2 (TCM) supports the following PIDs: $01 and $0D. 
6.1.4.2 Step #2: Request Multiple PIDs from Vehicle 

Now the external test equipment requests a combination of a maximum of six (6) 
PIDs in one request message to gain best performance of displaying current data. 



— PID $15: 

— PID $01: Number of emission-related DTCs and MIL status, 

— PID $05: Engine coolant temperature, 

— PID $03: Fuel system 1 status, 

— PID $0C: Engine speed, 

— PID $0D: Vehicle speed 



Bank 1 - Sensor 2, PID is supported by ECU #1 

PID is supported by ECU #1 and #2 

PID is supported by ECU #1 

PID is supported by ECU #1 

PID is supported by ECU #1 

PID is supported by ECU #2 



TABLE 128-^REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (All PID values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


S1~ 


Request current pbwertrafn diagnostic data request SID 


01 


SIDRQ " 


#2 


_ PID: Bank 1 - Sensor 2 ...... 


15 


PID(15) 


#3 


PID: Number of emission-related DTCs and MIL status 


01 


Plbttii)" 


#4 


PID: Engine coolant/temperature 


05 ■ 


PID(05) 


#5 


PID: Fuel system 1 status 


03 


PID(03) 


#6 


PID: Engine speed 


OC. 


PID(0C) 


#7 


PID: Vehicle speed 


0D 


PID(0D) 



TABLE 129— ECU#1 RESPONSE: REQUEST CURRENT POWERTRAIN DIAGNOSTIC DATA RESPONSE MESSAGE 



Message direction: 


ECU#1 -> External test equipment 


Message Type: 


Response 


Data Byte 


Description (All PID values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request current powertrain diagnostic data response SID 


41 


SIDPR 


#2 


PID: Engine coolanttemperature 


05 


PID(05) 


#3 


Data byte A 


6E 


DAtA(A) 


#4 


PID: Number of emission-related DTGs and MIL status 


01 


PID(01) 


#5 
#6 
#7 
#8 


MIL: ON; Number of emission-related DTGs: 03 
Misfire -, Fuel system -.Comprehensive monitoring 

Catalyst -, Heated catalyst - monitoring supported 

Catalyst -, Heated catalyst - monitoring test complete/not complete 


83 
33 
FF 
63 


DATA(A) 
DATA(B) 
DATA(C) 
DATA(D) 


#9 


PID: Bank 1 -Sensor 2 


15 


PID(15) 


#10 
#11 


Bank 2 - Sensor 2: 0.8 Volt 
Bank 2 - Sensor 2: 93.7 % 


A0 
78 


DATA(A) 
DATA(B) 


#12 


PID: Engine speed 


OC 


PID(OC) 


#13 
#14 


Data byte A: 667 rpm 
Data byte B: 667 rpm 


0A 
6B 


DATA'A) 
DATA(B) 


#15 


PID: Fuel system 1 status 


03 


PID(03) 


#16 
#17 


Data byte A: Closed loop - using oxygen sensor(s) as feedback for fuel control 
Data byte B 


02 
00 


DATA'A) 
DATA(B) 



23.65 



TABLE 130— ECU#2 RESPONSE: REQUEST CURRENT POWERTRAIN DIAGNOSTIC 
DATA RESPONSE MESSAGE 



Message direction: 



Message Type: Response 



Data Byte 



#1 



#4 



#5 
#6 
#7 
#8 



ECU#2 -j External test equipment 



Description (All PID values are in hexadecimal) 



Request current powertrain diagnostic data response SID 
PID: Vehicle speed 



Data byte A 



PID: Number of emission-related DTCs and MIL status 



MIL: OFF; Number of emission-related DTCs: 01 

Comprehensive monitoring: supported, test complete 

Catalyst -, Heated catalyst -,..., monitoring supported 

Catalyst -, Heated catalyst -,..., monitoring test complete/not complete 



Byte Value (Hex) 



41 



01 
44 
00 
00' 



Mnemonic 



SIDPR 



PID(OD) 



DATA(A) 



PID(01) 



DATAfA) . 
DATA(B) 
DATA(C) 
DATA(D) 



6.2 Service $02 - Request Powertrain Freeze Frame Data 

6.2.1 Functional Description— The purpose of this service is to allow 
access to emission-related data values in a freeze frame. This allows expansion to 
meet manufacturer specific requirements not necessarily related to the required 
freeze frame, and not necessarily containing the same data values as the required 
freeze frame. The request message includes a parameter identification (PID) value 
that indicates to the on-board system the specific information requested. PH) 
specifications, scaling information, and display formats for the freeze frame are 
included in Appendix B. 

The ECU(s) will respond to this message by transmitting the requested data 
value stored by the system. All data values returned for sensor readings will be 
actual stored readings, not default or substitute values used by the system because 
of a fault with that sensor. 

Service $02 PID $02 indicates the DTC that caused the freeze frame data to be 
stored. If freeze frame data is not stored in the ECU, the system shall report 
$00 00 as the DTC. Any data reported when the stored DTC is $00 00 may not be 
valid. 



The frame number byte will indicate $00 for the freeze frame data. Manufactur- 
ers.may optionally save additional freeze frames and use this service to obtain that 
data by specifying the freeze frame number in the request message. If a manufac- 
turer uses these additional freeze frames, they will be stored under conditions 
specified by the manufacturer, and contain data specified by the manufacturer. 

Not all PIDs are applicable or supported by all systems. PID $00 is a bit- 
encoded value that indicates for each ECU which PIDs are supported. PID $00 
indicates support for PIDs from $01 to $20. PID $20 indicates support for PIDs 
$21 through $40, etc. This is the same concept for PIDs/TTDs/InfoTypes support 
in services $01, $02, $06, $08, $09. PID $00 is required for those ECUs that 
respond to a corresponding service $02 request message as specified in Appendix 
A. PID $00 is optional for those ECUs that do not respond to additional service 
$02 request messages. 

The order of the PIDs in the response message is not required to match the 
order in the request message. 

6.2.2 Message Data Bytes 

6.2.2.1 Request Powertrain Freeze Frame Data Request Message Definition 
(Read Supported PIDs) 



TABLE 131— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSAGE 
(READ SUPPORTED PIDS) 



Data Byte 



Parameter Name 



Request powertrain freeze frame data request SID 



PID#1 (PIDs supported: Appendix A) 



frame # 



PID#2 (PIDs supported: Appendix A) 



frame # 



PID#3 (PIDs supported: Appendix A) 



frame # 



U = User Optional — PID may be included to reduce multiple PID supported request messages 
C = Conditional — parameter is only included if preceding PID# is included 



Hex Value 



02 



Mnemonic 



SIDRQ 



PID 



NOTE— To request PIDs supported range from $61 - $FF, multiple request 
messages with PIDs = $60, $80, $A0, $C0 and $E0 shall be sent to 
the vehicle. 



6.2.2.2 Request Powertrain Feeze Fame Data Response Message Definition 
(Report supported PIDs)— ECU(s) must respond to all supported ranges if 
requested. A range is defined as a block of 32 PIDs (e.g., range #1: PID $01-$20). 
The ECU shall not respond to unsupported PID ranges unless subsequent ranges 
have a supported PID(s). 



23.66 



TABLE 132^REQUESTPOWERf RAIN FREEZE FRAME DATA RESPONSE MESSAGE 
(REPORT SUPPORTED PiDS) 



Data Byte 


Parameter Name 


Cvt ■-'■ 


Hex Value 


Mnemonic 


#1 


Request powertrain freeze frame data response SID 


. M 


42 


SIDPR 


' # 2 " , 


; " . ■ -- i Q t supported PID 


M 


00 


Pip 


#3 


-'-- — — frame* 


M 


XX 


FRNO_ 


#4 

- ■ #5 

#6 

,»7 


data record of supported PIDs =■[• - ■ - 

Data A: supported PIDs, 

Data B: supportedPIDs, 

Data C: supported PIDs, 

"' i Data D: supported PIDs ] 


M 
M 
M 

M . . 


XX 
XX 
XX 

xx 


-' DATAREG- 
DATAJ\ 
DATA_B 
DATA C 
DAfAJ) 




i 








#n-5 


mth supported.PID 


. C1. 


xx 


PID 


#n-4 . - 


frame* ' 


C1 


XX 


FRNO^ 


ftv3.. ."'.... . 
#n-2 
. . -#n-1 : 
' #n 


;data record of.supported PIDs = [ 

.- _.'... .DataA:supported-RlDs,- 

Data B: supported PIDs, 

■ -,-. ..... '.'sJ; •; ■-.;:■ , ; ,;'.. i Data-C: supported PIDs, ..; 

.',''" ' . *,'. Data D: supported Plbs ] 


C2 .- 
C2 
C2 . 
C2 


XX 
XX 

>;xx . ;, .... 

XX 


DATAREC 
DATA-A 
DATA B 
DATAC.^ .-, 
DATAD 


, . C1 = Conditional — PID.yalue.shall be the same value as included in the request message if supported by the-ECU :-•■'. i .. • . 
C2 = Conditional — "value '.Indicates PIDs supported; range of supported PIDs depends on selected P|D value (seed) 



NOTE-r-The response message shall only include the PID(s) and Data A - D 
which are supported by the ; ECU A If the request message includes 
.(a) PID value(s) which are not supported by the ECU those, shall, 
not be included in the response message. 



6.2.Z.3 Request Powertrain Freeze Frame Data Request Message Definition 
(Read Freeze Frame PID Values) . ._■., - „. . . 



TABLE 133— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSAGE 
(READ FREEZE FRAME PID VALUES) 



Data Byte 


Parameter Name . 


Cvt 


Hex Value 


Mnemonic 


' "■ #1 ! "' 


Request powertrain freeze frame data request SID 


M 


02 


SIDRQ 


#2 


PID#1 (see Appendix B) 


M/C1 


xx 


PID 


■ . #3 


.. frame* . 


M 


XX 


FRNO 


#4 


PID#2 (see Appendix B) 


U/C1 


XX 


PID 


#5 


frame* 


C2 


XX 


FRNO 


#6 


PID#3 (see Appendix B) -.' -•..•-."/ tip-;- . "i •■ 'U -:."/■.; -i...: " 


U/C1 


XX 


PID 


#7 


frame # 


C2 


XX 


FRNO 


U = User. Optional — the pararnetermay be present or not - ? 

C_1 =jjonditionai-^jf>, PID is not supported but requested then there shall be no response forthatP ... . .... _....; 

C2 = Conditional — parameter is only present if preceding PID* is present , 



6:2.2.4 RequestrPowertrain Freeze Frame- Data Response Message-Defini- 
tion (Report Freeze .Frame-PID Values) , ■— ■ - ■ - 



TABLE 134— REQUEST POWERTRAIN FREEZE FRAME DATA RESPONSE MESSAGE 
".'■"_. (REPORT FREEZE FRAME PID VALUES) . 



Data Byte- 


Parameter Name 


Cvt 


Hex Value 


Mnemonic J 


#1 


Request powertrain freeze frame data response SID 


i M 


42. 


. SIDPR' ! 


#2- 


— Istsupported PID ....... 


M 


XX - 


PID_ 


#3 


. frame*. . , 


M 


XX 


FRNCv 


«4 

#5 

#6 

- #7 


datarecordof:1stsupportedPID = [dataA, - 
. data B, 
dataC, 
dataD] 


M 
C1 
C1 
C1 


XX: 
XX 
XX 
XX 


DATA A 
DATA B 
DATA C 
DATA_D 












#2 


mth supported PID 


C2 


XX 


PID_ 


#3 


frame # 


C2 


XX 


FRNO_ 


#4 
#5 
#6 
#7 


data record of mth supported PID = [ data A, 
data B, 
data C, 
data D ] 


C3 
C4 
C4 
C4 


XX 
XX 
XX 
XX 


DATA A 
DATA B 
DATA C 
DATA D 


C1 = Conditional — "data B - D" depend on selected PID 

C2 = Conditional — parameter shall be the same value as included in the request message if supported 

C3 = Conditional — data A shall be included if preceding PID is supported 

C4 = Conditional — parameters and values for "data B - D" depend on selected PID number 



23.67/ 



6.2.3 Parameter Definition 

6.2.3.1 PIDs Supported— "Appendix A" specifies the interpretation of the 
data record of supported PIDs. — 

6.2.3.2 PID and Data Byte Descriptions— -"Appendix B" specifies stan- 
dardized emission-related parameters. 

6.2.3.3 Frame # Description— -The frame number identifies the freeze 
frame, which includes emission-related data values in case an emission-related 
DTC is detected by the ECU. 

6.2.4 Message Example— The example below shows how the "Request pow- 
ertrain freeze frame data" service shall be implemented. 

6.2.4.1 Step #1: Request Supported Powertrain Freeze Fame PIDs from 
Vehicle— The external test equipment requests all supported powertrain freeze 
frame PIDs of freeze frame $00 from the vehicle. Refer to the example of service 
$01 how to request supported PIDs. 



As a result of the supported PID request the external test equipment creates 
an internal list of supported PIDs for each ECU: ECU #1 (ECM) supports the fol- 
lowing PIDs: $01 - $09, $0B - $0E, ECU #2 (TCM) does not support any PIDs for 
this service. ■' •- " 

6.2.4.2 Step #2: Request PID $02 "DTC which Caused Freeze Frame to be 
Stored" from Vehicle 

Case #1: Freeze Frame Data are Stored in ECU #1: 
Now the external test equipment requests PID $02 of freeze frame $00 from the 
vehicle. Since the ECU #2 (TCM) doesn't store a freeze frame data record 
only the ECU #1 (ECM) will send a response message. In this example the 
freeze frame data are stored based on a DTC P0130 occurrence. The param- 
eter value of PID $02 "DTC that caused required freeze frame data storage" 
is set to the DTC P0130. 



TABLE 135— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSGAE 



Message Type: 



Data Byte 



#1 



#5 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request powertrain freeze frame data request SID 



PID: Number of emission-related DTCs and MIL status 



Frame # 



PID: DTC that caused required freeze frame data storage 



Frame # 



Byte Value (Hex) 



02 



TABLE 136— REQUEST POWERTRAIN FREEZE FRAME DATA RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#4 
#5 



#6 



#7 



#8 
#9 
#10 
#11 



ECU #1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request powertrain freeze frame data response SID 



PID: DTC that caused required freeze frame data storage 



Frame # 



DTC High Byte of P01 30 
DTC Low Byte of P0130 



PID: Number of emission-related DTCs and MIL status 



Frame # 



MIL: ON; Number of emission-related DTCs: 01 
Misfire -, Fuel system -, Comprehensive monitoring 

Catalyst -, Heated catalyst - monitoring supported 

Catalyst -, Heated catalyst -,..., monitoring test complete/not complete 



Byte Value (Hex) 



00 



01 
30 



81 
33 
FF 
63 



NOTE— ECU#2 does hot store freeze frame data and therefore does not 
send a response message. 



Mnemonic 



SIDRQ 



PID 



FRNO 



FRNO 



Mnemonic 



SIDRQ 



FRNO 



DATA_A 
DATA_B 



PID 



FRNO' 



DATA_A 
DATAJ3 
DATA_C 
DATA_D 



Now the external test equipment requests the parameter value of PID $0C 
"Engine Speed", PID $05 "Engine coolant temperature", and PID $04 "Load" 
stored in the freeze frame. 



TABLE 137— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSAGE 



Message direction: 



Data Byte 



#1 



#5 



Message Type: 



External test equipment -» All ECUs 



Request 



Description (all values are in hexadecimal) 



Request powertrain freeze frame data request SID 



PID: Engine Speed 



Frame # 



PID: Engine coolant temperature 



Frame # 



PID: Load 
Frame # 



Byte Value (Hex) 



02 



0C 



00 



Mnemonic 



SIDRQ 



FRNO 



PID 



FRNO 



FRNO 



23.68 



TABLE 138-^REQUEST POWERTRAIN FREEZE FRAME DATA RESPONSE MESSAGE 



Message direction: 


ECU #1 -» External test equipment ■ , r ■ 


Message Type: 


Response . 


Data Byte 


;.!' -1' >.i J. \ ' ■ '.• ~.-ie ■ -. -J.-: Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request powertrain freeze.frame data response SID 


42 . 


SIDRQ 


#2. 


{ PID::Engine .Speed* : ■ ■ ) 


, .:-. oc 


PID.:, 


■i '#3 


Frame* * ■'-" ■■ 


00 


FRNO 


■ '#4 ! - ■'-'"'■' ■' 
#5 


" High Byter Engine Speed: 2080 rpm "' 
Low Byte: Engine Speed: 2080 rpm 


20 
80 


DATA_A 
DATA__B 


#6 


PID: Load 


04 


PID 


#7 


Frame # 


00 


FRNO 


#8 


Load: 50.2% 


80 


DATA_A 


#9 - 


• "PID: Engine coolant temperature 


05 


PID ' 


.—#10 


_Frame # . . ....._. 


...'.. 00 


FRNO. 


#« ::r ' * 


Engine coolant temperature: °C '- '- ' -"- : " 


'- 28 


DATAlA 



Caise#2:.No Freeze Frame Dataviare Stored in ; any ECU: 

If no freeze frame data are stored then the-parameter value of PUD $02 
"DTC thatLcaused required .freeze frame data storage", is set to $00 00. If the 



external test equipment requests a PID * $00 (excluding $00 and $02) the ECU 
shall not send a response message^ 



TABLE 139— REQUEST POWERTRAIN FREEZE FRAME DATA REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs _ 


— MessageTyper- 


Request - - - . . - 


!- Data-Byte- — 


- - Description (all values-are in -hexadecimal) - 


Byte Value (Hex) 


Mnemonic 


' #1- 


- Request powertrain-freeze.fram& data. request SID 


- 02 


- . - - SIDRQ 


! #£'"' 


PlD: Numberofemissioh-related DTCs and MIL status 


01 


Pltf '-'■' 


#3 


Frame* 


-•-■■, 00 


FRNO 


#4 


PID: DTC that caused required freeze frame data storage 


02' - 


PID 


#5 - 


Frame * 


00 


FRNO 



TABLE 140— REQUEST POWERTRAIN FREEZE FRAME DATA RESPONSE MESSAGE 



Message direction: 


ECU #1 -» External test equipment ^ 


— -— - Message Type: 


Response - - - — - - - — 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 ' 


Request powertrain freeze frame data response SID 


- :-, 42t,-: 


SIDRQ 


#2 


PID: DTC that caused required freeze frame data storage 


02 ■■-. 


PID 


#3 


Frame* 


00 


FRNO 


: #4 
#5 


DTC High Byte of POObO {no freeze frame data stored) 
DTC Low Byte of P0000 (no freeze frame data stored} 


od -'- 

00 ' 


DATA_A 
DATA_B 



6.3 Service $03 - Request Emission-Related Diagnostic Trouble Codes 

6.3.3LEUNCTIONAL JjESCBTF TI ON — Th e purpose of this .service-is to enable the 
external test equipment to obtain "confirmed" emission-related DTCs. 

Send^ Service _ $03 request for all emission-related DTCs.EaclrECU that has 
DTCs! will respond with one (1) message containing all emission-related DTCs. If 
an ECU does not .have emission-related DTCs then it shall respond with a mes- 
sage indicating noJblCs-arestoreiby setting the parameter #. of DTC to $00. 



,DTCs-are transmittedin,two.(2) bytes of information for each DTC. The first 
two (2) bits (high order)-olthe first (1) byte for each DTC will be zeros-to indicate 
whether the DTC is a Powertrain, Chassis; Body;: or Network DTC (refer to SAE 
J2012for additional interpretation of this structure). The secondtwo (2) bits will 
indicate the first digit of the DTC (0 through 3). The second (2) nibble of the first 
(1) byte and the entire second (2) byte are the next three (3) hexadecimal charac- 
. ters.of the actual DTC reported as hexadecimal. A Powertrain DTC transmitted as 
$0143 shall be displayed as P0143. / 



1 T 



: l 



i i 



1 4 

FIGURE 14— DIAGNOSTIC TROUBLE CODE ENCODING EXAMPLE DTC P0143 



23.69 



6.3.2 Message Data Bytes 

6.3.2. 1 Request Emission-Related DTC Rquest Message Definition 





TABLE 141— REQUEST EMISSION-RELATED DTC REQUEST MESSAGE 






'■■"""" 


Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request emission-related DTC request SID 


M 


03 


SIDRQ 


6.3.2.2 Request Emission-Related DTC Response Message Definition 

TABLE 142— REQUEST EMISSION-RELATED DTC RESPONSE MESSAGE 









Data Byte 


Parameter Name „ 


Cvt 


- -Hex Value 


Mnemonic 


#1 


Request emission-related DTC response SID 


M 


43 


SIDPR 


#2 


# of DTC = [ 

no emission-related DTCs stored 

emission-related DTCs stored ] 


M 


xx = [ - 

r 00, 

01 -FF 


#OFDTC 


#3 
#4 


DTC#1 (High Byte). 
DTC#1 (Low Byte) 


C 
C 


XX 
XX 


DTC1HI 
DTC1LO 








XX 




#n-1 
#n 


DTC#m (High Byte) 
DTC#m (Low Byte) 


C 
C 


XX 
. :XX; 


DTCmHI 
DTCmLO 


C = Conditional — DTC#1 - DTC#m are only included if # of DTC parameter value * $00 









6.3.3 Parameter Definition 

6.3.3.1 # of DTC Parameter Description-— The # of DTC parameter reports 
the emission-related DTC(s) currently (at the time of the request message pro- 
cessing) stored in the ECU(s). 

6.3.4 Message Example— The example below shows how the "Request 
emission-related DTCs" service shall be implemented. The external test equip- 
ment requests emission-related DTCs from the vehicle. The ECU#1 (ECM) has 



six (6) DTCs stored, the ECU #2 (TCM) has one (1) DTC stored, and the ECU #3 
(ABS/Traction Control) has no DTC stored. 

— ECU #1 (ECM): P0143, P0196, P0234, P02CD, P0357, P0A24 

— ECU #2 (TCM): P0443 

— ECU #3 (ABS/Traction Control):no emission-related DTC stored 



TABLE 143— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request emission-related DTCs request SID 



Byte Value (Hex) 



03 



Mnemonic 



SIDRQ 



TABLE 144— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGES 



Message direction: 



Message Type: 



Data Byte 



#1 



#2 
#3 



#4 
#5 



#8 
#9 



#10 
#11 



#12 
#13 



ECU #1 -i External test equipment 



Response 



Description (all values are in hexadecimal) 



Request emission-related DTCs response SID 



# of DTC {number of emission-related DTCs stored in this ECU) 



DTC High Byte of P0143 
DTC Low Byte of P0143 



DTC High Byte of P01 96 
DTC Low Byte of P0196 



DTC High Byte of P0234 
DTC Low Byte of P0234 



DTC High Byte of P02CD 
DTC Low Byte of P02CD 



DTC High Byte of P0357 
DTC Low Byte of P0357 



DTC High Byte of P0A24 
DTC Low Byte of P0A24 



Byte Value (Hex) 



43 



01 
43 



01 
96 



02 

34 



02 
CD 



03 
57 



0A 
24 



Mnemonic 



SIDRQ 



#OFDTC 



DTC1HI 
DTC1LO 



DTC2HI 
DTC2LO 



DTC3HI 
DTC3LO 



DTC4HI 
DTC4LO 



DTC5HI 
DTC5LO 



DTC6HI 
DTC6LO 



23.70 



TABLE 145— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 


ECU #3 ^ ExtenialEtesf equiprhehfi .'j"i - "5:^.. W !-j:t 5 ' '- .?'";" 


; ., ;;- - Message.»Type: 


Response ;.:";-: :rvi.: :- 


Data Byte 


', -. Description (all values are in hexadecimal) 


"• ByteValue (Hex) : ■ 


Mnemonic 


#1 


Request emission-related DTCs response SiD 


43 


S1DRQ 


#2 


# of DTC {number of emission-related DTCs stored in this ECU) 


00 


#OFDTC 



TABLE 146— BEQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES RESPONSE MESSAGE 



Message direction: 



ECU #2 ^External -test equipmentr 



MessageType: 



Data Byte 



Description (all values are in hexadecimal) 



Byte Value (Hex) 



#1 



Request emission-related DTCs response SID 



43'' 



SIDPR 



frofUTC (number bf emission-related DTCs" stofedlh this ECU) 



#OFDTC 



"#3 ._ 



DTC High Byte" of R04437; 
DTC Low-Byte of P0443 



04. 
43 



DTCIHIJ 
DTC1LO 



63~^Service1$04 - ClearZResef Emission-Related BiagnosticTiiformatioii 

^.^l.-I^c^ON/^I^eRIFriONT-Xhepjirppse pfithis service, is. to provide a 
means for the external test equipment to icpjnimand EGUsitp.cJearrallemission- 
relatedbUagn^ostic.irifprmatipn.:This includes: 

— Number of diagnostic trouble co,des-' 

— Diagnostic trouble, codes., s^, „,);,. ,.yv 

— Trouble code for freeze frame data 

— Freeze frame data 

— Status of system monitoring tests 

— On-board monitoring test results - : - ■- ■■-■ - 
— •- Distance-travelled-while MD-Hs-activated 
— I Number of warm-ups since DTC cleared 
— f Diitance since diagnostic troublecbides cleared Tcan be read witbT Service $01, PID $31) 

— [ ..Minutes.run iyjhe_engine_while MLactiyated Xcanbe.readjratrL&emce $Q1,.EID $.4D). _ 

— i Time since.diagriostic troubleccodesicleared (can be read with Servieei$01s,BID!i$4E).c . 

Omerhmanufacturer speeific-"clearing/resetting" actions- may -also -occur in - 
response-to-tnis-requestmessage.. All RCtts-shalLxespondto Ihis request-message, 
with ignition ON and with the engine not running.^ _ 

For safety and/or technical design reasons', ECUs that"' can" nof perform this 
operation under other conditions, such as with" the engine running shall send a 
negative response mess.age_w.ilh response_code.$.22 - concUtionsNotCarre_ct, 



(can;be)read'.with-Service $01, PID $01) 
,,- •.(caAbejeadtw|th;Seryice $03^ ,-,, ./;■ .,. 
(can be read with Service $di,-I?!up ;$02) , 
(can be read with Service $02)i < MDa 
(can be read with Service $01, PID $01) 
l - : '^'i^an-be-reaa^ffi^Brvi6S*$DS^Siitf$07)'" ; 
~ (can be-read-with-Service-$01-, PID $21) 
(can be read with Service $01, PID $30)- 



—6A2- Message Data Bytes - _ - - ■ -■- : 

6A.2X. Clear/Reset- EmissioiuReldieM '.: Diagnostic Information .Request 

Message Definition 



... — 


„ .TABLE 1.47T-CLEAR/RESET EMlSSIOMzBELATED.DlAGNOSILCJNEORMATIORBEQUEST MESSAGE 




' """ - '"i 


Data Byte 




Cvt 


Hex Value . — 


Mnemonic- 


:" _ *i"".-;7,r." 




- m r ' 


— "",.04" "."'! 


SIDRQ" 


Clear/reset emission-related diagnostic intormation request bib 



6.4.2.2 Clear/Reset Emission-Related Diagnostic Information Response 
Message Definiiioh "'____ _ _ ' _ - 



TABLE 148— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



Data ByteS "■"_" 


Parameter Name 


Cvt 


Hex-Value ; 


Mnemonic 


;.JH-^.2- : . 


Clear/reset emission-related diagnostic information response SID 


M 


44 


SIDPR 



6.4.3 Parameter DEFiNlinoN — This service does not support any parameters. 

6.4.4 MessagkExamplb— The "example below shows" how the "Clear/reset 
emission-related diagnostic information" service shall be implemented if ignition 
is ON and with tljelehgine.ript running. ...";.... _. 



The external test equipment commands the vehicle to Clear/reset emission- 
related diagnostic information." 



TABLE 149— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION REQUEST MESSAGE 



Message direction: 


External test equipment -> AH ECUs 






Message Type: 


Request 






Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Clear/reset emission-related diagnostic information request SID 


04 


SIDRQ 



23.71 



TABLE 150-CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



direction: 



Message Type: 



Data Byte 



#1 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Clear/reset emission-related diagnostic information response SID 



Byte Value (Hex) 



Mnemonic 



SIDPR 



TABLE 151— CLEAR/RESET EMISSION-RELATED DIAGNOSTIC INFORMATION RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



ECU#2 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Clear/reset emission-related diagnostic information response SID 



Byte Value (Hex) 



44 



Mnemonic 



SIDPR 



TABLE 152— NEGATIVE RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



ECU#1 -» External test equipment 



Response 



Description (all values are in hexadecimal) 



Negative Response Service Identifier 



Clear/reset emission-related diagnostic information request SID 



Negative Response Code: conditionsNotCorrect 



Byte Value (Hex) 



7F 



SIDNR 



SIDRQ 



6.5 Service $05 - Request Oxygen Sensor Monitoring Test Results — 

Service $05 is not supported for CAN. The functionality of service $05 is 
implemented in service $06. 

6.6 Service $06 - Request On-Board Monitoring Test Results for Spe- 
cific Monitored Systems 

6.6.1 Functional Description— The purpose of this service is to allow 
access to the results for on-board diagnostic monitoring tests of specific compo- 
nents / systems that are continuously monitored (e.g., mis-fire monitoring) and 
non-continuously monitored (e.g., catalyst system). 

The request message for test values includes an On-Board Diagnostic Monitor 
ID (see Appendix D) that indicates the information requested. Unit and Scaling 
information is included in Appendix E. 

The vehicle manufacturer is responsible for assigning "Manufacturer Defined 
Test IDs" for different tests of a monitored system. The latest test values (results) 
are to be retained, even over multiple ignition OFF cycles, until replaced by more 
recent test values (results). Test values (results) are requested by On-Board Diag- 
nostic Monitor ID. Test values (results) are always reported with the Minimum 
and Maximum Test Limits. The Unit and Scaling ID included in the response 
message defines the scaling and unit to be used by the external test equipment to 
display the test values (results), Minimum Test Limit, and Maximum Test Limit 
information. 



If an On-Board Diagnostic Monitor has not been completed at least once since 
Clear/reset emission-related diagnostic information or battery disconnect, then 
the parameters Test Value (Results), Minimum Test Limit, and Maximum Test 
Limit shall be set to zero ($00) values. 

Not all On-Board Diagnostic Monitor IDs are applicable or supported by all 
systems. On-Board Diagnostic Monitor ID $00 is a bit-encoded value that indi- 
cates for each ECU which On-Board Diagnostic Monitor IDs are supported. On- 
Board Diagnostic Monitor ID $00 indicates support for On-Board Diagnostic 
Monitor IDs from $01 to $20. On-Board Diagnostic Monitor ID $20 indicates 
support for On-Board Diagnostic Monitor IDs $21 through $40, etc. This is the 
same concept for PIDs/TIDs/InfoTypes support in services $01, $02, $06, $08, 
and $09. On-Board Diagnostic Monitor ID $00 is required for those ECUs that 
respond to a corresponding service $06 request message as specified in Appendix 
A. On-Board Diagnostic Monitor ID $00 is optional for those ECUs that do not 
respond to additional service $06 request messages. 

6.6.2 Message Data Bytes 

6.6.2:1 Request On-Board Monitoring Test Results for Specific Monitored 
Systems Request Message Definition (Read Supported OBDMIDs) 



Data Byte 



#1 



#6 



TABLE 153— REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC MONITORED 
SYSTEMS REQUEST MESSAGE (READ SUPPORTED OBDMIDs) 



Parameter Name 



Request on-board monitoring test results for specific monitored systems request SID 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



On-Board Diagnostic Monitor ID (OBDMIDs supported: Appendix A) 



U = User Optional — OBDMID may be included to avoid multiple OBDMID supported request messages 



Cvt 



NOTE— To request OBDMIDs supported range from $C1 - $FF another 
request message with OBDMED#l = $C0 and OBDMTD#2 = $E0 
shall be sent to the vehicle 



Hex Value 



Mnemonic 



SIDRQ 



OBDMID 



OBDMID 



OBDMID 



OBDMID 



OBDMID 



OBDMID 



6.6.2.2 Request On-Board Monitoring Test Results for Specific Monitored 
Systems Response Message Definition (Report Supported OBDMIDs)— ECU(s) 
must respond to all supported ranges if requested. A range is defined as a block of 
32 OBDMIDs (e.g., range #1: OBDMID $01-$20). The ECU shall not respond to 
unsupported OBDMID ranges unless subsequent ranges have a supported OBD- 
MID(s). 



23.72 



TABLE i54^REQUEST ON-BOARlJ MONITORING TEST RESULTS FOR SPECIFIC 
MONITORED. SYSTEMS RESPONSE MESSAGE (REPORT SUPPORTED OBDMIDs) 



Data Byte 


■■-■ Parameter Name- 


Cvt 


Hex Value 


Mnemonic 


.. #1 


Request on-board monitoring test results for specific monitored systems response SID— 


M 


46 


SIDPR 


#2 
#3 
#4 
#5 
#6 


data record Of-sUppOrted OBDMID = [ - "" ' 
1st supported OBDMID ~ '" 
Data A: supported OBDMIDs, 
Data B: supported OBDMIDs, 
.... ■-.. ... -DataC:supported,OBDMIDs,„ . -.. .. 
Data D: supported OBDMIDs ] 


M 
M 
M 
M 
M 


XX 
XX ' 
XX 
XX 
XX 


OBDMIDREC" 
OBDMID 
DATA A 
DATA B 
DATA C 
DATA_D 












ftl-4 

- - #n-3 

;#n-2 

. tot 

*V 


"data record of supported OBDMID = [~ 

mth supported OBDMID 
- -■- - Data A: supported OBDMIDs, 
Data B: supported OBDMIDs, . 
._.... Data C: supported. OBDMIDs, 
Data D: supported OBDMIDs ] 


C1 
C2 
C2 
C2 
C2 


XX 
XX 
XX 

XX 

-.XX 


OBDMIDREC 
OBDMID 
DATA A 
DATA B; " 
DATA C 
DATA D 


C1 = Conditional — OBDMID value shall be the same value as included in the request message if supported by the ECU 

C2 = Conditional —value indicates OBDMIDs supported; range of supported OBDMIDs depends on selected OBDMID value (see C1) 



NOTE — The response message shall only include the OBDMTD(s) and Data 
A - D which are supported by the ECU. If the request message 
includes (a) OBDMID value(s) which are not supported by the 
ECU- those shall not be included-in the response message. 



6.6.2.3 Request On-Board Monitoring Test Results for Specific Monitored 
Systems Request Message Definition (Read OBDMID Test Values) 



TABLE 155— REQUEST ON-BOARD MONITORING TEST RESULTS FOR SPECIFIC MONITORED 
SYSTEMS REQUEST MESSAGE (READ OBDMID TEST VALUES); 



Data Byte 


Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 


Request on-board monitoring test results for specific. monitored systems request SID 


M 


06 


SIDRQ 


... - #2 . 


On-Board Diagnostic Monitor ID, ■ , : . . 


M - 


; xx.. . ■ 


.OBDMID 



6.6.2.4 Request On-Board Monitoring Test Results for Specific Monitored • ■:*'• ;;? 

Systems Response Message Definition (Report 'OBDMID 'Test Values),-. 

, TABLE ISS-TREQUESTiONrBOARbMONlTORING TEST RESULTS FOR SPECIFIC MONITORED SYSTEMS RESPONSE MESSAGE (REPORT OBDMID TEST VALUES) 



' " Data Byte 


Parameter Name 


Cvt 


. Hex Value 


Mnemonic 


•!"•- #1- ■ -' ■ 


Request on-board monitoring test results for specific monitored systems response SID 


M. 


46 


SIDPR :;. 


:.:' • #2 

#3 ,. 
: '-- '#4 

#S 
#6 
#7 
#8 
#9 
#10 . , 


-data-record of supported: OBDMID '=[ -i > •" 

■.'■■' On-Bbard DiagnosticMonitor ID 
Std./Manuf,.DefinedTID#1, 
"-'■ ' Unit And Scaling'ID#1 J: 
-'Test Value (High Bytej#1 
Test Value, (Low. Bvte)» . 
Min. Test Limit (High Byte)#1 
"Min. Test L'ihiif (Low Byte)#1 
■■■•'- -Max. Test Limit (High Byte)#1 
,, Max. Test Limit (Low Byte)#1 ] 


M 
M 

M 

M 
M 
M 
M 

M: 
: M : . 


XX. ■ 

r: .XX 

XX 

XX 

.... XX-,. , 

XX. 

1 XX 

XX 

XX 


- OBDMlDREd 
., .OBDMID , . 
S/MDTID. . 
UASID ' 

TVHf : ■ i 

TVLQ. , .-. 
MINTLHI 
MINTLLO 
MAXTLHI: '■-' 
MAXTLLO. « 












#n-8 
#n-7 
#n-6 
#n-5 
#n-4 
■-- ~«n-3 
#n^2-: 
_#n-1 
»h 


data record of supported OBDMID = [ 

On-Board Diagnostic Monitor ID 
StdTManuf. Defined TID#m 

- Unit : And-Sca!inglDJ!nn- 4 -, - ...-..- -,. . 

' TestValueiHigh-ByteJSm' ' ..-.-■.,'.■" ".'■ 
Te's'f Value (Low' Bytejftrl 

— ■•--. Min. Test Limit (High Byte)#nr - - ■ 

Min. Test Limit (Low Byte)#m x,< ' .. 

— - - - -Max, Test Limit (High Byte)#m -- - --- 

Max. Test Limit (Low Byte)#m.'l 


C1 
C2 
C2 
C2 
C2 
C2 
C2 
C2 
C2 


XX 
XX 
XX 
XX 
XX 
XX 
XX 
-XX 
XX 


OBDMIDREC 

OBDMID 

S/MDTID 

UASID 

TVHI 

TVLO 

MINTLHI 

MINTLLO. 

- ; - MAXTLHI 

MAXTLLO 


C1 = Conditional — parametensonlypresentifmorethanonetl) ManufacturerDefinedTIDissupportedbythe'ECUcfqrthereqiiestedMonitohlDj "' 
;C2 ^Conditional-— parametenand value depends onselected Manufacturer Defined TID number and are only included if the Manufacturer Defined Tip is; supported by the ECU. The value 
shall be zero ($00) in case the On-Board Diagnostic Monitor has not been completed at least once since Clear/resetemission-reiated diagnostic information- or battery disconnect. 



6.6.3 Parameter Definition 

63.3:1 On-Board r Didgriostic Monitor IDs Supported— The On-Board 

Diagnostic-Monitor IDs supported is the same concept as-used for PTD support in 
services_$0i and;$02. as specifldd.in Appendix A. .'.... . 

6.6.3.2 On-Board Diagnostic Monitor ID Description — The On-Board 
Diagnostic Monitor ID is a one (1) byte parameter and is defined in Appendix A. 
An OnrBoard Diagnostic Monitor may have more ..than one (1) monitor test (Test 

ID). =-. - 1 



NOTE — The" On-Boasd Diagnostic Monitor ID. is similar to»the Test ID 
parameter specified in service $06 in Section 6.6.3.1. . ; , 

6.6.3 3 Standardized and ManufacturerDefined Test ID-Description — The 
Standardized and Manufacturer Defined Test ID is a one (1) byte parameter. \ For 
example, the On-Board Diagnostic Monitor "Oxygen Sensor Monitor Bank 1 - 
Sensor 1" may have the following Standardized Test ID: 

The table below specifies the range of identifiers. ' 



Range (Hex) 



00 



01 



03 



08 



OB 



Range (Hex) 



80 -FE 



FF 



23.73 



TABLE 157— STANDARDIZED TEST ID DESCRIPTION 



Description 



Reserved by document 



Rich to lean sensor threshold voltage (constant) 



Lean to rich sensor threshold voltage (constant) 



Low sensor voltage for switch time calculation (constant) 



High sensor voltage for switch time calculation (constant) 



Rich to lean sensor switch time (calculated) 



Lean to rich sensor switch time (calculated) 



Minimum sensor voltage for test cycle (calculated) 



Maximum sensor voltage for test cycle (calculated) 



Time between sensor transitions (calculated) 



Sensor period (calculated) 



EWMA (Exponential Weighted Moving Average) misfire counts for last 1 driving cycles (calculated) 

Calculation: 0.1 * (current counts) + 0.9 * (previous average) 

Initial value for (previous average) = , 

This TEST ID shall be reported with OBD Monitor IDs A2 - AD (refer to Appendix D) and the Scaling ID 24 (refer to Appendix E). 



Misfire counts for last/current driving cycles (calculated) 



Reserved for future standardisation 



TABLE 158— MANUFACTURER DEFINED TEST ID DESCRIPTION 



Description 



Manufacturer Defined Test ID range - this parameter is an identifier for the test performed within the On-Board Diagnostic Monitor. 



Reserved by document 



Results of latest mandated on-board oxygen sensor monitoring tests, see fig- 
ure below. 



Oxygen 
sensor 
output 



Numbers refer to test ID 




FIGURE 15— STANDARDIZED TEST ID VALUE EXAMPLE 



6.6.3.4 Unit and Scaling ID Definition— The. Unit and Scaling ID is a one 
(1) byte identifier to reference the scaling and unit to be used by the external test 
equipment to calculate and display the test values (results), Minimum Test Limit, 
and the Maximum Test Limit for the Standardized and Manufacturer Defined Test 



ID requested. All standardized Unit and Scaling IDs are specified in "Appendix 
E" of this document 

6.6.3.5 Test Value (Result) Description— The Test Value represents the test 
result and is defined in the table below. 



Parameter name 



Test Value 



# of bytes 



(High and Low 
Byte) 



TABLE 159— TEST VALUE DESCRIPTION 



Description 



Test Value (Result) - this value shall be calculated and displayed by the external test equipment based on the Unit and Scaling ID 
included in the response message. The Test Value shall be within the Minimum and Maximum Test Limit to indicate a "Pass" result. 



23.74 



6.6.3.6 Minimum Test Limit Description— The Minimum Test Limit param- 
eter is defined in the table below. 



TABLE 160— MINIMUM TEST LIMIT DESCRIPTION 



Parameter name 


it of bytes 


Description 


Minimum Test 
- Limit • 


2 

(High and Low 

Byte) 


The Minimum Test Limit shall be calculated and displayed by the external test.equiprnent based on the Unit and Scaling ID included 
E of-this-document-The Minimum Test Limit shall-be the minimum value-for the monitor identifiedby the On-Board Diagnostic - 
Monitor ID. For the Standardized Test IDs which are constantvaluesthe.Minimuirv-Test Limit-shall: be the same value as reported for 

the Test Value: ~ " 

The following conditions apply: ,. ■ t . . 

— if the'Test Value is less than the Minimum test Value results in a "Eail" condition, 
— if the Test Value equals the Minimum Test Value results in a "Pass" condition, 

— if the Test Value is greater than the Minimum Test Value results in.a "Pass" condition. 



6.6.3.7 Maximum Test Limit description— -The 
parameteris defined in the table below. 



Maximum Test Limit 



TABLE 161— MAXIMUM TEST LIMIT DESCRIPTION 



Parameter name 


# of bytes 


Description 


Maximum Test Limit 


2 
(High and Low ' 
Byte) 


The Maximum Test Limit shall be calculated and displayed by the external test equipment based onrthe Unit and Scaling ID included 
- inihe response message: The Unitand Scaling IDs are specified in Appendix E of this document. The Maximum Test Limit shall be 
the maximum value for the monitor identified by the Oh-Board-Diagnosfic Monitor ID; For the Standardized Test IDs which are 
constant values the Maximum Test Limit shall be the same value 1 as reported for the Test Value. 
The following conditions apply: , - : 

— if theiTest Vaiue is less than the Maximum Test Value results ih a "Pass" condition, '_ 

— if the Test Value equals the Maximum Test Value re,sultsJn.a_"Pass" condition, 

—.if the Test Value is greater than the Maximum Test Value results in a "Fail" condition. 



6.6.4 Message Example — The example below shows how the "Request on- 
board monitoring test results for specific monitored systems" service shall be 
implemented". * 

6.6.4.1 Step #1: Request On-Board Monitoring Test Results for Specific 
Nonitored Systems (Request for Supported OBDMIDs)— -The external: test equip- 
ment requests" all supported OBDMIDs from the vehicle. Refer to the example of 
service-$Gl-how to request supported PIDs (same concept is used for supported 
OBDMIDs). 

As a result of the supported OBDMID request the external test equipment 
creates an internal list of supported OBDMIDs for each ECU: The ECU #1 
(ECM) supports OBDMIDs $01, $05, $1 1, and $21. The ECU #2 (TCM) does not 
support any OBDMIDs. 



6.6.4.2 Step #2: Request Current Powertrain Diagnostic Data (Service $01, 
PID $01 )±- Prior to requesting OBD Monitor test results the external test equip- 
ment shall evaluate if the monitor is complete. The status of the" monitor is 
included in the response message of service $01, PID $01 data byte B- D (see 
Appendix B). ■■■■!■• -.:.■_;.■.."' 

6.674.3 Step #3: Request On-Board Monitoring Test Results for Specific 
Monitored Systems — The external-test equipment sends a "Request on-board 
monitoring test, results for specific monitored systems" message with one sup- 
ported OBDMID in the request message to the vehicle. In this example, the 
request message includes the following OBDMID: 

— request message:OBDMID $01 - Oxygen Sensor Monitor Bank 1 - Sensor 1 



TABLE 162— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


Message Type: 


Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request on-board monitoring test results for specific monitored systems request SID 


06 


SIDRQ 


#2 


OBDMID: 01 - Oxygen Sensor Monitor Bank 1 - Sensor 1 


01 


OBDMID 



TABLE 163— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE 



Message direction: 


i 
ECU #1 -» Externaltest equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


-•■ #1 ■ 


'. Bequest Ombo'ardlmonitoring test resultsfor specific! monitored systems response: SID 


46 


SIDPRQ 


#2 
#3 
#4 
#5 
#6 
#7 
#8~~ 
#9 
#10 


OBDMID: 01 - Oxygen Sensor Monitor Bank 1 - Sensor 1 " ' ' 
Standardised Test ID: 01 - Rich to lean sensor threshold voltage (constant) 
Unit And Scaling ID: Voltage 
Test Value High Byte: 
Test Value Low Byte: 0.365 V 
Minimum Test Limit High Byte: 
. Minimum test Limit Low Byte: 0.365 V . 
Maximum Test Limit High Byter' 
Maximum Test Limit Low Byte: 0.365 V - 


01 
01 
0A 
06 
60 
06 
60 
06 
60 


' OBDMID' ■' 
STID 
UASID 
TESTVAL 
TESTVAL 
MINLIMIT 
MINLIMIT 
MAXLIMIT 
MAXLIMIT 


#11 
#12 
#13 
#14 
#15 


OBDMID: 01 - Ox 
Standardized Test 
Unit And Scaling I 
Test Value High B 
Test Value Low By 


/gen Sensor Monitor Bank 1 - Sensor 1 
ID: 05 - Rich to lean sensor switch time (calculated) 
D:Time 
yte 
ite: 0.072 s (0 min, s) 


01 
05 
10 
00 
48 


OBDMID 

STID 

UASID 

TESTVAL 

TESTVAL 



23.75 



TABLE 163— REQUEST OXYGEN SENSOR MONITORING TEST RESULTS RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 

#16 
#17 
#18 
#19 



#20 
#21 

#22 
#23 
#24 
#25 
#26 
#27 
#28 



ECU #1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 

Minimum Test Limit High Byte 

Minimum Test Limit Low Byte: 0.000 s (0 min, s) 

Maximum Test Limit High Byte 

Maximum Test Limit Low Byte: 0.100 s(0 min, s) - r - 



OBDMID: 01 - Oxygen Sensor Monitor Bank 1 - Sensor 1 



Manufacturer Defined Test ID: 1 33 - the name of this Test ID shall be documented in the vehicle Service" 
Information! 

Unit And Scaling ID: Counts 

Test Value High Byte - 

Test Value Low Byte: 150 counts 

Minimum Test Limit High Byte - 

Minimum Test Limit Low Byte: 75 counts 

Maximum Test Limit High Byte 

Maximum Test Limit Low Byte: 65535 counts 



Byte Value (Hex) 

00 
00 
00 
64 



01 



24 
00 
96 
00 
4B 
FF 
FF 



Mnemonic 

MiNLIMIT 
MINLIMIT . . 
MAXLIMIT 
MAXLIMIT 



OBDMID 
MDTID 

UASID 
TESTVAL- 
TESTVAL 
MINLIMIT- 
MINLIMIT 
MAXLIMIT 
MAXLIMIT 



NOTE— ECU#2 does not support any Test IDs and therefore does not send 
a response message. 



6.6.4.4 Request On-Board Monitoring Test Results for Specific Monitored 
Systems— In this example the requested monitor has not been completed once. 
The request message includes the following OBDMID: 

— request message: OBDMID $21 - Catalyst Monitor Bank 1 



TABLE 164— REQUEST CATALYST MONITOR BANK 1 MONITORING 
TEST RESULTS REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request on-board monitoring test results for specific monitored systems request SID 



OBDMID: 21 - Catalyst Monitor Bank 1 



Byte Value (Hex) 



06 



Mnemonic 



SIDRQ 



OBDMID 



TABLE 165— REQUEST CATALYST MONITOR BANK 1 MONITORING 
TEST RESULTS RESPONSE MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 
#7 
#8. 
#9 
#10 



ECU #1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request on-board monitoring test results for specific monitored systems response SID 



OBDMID: 21 - Catalyst Monitor Bank 1 
Manufacturer Defined Test ID: 135 

Unit And Scaling ID: Percent . . .. 

Test Value High Byte: Monitor not completed at least once since erasure 

Test Value Low Byte: 0.00 % 

Minimum Test Limit High Byte 

Minimum Test Limit Low Byte: 0.00 % 

Maximum Test Limit High Byte 

Maximum Test Limit Low Byte: 0.00% 



Byte Value (Hex) 



46 



21 
87 
2E 
00 
00 
00 
00 
00 . 
. 00 



Mnemonic 



SIDPRQ 



OBDMID 
MDTID 
UASID 
TESTVAL 
TESTVAL 
MINLIMIT 
MINLIMIT 
MAXLIMIT 
MAXLIMIT 



NOTE— ECU#2 does not support any Test IDs and therefore does not send 

a response message. 
6.7 Service $07 - Request Emission-Related Diagnostic Trouble Codes 
Detected During Current or Last Completed Driving Cycle 

6.7.1 Functional Description— The purpose of this service is to enable the 
external test equipment to obtain "pending" diagnostic trouble codes detected 
during current or last completed driving cycle for emission-related components / 
systems that are tested or continuously monitored during normal driving condi- 
tions. Service $07 is required for all DTCs and is independent of Service $03. The 
intended use of this data is to assist the service technician after a vehicle repair, 
and after clearing diagnostic information, by reporting test results after a single 
driving cycle. If the test failed during the driving cycle, the DTC associated with 



that test will be reported. Test results reported by this service do not necessarily 
indicate a faulty component / system. If test results indicate a failure after addi- 
tional driving, then the MIL will be illuminated and a DTC will be set and 
reported with service $03, indicating a faulty component / system. This service 
can always be used to request the results of the latest test, independent of the set- 
ting of a DTC. 

Test results for these components / systems are reported in the same format as 
the DTCs in Service $03 - refer to the functional description for service $03. 

6.7.2 Message Data Bytes 

6. 7.2.1 Request Emission-Related Diagnostic Trouble Codes Detected Dur- 
ing Current or Last Completed Driving Cycle Request Message Definition 



23.76 



TABLE 166— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES DETECTED DURING 
CURRENT OR LAST COMPLETED DRIVING CYCLE REQUEST MESSAGE , *? , 



Data Byte 


Parameter Name 


Cvf 


Hex Value; 


Mnemonic 


- :.«., 


Request emission-related diagnostic trouble codes detected during. current or last completed driving 
cycle request SID 


M 


07 


SIDRQ 



i 6. 7.2.2 Bequest, Emission-Related Diagnostic Trouble Codes Detected Dur- 
ing' Current or, Last Completed Driving Cycle Response Message Definition 



TABLE 167— REQUEST EMISSION-RELATED DIAGNOSTIC TROUBLE CODES DETECTED 
DURING CURRENT OR LAST COMPLETED DRIVING CYCLE RESPONSE MESSAGE 



Data Byte 


Parameter Name 


Cvf 


Hex Value ~ 


Mnemonic 


;,:#1 


Request emission-related diagnostic trouble codes detected during current or last completed driving cycle 
response SID 


M 


47 , 


, SIDPR 


#2 


#ofDTC = [ 

no emission-related DTCs 
# of emission-related DTCs ] 


• M 


:00 

01 -FF 


#OFDTC 


#3 

' '''#4> n 


DTC#1 (High Byte) 
DTC#1 (Lowf-Byte) 


C 
C 


XX 
1 XX 


DTC1HI 
DTC1LO 


-■' 'f-'-' 






XX 




? *n-1 

" #n 


DTC#m (HigrfByte) 

DTCSm (LowByteJ """"" 


C 
C 


XX 
XX 


' DTCmHI 
DTCmLO 


C = Conditional — DTe#1-';DTe#m are only included if fef.DTC parameter-value* $00 . - ' 



6.7.3 Parameter DeftmtiOn— This service 1 dbes-not : 'stippDrt ; any parameters. 

6.7.4 MEJfSAfeE'EX^feE^Refertomessage'example'^ser^ice $03; - 

6.8 Service $08 - Request Control of On-Board System, Test or Compo- 

nent '■ ' •:■■.,. •!'.i',0.'!i fJSI/i^^ Ji>_ 

6.8.1 Jf^cnoNAL Description — The purpose of this service jstc£eha6le the 
external test equipment to control the operation of an on-board system, test or 

component — _. . . . _. . - - 

The data bytes will be specified, if necessary, for each Test ID in Appendix F, 
andj-wiU'bewque-foreaefrTestlD. " 

Possible 1 uses for these data bytes in therequest message are: 

— Turn on-board system/test/component ON : .,. 

~— : TtjrflTQh-bT)ard'sysIem/test/component OFF 
— Gycle-on-board-system/test/component for 'n'-seeonds. ■-■ - — 



Possible uses for these data bytes in the response message are: 

— Report system status 

— Report test results 

.^'/^ii^siffjHEs^are'^pficable or supported by all systems. TID $00 is a bit- 
encoded value that indicates for each ECU which TTDs are supported. TED $00 
indicates support for TTOs frpra $01 to $20, TTD $20,indicate|. support for TTDs 

- $21_through440r etc. TJiis- is the-same conceptfor PTOs/TIDs/InfoTypes support 
in services $01, $02, $06, $08, $09.:TEG>F$Q0 is= fequired'for those ECUs that 
resp"ondto"a corresponding"servic"e$08Tequesrmessagg as specified iff ApjrencUx 

' "X.Tlb^OO is^ojtionai foi '"those ECUs that do not respond to additional Service 

-_..- lOSsrequest.messages;, i ;_ ■:;,H^.t' J „ .■,.-.•>■■.■■•« 

The order of the" TEDsih.the . response message isThptrequired fo matchThe 

order-in the request message. — . - - - - - 

, 6.8.2 Message Data-Bytes 

6&2rl -Request Control of On-Board Device Request Message Definition 
(Read Supported TIDs) ._...- 



TABLE 168— REQUEST CONTROL OF ON=BOARDDEVICE-REQUESTMESSAGE (READ SUPPORTED TIDS) 



Data Byte" 


Parameter Name 


. Cvt 


Hex Value 


Mnemonic 


#1 ',- 


Request control ofxin-board devicerequestSID -- — - — - - -- 


;•-«-- 


- 08 


Y SIDRQ - 


#2 


- TID#1 (Test IDs supported. AppendixA) " -•—■-- 


- - -M-- 


xx ; ~ 


— - i - TID" - 


#3 


TID#2 (Test IDs supported: Appendix A) 


u 


XX 


TID 


#4 


TID#3 (Test IDs supported: Appendix A) 


u 


XX 


TID 


#5 


TID#4 (Test IDs supported: Appendix A) 


u 


XX 


TID 


#6 


TID#5 (Test IDs supported: Appendix A) 


u 


. xx 


; TID 


#7 


TID#6 (Test IDs supported: Appendix A) 


u 


XX 


TID 


U = User Optional; — ■ TID may be included to avoid multiple TID supported request messages 



. NOtE^-fo request TTDs supported range from $C1 - $FF another request 
I ihbssage with TTD#1 = $C0 and TID#2 = $E0 shall be sent to the 

vehicle 



6.8.2.2 Request Control of On-Board Device Response Message Definition 
(Report Supported TIDs)—ECV(s) must' Tespond to all supported granges if 
requested. A range is defined as a block of 32 TIDs (e.g., range #1: TID $01-$20). 
The ECU shall not respond to unsupportedTTD ranges unless subsequent ranges 
have a supported TTD(s). 



23.77 



TABLE 169— REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE 
(REPORT SUPPORTED TIDS) 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 



#n-4 
#n-3 
#n-2 
#n-1 
#n 



Parameter Name 



Request control of on-board device response message SID 



data record of supported TIDs = [ 



1st supported TID 
Data A: supported TIDs, 
Data B: supported TIDs, 
Data C: supported TIDs, 
Data D: supported TIDs ] 



data record of supported TIDs = [ 



mth supported TID 
Data A: supported TIDs, 
Data B: supported TIDs, 
Data C: supported TIDs, 
Data D: supported TIDs ]- 



C1 - Conditional — TID value shall be the same value as included in the request message if supported by the ECU 
C2 = Conditional — value indicates TIDs supported; range of supported TIDs depends on selected TID value (see C1) 



M 
M 
M 
M 
M 



C1 
C2 
C2 
C2 
C2 



Hex Value 



48 



Mnemonic 



SIDPR 



TIDREC_ 

TID 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



TIDREC_ 

TID 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



NOTE— The response message shall only include the TID(s) and Data A - 
D which are supported by the ECU. If the request message includes 
. (a) TID value(s) which are not supported by the ECU those shall 
not be included in the response message. 



6.8.2.3 Request Control of On-Board System Request Message, Definition 
(Read TID Values) 



TABLE 170— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE (READ TID VALUES) 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 
#7 



Parameter Name 



Request control of on-board device request SID 



data record of Test ID = [ 



Test ID (request Test ID values) 

Data A, 

Data B, 

DataC, 

Data D, 

DataE] 



C1 = Conditional — Test ID value shall be one of the supported Test IDs of previous response message 
C2 = Conditional — presence and values of Data A - E parameter depend on Test ID 



Cvt 



M/C1 
C2 
C2 
C2 
C2 
C2 



Hex Value 



08 



Mnemonic 



SIDRQ 



TIDREC 

TID 
DATA_A 
DATA_B 
DATAJD 
DATA_D 
DATA_E 



6.8.2.4 Request Control of On-Board Device Response Message Definition 
(Report TID Values) 



TABLE 171— REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE (REPORT TID VALUES) 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 
#7 



Parameter Name 



Request control of on-board device response SID 



data record of Test ID = [ 



Test ID (report Test ID values) 

Data A, 

Data B, 

DataC, 

Data D, 

DataE] 



C1 = Conditional — Test ID value shall be the same value as included in the request message 
C2 = Conditional — presence and values of Data A - E parameter depend on Test ID 



Cvt 



M/C1 
C2 
C2 
C2 
C2 
C2 



Hex Value 



48 



Mnemonic 



SIDPR 



TIDREC 

TID 
DATA_A 
DATA_B 
DATA_C 
DATA_D 
DATA_E 



6.8.3 Parameter Definition 

6.8.3.1 Test IDs Supported— Refer to Appendix A. 

6.8.3.2 Test ID Description— Refer to Appendix F. 

6.8.4 Message Example— The example below shows how "Request control 
of on-board system, test or component" service shall be implemented. 

6.8.4.1 Step #1: Request Control of On-Board System, Test or Component 
(Request for Supported Test IDs)— The external test equipment requests all sup- 
ported Test IDs from the vehicle. Refer to the example of service $01 how to 
request supported PJDs (same concept is used for supported TIDs). 



As a result of the supported TID request the external test equipment creates 
an internal list of supported PJDs for each ECU: The ECU #1 (ECM) supports 
Test ID $01. The ECU #2 (TCM) does not support any Test IDs and therefore 
does not send a response message. 

6.8.4.2 Step #2: Request Control of On-Board Device (Service $08, Test ID 
$01)— The external test equipment sends a "Request control of on-board device" 
message with one (1) supported Test ID $01 to the vehicle. • 



TABLE 172— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -> All ECUs 



Request 



Description (all values are in hexadecimal) 



Request control of on-board device request SID 



Test ID: 01 - Evaporative system leak test 



Byte Value (Hex) 



08 



SIDRQ 



23.78 



TABLE 173— REQUEST CONTROL OF ON-BOARD DEVICE RESPONSE MESSAGE 



Message direction: 


ECU #1 -> External test equipment 






'"-'- Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 .. . . 


Request control of on-board device response SID 


43 


SIDPR 


#2 


Test ID: 01 - Evaporative system leak test 


01 


TID 



In the,following example the conditions.of the system are not proper to run 
the Evaporative system; leak test. Therefore the ECM (ECU #1) responds with a 
negative response message with response code $22 - conditionsNotCorrect. The 



TCM (ECU #2). does not respond because it previously reported that it does not 
support the Evaporative system leak test. 



TABLE 174— REQUEST CONTROL OF ON-BOARD DEVICE REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUs 


- ■ ■ 




MessageType: 


Request 






Data Byte 


Description (all values are in hexadecimal)' 


Byte Value (Hex) 


Mnemonic 


#1 


Request control of on-board device request SID 


08 


SIDRQ 


#2 


Test ID: 01 - Evaporative system leak test 


01 


TJD 



TABLE 175— NEGATIVE RESPONSE MESSAGE 



■''■■" Message direction: 


ECU#1 -> External test equipment 


- _ - . . Message-Type:. 


Response .....''.'."... ....... _..... 


Data Byte 


' Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Negative Response Service Identifier 


7F 


SIDNR 


I *?!.-.. 


Request control of onboard device request SID 


08 


SIDRQ 


#3--'- - 


- Negative Response Code:. conditionsNotCorrect - 


.22 


- -NR_CNC- 



'6.-9-Servicfr$09 - Request- Vehicle Information - - ■ - - 

6.9.1 Functional Description — The purpose of this service is to enable the 
external test equipment to request vehicle specific vehicle information such as 
Vehicle Identification Number (V1N) and Calibration IDs. Some of this informa- 
tion may be required by regulations and some may be desirable, to : be. reported jjnaj: 
standard format if supp.ortejlbyjhe. vehicle manufacturer, ... 

Not all Infotypes are applicable or supported by all systems. Infotype $00 is a 
bit-encoded value that indicates for each ECU which Infotypes are supported. 
Infotype $0bihdicates support for Infotypes from $01 to $20. Infotype.$20 indi- 



cates support for Infotypes $21 through $40, etc. This is the- same concept for 
PIDs/TTDs/Infotypes support in services $01, $02, $06, $08, $09. Infotype $00 is 
required for those ECUs that respond to a corresponding service $09 '.request mes r 
sage as specified in Appendix A. Infotype $00 is optional for those ECUs that'do 
not respond: to additional sendee $09 request messages. 
6.9.2. Message Data Bytes . 

6:9,2.1 Request Vehicle Information Request Message Definition (Request 
Supported InfoType) ~ 



TABLE 176— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 
(REQUEST SUPPORTED INFO TYPE) 



Data Byte 


- Parameter Name 


Cvt 


Hex Value 


Mnemonic 


#1 - 


Request vehicle information request SID ....... 


liii 


09 


SIDRQ 


#2 


lnfoType#1 (InfoTypes supported: Appendix A) 


M 


b:XX ■ 


INFTYP 


#3 


lnfoType#2 (InfoTypes supported: Appendix A) 


U 


XX 


1NFTYP 


#4 


InfoType^ (InfoTypes supported: Appendix 1 A) 


U 


XX 


INFTYP 


-* 5 


lnfoType#4 (InfoTypes supported: Appendix A) , 


U 


XX 


' INFTYP 


#6 


lnfoType#5 (InfoTypes supported: Appendix A). ;• 


U . 


1 ^ 


-. INFTYPi', 


• i' ..'.'■■'#7 


lnfoType#6 (InfoTypes supported: Appendix A) 


u -. 


' ■'" XX 


. J INFTYP 


U = User Optional — InfoType may be included to avoid multiple InfoTypesupported request messages 



NOTE — To request InfoTypes supported range from $C1 - $EF another 
request message with InfoType#l = $C0 and InfoType#2 = $E0 
shall be sent to the vehicle 



6.9.2.2 Request Vehicle Information Response Message Definition (Report 
Supported InfoType)— ECU(s) must respond to all supported ranges if requested. 
A range is defined as a block of 32 InfoTypes (e.g., range #1: InfoType $01-$20). 
The ECU shall not respond to unsupported InfoType ranges unless subsequent 
ranges have a supported InfoType(s). 



TABLE 177— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 
(REPORT SUPPORTED INFO TYPE) 



Data Byte 



#1 



#2 
#3 
#4 
#5 
#6 



#n-4 
#n-3 
#n-2 
#n-1 
#n 



Parameter Name 



Request vehicle information response SID 



data record of supported InfoTypes = [ 



1st supported InfoType 
Data A: supported InfoTypes, 
Data B: supported InfoTypes, 
Data C: supported InfoTypes, 
Data D: supported InfoTypes ] 



data record of supported InfoTypes = [ 



mth supported InfoType 
Data A: supported InfoTypes, 
Data B: supported InfoTypes, 
Data C: supported InfoTypes, 
Data D: supported InfoTypes ] 



Cvt 



M 
M 
M 
M 
M 



C1 
C2 
C2 
C2 
C2 



C1 = Conditional — INFOTYPE value shall be the same value as included in the request message if supported by the ECU 

C2 = Conditional — value indicates INFOTYPEs supported; range of supported INFOTYPEs depends on selected INFOTYPE value (see C1) 



Hex Value 
49 



xx 
xx 



NOTE — The response message shall only include the INFOTYPEs and 
Data A - D which are supported by the ECU, If the request mes- 
sage includes (a) INFOTYPE value(s) which are not supported by 
the ECU those shall not be included in the response message. 



Mnemonic 



SIDPR 



INFTYPREC 
INFTYP- 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



INFTYPREC 
INFTYP 
DATA_A 
DATA_B 
DATA_C 
DATA_D 



23.79 



6.9.2.3 Request Vehicle Information Request Message Definition (Read 
InfoType Values) 



TABLE 178— REQUEST VEHCLE INFORMATION REQUEST MESSAGE (READ INFO TYPE VALUES) 



Data Byte 



#1 



Parameter Name 



Request vehicle information request SID 



InfoType (read InfoType values) 



6.9.2.4 Request Vehicle Information Response Message Definition (report 
InfoType values) 



Hex Value 



Mnemonic 



SIDRQ 



INFTYP 



TABLE 179— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 
(REPORT INFO TYPE VALUES) 



Data Byte 



#1 



#2 
#3 
#4 
#5 

#m 



Parameter Name 



Request vehicle information response SID 



data record of InfoType = [ 



InfoType (report InfoType values) 

NOfDataltems 

data#1, 

data #2, 



data #m 1 



C1 = Conditional — InfoType value shall be the same value as included in the request message 
C2 = Conditional — data #1 - #m depend on selected InfoType value 



Cvt 



M/C1 

M/C1 

M/C2 

C2 

C2 

C2 



Hex Value 



xx - 

XX 



6.9.3 Parameter Definition 

6.9.3.1 Vehicle Information Types Supported— Refer to Appendix A. 

6.9.3.2 Vehicle Information Type Description—Refer to Appendix G. 

6.9.3.3 Number of Data Items Data Byte Description— This parameter 
defines the number of data items included in the response message which are 
identified and belong to the InfoType reported. For example, a request message 
with the InfoType for CVN (Calibration Verification Number) may cause the 
ECU to send a response message which contains multiple CVNs. The amount of 
CVNs is included in the "Number of data items" parameter. 

6.9.4.2 Step #2: Request InfoTypes from Vehicle 

Now the external test equipment requests a combination of three (3) InfoTypes: 



Mnemonic 



SIDPR 



INFTYPREC 

INFTYP 

NODI 

DATA_#1 

DATA_#2 

DATAJfm 



6.9.4 MESSAGE EXAMPLE— The example below shows how the "Request vehi- 
cle information" service shall be implemented. 

6.9.4.1 Step #1: Request Vehicle Information (Request Supported InfoType) 
from Vehicle— The external test equipment requests all supported InfoTypes (Mo- 
Type#l = $00) from the vehicle. The ECU #1 (ECM) and the ECU #2 (TCM) 
send a response message with InfoTypes supported information for InfoTypes $01 
- $20. 

Now the external test equipment creates an internal list of supported Info- 
Types for each ECU. The ECU #1 (ECM) supports the following InfoTypes: $02, 
$04, $06, and $08. The ECU #2 (TCM) supports InfoTypes: $04 and $06. 



— InfoType $02: VTN 

— InfoType $04: Cal. ID#1 

— InfoType $04: Cal. ID#2 

— InfoType $06: Cal. CVN#1 

— InfoType $06: Cal. CVN#2 

— InfoType $08: IPT 

— InfoType $04: Cal. ID 

— InfoType $06: Cal. CVN 



[1G1JC5444R7252367] 
[JMB*36761500] 
[JMB*47872611] 
[1791BC82] 
[16E062BE] 

[04000D09 ... 00440061] 
[JMA*4312991 10000] 
[98123476] 



supported by ECU #1 
supported by ECU #1 
supported by ECU #1 
supported by ECU #1 
supported by ECU #1 
supported by ECU #1 
supported by ECU #2 
supported by ECU #2 



23.80 



TABLE 18rfeREQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Message direction: 


External test equipment -> All ECUS 






~" Messagelype: " 


Request v -■ - - - 


•<~ 




Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) , 


Mnemonic 


:*!'• ' 


Request vehicle information, request SID 


09 


SIDRQ 


42 ' 


InfoType: 02 - VIN (Vehicle Identification Number) 


02 


INFTYP 



TABLE 181— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE 



"""_..' Message direction: 


ECU #;!,-» External test equipment 






j Message Type: 


Response 






Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information response SID • 


' 49 ' ""'■'■ •■ ' 


SIDPR'/ ' , 


#2 


InfoType: 02 - VIN (Vehicle Information Number) 


02 


INFTYP 


#3 •■-. 


Number of data item's: 01 r > . 


01 


NODI 


#4 
#5 
#6 

#7 

#8 ." "" 
- #9 

#10-' ■ — 

-#1-1- ■■ 

#12 

#13 

#14 

#15 
~#16~ "" 

#1z! _ 

#18 '_. 
'#19 

#29; 


1 st ASCII character of VIN: T 
2nd ASCII character of VIN: 'G' 
3rd ASCII character of VIN: '1' 
4th ASCII characterof VIN: 'J' 
" Kh" ASCircharacter of VIN: 'C 
6th-ASCII character of-VIN: '5' 
7th ASCIIcharaeter-oi -VIN: ! 4' 
8th-ASCII character of VIN: '4' 
9th ASCII character of VIN: '4' 
1 0th ASCII character of VIN: 'R' 
1 1th ASCII character of VIN: 7' 
1 2th ASCII character of VIN: '2' 
IStrASCII character oFVIN: '5' 
14th ASCII character-of-VIN:. '2' . . 
15thASCl'l character of. VIN: '3' 
1 6th ASCII character of VIN: '6' 
17th ASCII character of VIN:' 7' 


31 
47 
31 
4A 
43 
35 
34 
■ 34 
34 
52 
37 
32 
35 

32 - - 
33 
36 
37 


VIN 
VIN 
VIN 
VIN 
VIN 
VIN- 
VIN 
VIN 
VIN 
VIN i 
VIN 
VIN 
VIN 
VIN. 
... VIN 
VIN 
VIN 



Now the external test equipment requests the following InfoType: 
>^IirfoType$04^CALro#i=.[JMiB.*36 i 761500] and-CALID#2 =[JMB*47872611]; supported by ECU#1; 



TABLE 182— REQUEST.VEHICLEINFORMATION REQUEST-MESSAGE _ 



Message direction!- ' 


External test equipment -» AH ECUs- 


MessageType: 


.Request.:: . ■'.:•'.. '■■■..' 


Data Byte 


■' ,' Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic' 


.-.. -"' #1 < : 


;; Request vehicle information 'request: SID , 


09 : ■ . 


SIDRQ 


#2 


InfoType: Calibration ID 


04 


' INFTYP ' 



23.81' 



TABLE 183— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1ST) 



Data Byte 



#1 



#2 



#3 



#4 
#5 
#6 
#7 
#8 
#9 
#10 
#11 
#12 
#13 
#14 
#15 
#16 
#17 
#18 
#19 



#20 
#21 
#22 
#23 
#24 
#25 
#26 
#27 
#28 
#29- 
#30 
#31 
#32 
#33 
#34 
#35 



direction: 



Message Type: 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: Calibration ID 



Number of data items: 02 



Data A: 'J' 
Data B: 'M' 
Data C: 'B' 
DataD:'" 
Data E: '3' 
Data F: '6' 
Data G: 'T 
Data H: '6' 
Data I: '1' 
Data J: '5' 
Data K: '0' 
Data L: '0' 
Data M: Fill byte 
Data N: Fill byte 
Data O: Fill byte 
Data O: Fill byte 



Data A: 'J' 
Data B: W 
Data C: 'B' 
Data D: '*' 
Data E: '4' 
Data F: 7" 
Data G: '8' 
Data H: 7' 
Data I: '2' 
Data J: '6' 
DataK:T 
DataL:'!' 
Data M: Fill byte 
Data N: Fill byte 
Data O: Fill byte 
Data P: Fill byte 



Byte Value (Hex) 



04 



02 



4A 
4D 
42 
2A 
33 
36 
37 
36 
31 
35 
30 
30 
00 
00 
00 
00 



4A 
4D 
42 
2A 
34 
37 
38 
37 
32 
36 
31 
31 
00 
00 
00 
00 



Mnemonic 



INFTYP 



NODI 



DATA_A 

DATA_B 

DATA_C 

DATAjT 

DATAJE 

DATA_F 

DATA_G 

DATA_H 

DATAJ 

DATA_J 

DATA_K 

DATAJ. 

DATA_M 

DATAJM 

DATA_0 

DATA P 



DATA_A 
DATA_B 
DATA_C 
DATA_D 
DATAJE 
DATA_F 
DATA_G 
DATAJH 
DATAJ 
DATAJ 
DATA_K 
DATAJ. 
DATAJVI 
DATA_N 
DATA_0 
DATA P 



NOTE — The same response message with different data byte content will be 

sent by ECU #2 in this example. 
In the following example the ECUs needs more time than P2 CAN to calcu- 
late the Calibration Verification Number(s). Therefore both ECUs respond with 
negative response messages with response code $78 - RequestCorrectlyReceived- 
ResponsePending as long as the positive response message is not ready in the 
ECU. 

TABLE 1 84— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



Now the external test equipment requests the following InfoType: 

— InfoType $06: CVN#1 = [17 91 BC 82] and 
CVN#2 = [16E0 62BE]; supported by ECU#1 

— InfoType $06: CVN = [98 12 34 76]; supported by ECU#2 



Message direction: 



Message Type: 



Data Byte 



#1 



External test equipment -* All ECUs 



Request 



Description (all values are in hexadecimal) 



Request vehicle information request SID 



InfoType: Calibration Verification Number 



Byte Value (Hex) 



Mnemonic 



SIDRQ 



INFTYP 



23.82 



-<r':TABLE;185^NEGATIVE RESPONSE MESSAGEf- 



Message direction: 


ECU#1 -> External test equipment •;■'-•'.,.■/:,:. ..:■-•: g~ 


Message Type: 


Response 




i Data Byte !» 


! t. < ■ ■ Description (all values are in hexadecimal).,--:::- '; 


Byte Value (Hex) 


Mnemonic 


#1 


Negative Response^Service identifier ' 


-.. •- 7F • 


SIDNR ; 


#2 --., 


Request vehicle information request S'lD 


,09 


SIDRQ 


#3 .,' 


Negative ResponseCode: RequestCorrectlyReceived-ResponsePending 


- 78 


NR_ RCR_RP 



TABLE 186— NEGATIVE RESPONSE MESSAGE 



-'Message direction: 


ECU#2 -» External test equipment 


Message Type: 


Response 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Negative Response Service Identifier 


7F 


S|DNR 


i #2-' ■< .;; 


Request vehicle information request SID 


09 


SIDRQ 


i #3 .--. - 


Negative Response Code: RequestCorrectlyReceived-ResponsePending 


78 


NR_RGR_RP . 



TABliE 187— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1ST) 



I 

Message direction: 


ECU#1 -» External test equipment 




Message Type: 


Response j 


I Data Byte 


, . Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic < 


I *!■- .:.■■• 


Request vehicle information response SID 


49 , .. .<■:■ 


SIDPR 


; # 2 - f-j 


InfoType: Calibration.Verification Number 


06 


INFTYP 


| # 3 .--.T.'j 


Number of data items: 02 


02 


NQDI 


! #4 .,- 


Data A: 17 


17 


DATA_A 


#5 ,-- - 


Data B: 91 


91 


DATA_B 


! #6. - 


Data C: BC 


BC 


DATA_C 


; * 7 : -Vi'ri 


Data D: 82 


82 


DATA_D 


! #8 ,-, .-. 


Data E: 16 


16 


DATA_E 


I *9- ■-:■;. 


Data F: E0 


E0 


DATA_F 


#10 T . 


Data G: 62 ; 


62 


DATA_G 


1 #11 _. 


Data H: BE 


BE 


DATA_H ; 



TABLE 1 88— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1 ST) 



; Message'direction: 


ECU#2 -» External test equipment 


Message Type: 


Response ; 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#T 


Request vehicle irifoniiatibnTespbnse SID _ 


"49" 


SIDPR" '" 


#2 ' ' ' -" 


- rnfoTypesCalibrationVerificatidnNumber "* - .'■'.'. . - -j. . '; ' 


...06- " - ' 


'■'■■' INFTYP 1 


#3 


Numberof dataitefris: 01 


01" '' 


' ' NODI 


•-,•■-■-** ' 
#5 
#6 
#7 


L Data A: 98 -...', ■ ' - 
Data B: 12 

Data C: 34 * 
Data D: 76 


98 
12 
34 
76 


DATA_A 
DATA_B 
DATA_C 
DATA_D 



; Now the external test equipment requests the following InfoType: 
'.— Moiype $08: TPT; - - supportedbyECU#l; 



TABLE 189— REQUEST VEHICLE INFORMATION REQUEST MESSAGE 



;.--- Message-direction: 


External test equipment -> All ECUs 


-,- -, ^ MessageType: 


;. Request 


Data Byte 


Description (all values are in hexadecimal) 


Byte Value (Hex) 


Mnemonic 


#1 


Request vehicle information request SID 


09 


SIDRQ 


#2 


InfoType: In-use Performance Tracking 


08 


INFTYP 



23.83 



TABLE 190— REQUEST VEHICLE INFORMATION RESPONSE MESSAGE (1) 



direction: 



Message Type: 



Data Byte 



#1 



#2 



#4 
#5 



#6 
#7 



#10 
#11 



#12 
#13 



#14 
#15 



#16 
#17 



#18 
#19 



#20 
#21 



#22 
#23 



#24 
#25 



#26 
#27 



#28 
#29 



#30 
#31 



#32 
#33 



#34 
#35 



ECU#1 -> External test equipment 



Response 



Description (all values are in hexadecimal) 



Request vehicle information response SID 



InfoType: In-use Performance Tracking 



Number of data items: 16 



OBDCOND_A: 1024 counts 
OBDCOND_B: 1024 counts 



IGNCNTR_A: 3337 counts 
IGNCNTR_B: 3337 counts 



CATCOMP1_A: 824 counts 
CATCOMP1_B: 824 counts 



CATCOND1_A: 945 counts 
CATCOND1_B: 945 counts 



CATCOMP2_A: 711 counts 
CATCOMP2_B: 711 counts 



CATCOND2_A: 945 counts 
CATCOND2_B: 945 counts 



02SCOMP1_A: 737 counts 
02SCOMP1_B: 737 counts 



02SCOND1_A: 924 counts 
02SCOND1_B: 924 counts 



02SCOMP2_A: 724 counts 
02SCOMP2_B: 724 counts 



02SCOND2_A: 833 counts 
02SCOND2_B: 833 counts 



EGRCOMP_A: 997 counts 
EGRCOMP_B: 997 counts 



EGRCOND_A: 1010 counts 
EGRCOND_B: 1010 counts 



AIRCOMP_A: 937 counts 
AIRCOMP_B: 937 counts 



AIRCOND_A: 973 counts 
AIRCOND_B: 973 counts 



EVAPCOMP_A: 68 counts 
EVAPCOMP_B: 68 counts 



EVAPCOND_A: 97 counts 
EVAPCOND_B: 97 counts 



Byte Value (Hex) 



49 



08 



04 
00 



0D 
09 



03 
B1 



02 
C7 



03 
B1 



02 

E1 



03 
9C 



02 
D4 



03 
41 



03 
E5 



03 

F2 



03 
A9 



03 
CD 



00 
44 



00 
61 



Mnemonic 



SIDPR 



NODI 



OBDCOND_A 
OBDCOND_B 



IGNCNTR_A 
IGNCNTR_B 



CATCOMP1_A 
CATCOMP1_B 
CATCOND1_A 
CATCOND1_B 
CATCOMP2_A 
CATCOMP2_B 
CATCOND2_A 
CATCOND2_B 



02SCOMP1_A 
02SCOMP1_B 



02SCOND1_A 
02SCOND1_B 



O2SC0MP2_A 
02SCOMP2_B 
02SCOND2_A 
02SCOND2_B 



EGRCOMP_A 
EGRCOMP_B 



EGRCOND_A 
EGRCOND_B 



AIRCOMP_A 
AIRCOMP_B 



AIRCOND_A 
AIRCOND_B 



EVAPCOMP_A 
EVAPCOMP_B 
EVAPCOND_A 
EVAPCOND_B 



23.84 



APPENDIX A 

(NORMATIVE) 

PID (PARAMETER ED)/OBDMID (ON-BOARD MONITOR ID) /TID 

(TEST EDyiNFOTYPE SUPPORTED DEFINITION 



This Appendix- specifies standardized hex. values to be used in-the request 
message for services $01, $02, $05, $06, $08, and $09 to retrieve supported 



JfUJS, UrJlJMJJJS, 11L) 


s, ana itNru lire 


s. 

TABLE Al^SUPP.ORTED PID/OBDMID/TID/INFOTYPE DEFINITION 


Requested . 

PID/OBDMID/TID/ 

INFOTYPE 

(hex) 


Scaling/bit 
Number of data-bytes = 4 - 
Data A - D or B - E: bit evaluation 

PID/OBDMID/TID/INFOTYPE supported (Hex) 


External test equipment 
SI (metric) / English display 


00 .,;•_ 


Data A bit 7 
-; DataAbit6 

; Data D bit 


01 
02 

20 


= not supported 
1 = supported 


The external test equipment creates an, internal table in its memory to , 
maintain a list of "Supported PIDs/OBDMIDs/TIDs/ INFOTYPEs" for each 
ECU which responds on a servicerequest message with the requested PID/ 
OBDMID/TID/ INFOTYPE ($00, $20, ... $CQ), 
The external test equipment shall only request PID/OBDMID/TID/ 
INFOTYPE $20, $40, $60, $80, $A0, and $C0 if bit' of DateD in the 
previous "Supported PID/ OBDMID/TID/INFOTYPE" response message is 
set to T. This indicates thatthere are additional PID/OBDMID/TID/ 
INFOTYPE(s) supported (linked list). , ----■■■■. 


2b. 


i~Data A bit 7 
: Data A bit 6 

; Data D bit 


21 
22 

40 


= not supported 
1 = supported 


40. ., , ,,, 


Data A bit 7 
J Data A bit 6 

Data D bit 


41 
42 

60 


= not supported 
1 = supported 


60 


■■- Data A bit 7 
Data A bit 6 

Data D bit 


61 
62 

80 


O - not supported 
1 = supported 


80 


■ Data A bit 7 
Data A bit 6 

Data D bit 


81 
82 

A0 


= not supported 
1 = supported 


AD---' 


; Data-Abit-7 
Data A bit 6 . . 

Data D bit ' 


-A1 

A2 . 

CO 


= not supported 
1 = supported 


! co" "' 


; Data A bit 7 
] Data A bit 6 

Data D bit 


C1 
C2 

E0 


= not supported 
1 = supported 


_ E0_ " ■.. . 


Date A bit7_'J. 

Date A bit 6 

Data D bit 1 
- Data D bit 


E1 
E2 

FF 
reserved 
(set toO) 


= not supported 
1 = supported 



APPENDKB 

(NORMATIVE) 

PIDS (PARAMETER ID) FOR SERVICE $01 AND $02 SCALING AND DEFINITION 



This Appendix uses the following nomenclature for numbering and units for 
the U.S., European notation, and External Test Equipment display. The fol- 
lowing table includes an example. 

TABLE B1— NUMBERING AND UNITS FOR THE U.S., EUROPEAN NOTATION, AND EXTERNAL TEST 

EQUIPMENT DISPLAY 



Annex example 


U.S. notation 


European notation 


External Test Equipment display 


4750.75 min" 1 


4,750.75 min -1 


4.750,75 min -1 


4750.75 min -1 



23.85 



PID 
(hex) 



01 



TABLE B2^PID $01 DEFINITION 



Description 



Monitor status since DTCs cleared 



Data 
byte 



Scaling/bit 



The bits in this PID shall report two pieces of information for each monitor: 

a) Monitor status since DTCs were last cleared, saved in NVRAM or Keep Alive RAM. 

b) Monitors supported on this vehicle. 



External test equipment 
SI (Metric) / English display 



Number of emission-related DTCs and MIL status 



# of DTCs stored in this ECU 



Malfunction Indicator Lamp (MIL) Status 



A 
(bit) 



0-6 



byte 1 of 4 



hex to decimal 



= MIL OFF; 1 = MIL ON 



DTC and MIL status: 



DTC_CNT: xxxd 



MIL: OFF or ON 



The MIL status shall indicate "OFF" during the key on, engine off bulb check unless the MIL has also been commanded "ON" for a detected malfunction. 



Supported tests which are continuous 



Misfire monitoring 



B 
(bit) 



byte 2 of 4 (Low Nibble) 



=monitor not supported (NO) 

1 =monitor supported (YES) 



Support status of continuous monitors: 



MIS_SUP:NOorYES 



Misfire monitoring shall be supported on both, spark ignition and compression vehicles if the vehicle utilises a misfire monitor. 



Fuel system monitoring 



=monitor not supported (NO) 

1 =monitor supported (YES) 



FUEL_SUP: NO or YES 



Fuel system monitoring shall be supported on vehicles that utilise oxygen sensors for closed loop fuel feedback control, and utilise a fuel system monitor, typically spark ignition 



Comprehensive component monitoring 



=monitor not supported (NO) 

1 =monitor supported (YES) 



CCM_SUP:NOorYES 



Comprehensive component monitoring shall be supported on spark ignition and compression ignition vehicles that utilise comprehensive component monitoring. 



reserved (bit shall be reported as '0') 







TABLE B3— PID $01 DEFINITION (CONTINUED) 




PID 
(hex) 


Description 


Data 
byte 


Scaling/bit 


External test equipment 
SI (Metric) / English display 




Status of continuous monitoring tests since DTC cleared: 


B 
(bit) 


byte 2 of 4 (High Nibble) 


Completion status of continuous monitors since DTC cleared: 


Misfire monitoring 


4 


=monitor complete, or not 

applicable (YES) 

1 ^monitor not complete (NO) 


MIS_RDY: YES or NO 


Misfire monitoring shall always indicate complete for spark 
complete. 


ignition engines. Misfire monitoring shall indicate complete for compression ignition engines after the misfire evaluation is 


Fuel system monitoring 


5 


=monitor complete, or not 

applicable (YES) 

1 =monitor not complete (NO) 


FUEL_RDY: YES or NO 


Fuel system monitoring shall always indicate complete for 


30th spark ignition and compression ignition engines. 




Comprehensive component monitoring 


6 


=monitor complete, or not 

applicable (YES) 

1 =monitor not complete (NO) 


CCM_RDY: YES or NO 


Comprehensive component monitoring shall always indicat 


e complete on both spark ignition and compression ic 


nition engines. 


Reserved (bit shall be reported as '0') 


7 




- 


Supported tests run at least once per trip 


C 

(bit) 


byte 3 of 4 


Support status of non-continuous monitors: 


Catalyst monitoring 
Heated catalyst monitoring 
Evaporative system monitoring 
Secondary air system monitoring 
A/C system refrigerant monitoring 
Oxygen sensor monitoring 
Oxygen sensor heater monitoring 
EGR system monitoring 




1 

2 

3 

4 
5 
6 

7 


=monitor not supported (NO) 

1 =monitor supported (YES) 


CAT_SUP:NOorYES 

HCAT_SUP:NOorYES 

EVAP_SUP:NOorYES 

AIR_SUP:NOorYES 

ACRF_SUP:NOorYES 

02S_SUP:NOorYES 

HTR_SUP:NOorYES 

EGR_SUP:NOorYES 


Status of tests run at least once per trip 


D 
(bit) 


byte 4 of 4 


Completion status of non-continuous monitors since DTCs cleared: 



23.86 



TABLE B3— PID $01 DEFINITION (CONTINUED) 



PID 
| (hex) 


f-=.-i=-: -.:■:_- .-■.--■ Description. - .,-. 


Data- 
byte 


Scaling/bit. .,-r- 


, External test equipment 
SI.(Metric)/ English display 


! • ■- • 


Catalyst monitoring 
Heated catalyst monitoring 



1 


=monitor complete, or not 

applicable (YES) 

1 =monitor not complete (NO) 


CAT_RDY: YES or NO 
HCAT_RDY:YESorNO 




Evaporative system monitoring 


2 




EVAP_RDY:YESorNO '"' ". 




Secondary air system monitoring 


3 




AIR_RDY: YES or NO 




A/C system refrigerant monitoring ' 


4 




ACRF_RDY: YES or NO 




Oxygen sensor monitoring 


5 


. : , ; i 


02S_RDY:YESorNO 


■ 


Oxygen sensor heater monitoring ,,,; 


6 




HTR RDY:YESorNO " ~ ' , 

'■■■■■■ 


;■ ~ - 


EGR system monitoring . , . . . , 


7 "7 




B3PJRDy:YESorNQ. y 










-■■--■■■ - -...-.. _ - 



TABLE B4— PID $02 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling 


External test equipment 
SI (Metric) / English display 


02 


DTC that caused required freeze frame data 
storage 

($0000 indicates no freeze frame data) 


A, B 


0000 


FFFF 


Hexadecimal 
'e.g., P01AB" 

(DTCs defined in SAE 
"J2012 ."' 


DTCFRZF: Pxxxx, Cxxxx, Bxxxx, Uxxxx : 



8 






TABLE, B5— PID $03 DEFINITION 




; pid 
I (hex) 


— — Description 


Data - 
Byte 


Scaling/bit - - - 


External test equipment 
SI (Metric) / English display 


03 


Fuel system 1 status: 


A 
(bit) 


byte 1 of 2 


-' FUELSYS1: 


(unused bits shall be reported as '0'; 

-nOi--i-=-"---^-.~ ■■-.-..- - -•■:.-- 
more than-one r bit at atime can be 





1 = Open loop - has not yet satisfied conditions to go " ' 
^---closed loop ---- -...-•<■-_-; .. - ------ --..-■■--.:« 


OL 


I 


settoa.'IVr,;.. : • 
of that bank) 


1 


1 = Closed loop - using oxygen sensor(s) as feedbackforfuel 
control ; _ 


CL 


' 




2 


1 = Open loop due to driving conditions' (e.g., power 
enrichment, deceleration enleanment) 


OL-Drive 




' 


'3 


' 1 = Open loop - due to detected system fault 


OL-Fault "' " '" 


i. _ 


7 " " "" 


4 


1 = Closed loop, but fault with at least one oxygen 'sensor - 
"may'be.usingsingleoxygensensprforfuel control ' 


CL-Fault i 


:- 





5-7 


reserved (bits shall be reported as '0') 


.- 7 ''"'"', 


NOTE Fuel systems do not normally refer to injector banks. Fuel systems are intended, to represent completely different fuel systems 
loop fuel. Banks of injectors on a V-engine are generally not independent and share the same closed-loop enablement criteria. 


that can independently enter and exit closed 


Tiiel'system 2 status: 


B 


"Byte 2 if 2" . 77 


.FUELSYS2:,, 


(unused bits shall be reported as '0''; 

no 

more than one bit at a time can be 





1 = Open loop - has not yet satisfied conditions to go 
closed loop 


OL ' " "7 




set to a T 1' 
of that bank) 


1... 


.1 = Closed loop- using oxygen sensor© jas feedbacKfor fuel 
control 


..CL 


7 -- ■ 




2 


1 = Open loop due to driving conditions (e.g., power 
~ TenrichrnenrTdeceleration enleanment) 


OL-Drive 

... i 






3 


1 = Open loop - due to detected system fault 


OL-Fault 






4 


1 = Closed loop, but fault witfTat least one oxygep :sensor - 
may be using single oxygen sensor for fuel control 


CL-Fault 






5-7 


reserved (bits shall be reported as '0') 


- . 



23,87 









TABLE B6— PID $04 - $05 DEFINITION 




PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
Si (Metric) / English display 


04 


Calculated LOAD Valuel 


A 


0% 


100% 


100/255% 


LOAD_PCT: xxx.x % 


The OBD regulations previously defined CLV as: 

(current airflow / peak airflow ©sea level) * (BARO @ sea level / BARO) * 100% 

calculSion 3111 " 30 '"' 6 ' 3 ^ implemented this calculation in a va ™ty °< ways. The following definition, although a little more restrictive, will standardise and improve the accuracy the 

LOAD_PCT = [current airflow] / [(peak airflow at WOT @ STP as a function of rpm) * (BARO/29.92) * SQRT(298/(AAT+273))1 

— Where: STP = Standard Temperature and Pressure = 25 °C, 29.92 in Hg BARO, SQRT = square root, 

— WOT = wide open throttle, AAT = Ambient Air Temperature and is in °C 

Characteristics of LOAD_PCT are: '.•■-■ 

— Reaches 1 .0 at WOT at any altitude, temperature or rpm for both naturally-aspirated and boosted engines. 

— Indicates percent of peak available torque. ,.--.-. i " 

— Linearly-correlated with engine vacuum 

— Often used to schedule power enrichment. " 

— Compressionignitionengines(diesels)shallsupportthisPIDusingfuelflowinplaceofairflowf6rtheabovecalculations. L 

NOTE Both spark ignition and compression ignition engines shall support PID $04. SeePID $43 for an additional definition .-..-.-....... 

of engine LOAD. 


05 


Engine Coolant Temperature 


A 


-40 °C 


+215 °C 


1 °C with 
-40 °C offset 


ECT: xxx °C (xxx °F) 


ECT shall display engine coolant temperature derived from an engine coolant temperature sensor or a cylinder head temperature sensor. Many diesels do not use either sensor and 

may substitute Engine Oil Temperature instead. 



TABLE B7— PID $06 - $09 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


06 


Short Term Fuel Trim - Bank 1 
(use if only 1 fuel trim value) 
Short Term Fuel Trim - Bank 3 


A 
B 


-100% 
(lean) 


+99.22 % 
(rich) 


100/128% 
(0% at 128) 


SHRTFT1:xxx.x% 
SHRTFT3: xxx.x % 


mot^ ' n", TVT 7**? V 3 f], al L ' nd 'u ate the correction bein S ulilised ty the ctos ed loop fuel algorithm. If the fuel system is in open loop, SHRTFT1/3 shall report 0% correction 
.vil„ ?, , . V u ,! ndudedln the response message of a PID $06 if supported by the vehicle. If PID $1 D Oxygen Sensor Location of Bank 1 , 2, 3, 4 is supported then the 
external test equipment shall determine based on the data content (Bank 3 supported) of PID $1 D if Data B of PID $06 is supported or not. 


07 


Long Term Fuel Trim - Bank 1 
(use if only 1 fuel trim value) 
Long Term Fuel Trim - Bank 3 


A 
B 


-100 % 
(lean) 


+99.22 % 
(rich) 


100/128 % 
(0 % at 128) 


LONGFT1:xxx.x% 
LONGFT3: xxx.x % 


Fuel trim correction for Bank 1/3 stored in Non-volatile RAM or Keep-alive RAM. LONGFT shall indicate the correction being utilised by the fuel control algorithm at the time the data 
is requested, in both open loop and closed loop fuel control. If no correction is utilised in. open loop fuel, LONGFT shall report 0% correction. If long-term fuel trim is not utilised at ail 
Dy the fuel control algorithm, the PID shall not be supported. 

NOTE Data B shall only be included in the response message of a PID $07 if supported by the vehicle. If PID $1 D Oxygen Sensor Location of Bank 1 , 2, 3, 4 is supported then the 
external test equipment shall determine based on the data content (Bank 3 supported) of PID $1D if Data B of PID $07 is supported or not. 


08 


Short Term Fuel Trim - Bank 2 
(use if only 1 fuel trim value) 
Short Term Fuel Trim - Bank 4 


A 
B 


-100% 
(lean) 


+99.22 % 
(rich) 


100/128% 
(0% at 128) 


SHRTFT2: xxx.x % 
SHRTFT4: xxx.x % 


MnxL T Tl F a e 'lT T* 1 ? a4 , sl ], a " lndlcate toe correction being utilised by the closed loop fuel algorithm. If the fuel system is in open loop, SHRTFT24 shall report 0% correction 
NOTE Data B shall only be included in the response message of a PID $08 if supported by the vehicle. If PID $1 D Oxygen Sensor Location of Bank 1 , 2, 3, 4 is supported then the 
external test equipment shall determine based on the data content (Bank 4 supported) of PID $1 D if Data B of PID $08 is supported or not. 


09 


Long Term Fuel Trim - Bank 2 
(use if only 1 fuel trim value) 
Long Term Fuel Trim - Bank 4 


A 
B 


-100% 
(lean) 


+99.22 % 
(rich) 


100/128 % 
(0% at 128) 


LONGFT2: xxx.x % 
LONGFT4: xxx.x % 


Fuel trim correction for Bank 2/4 stored in Non-volatile RAM or Keep-alive RAM. LONGFT shall indicate the correction being utilised by the fuel control algorithm at the time the data 
is requested, in both open loop and closed loop fuel control. If no correction is utilised in open loop fuel, LONGFT shall report 0% correction. If long-term fuel trim is not utilised at all 
by the fuel control algorithm, the PID shall not be supported. 

NOTE Data B shall only be included in the response message of a PID $09 if supported by the vehicle. If PID $1 D Oxygen Sensor Location of Bank 1 , 2, 3, 4 is supported then the 
external test equipment shall determine based on the data content (Bank 4 supported) of PID $1 D if Data B of PID $09 is supported or not. 



23,88. 



TABLE B8— PID $0A - $11 DEFINITION 



; PID 
j (hex) 


Description ■"■'•"■■ --=--- 


-Data 
byte: 


Min; - 
value 


c:; ™"MaxV :VT == 
f^ value 


"'-Scaling/bit "; 


•■-----■ ' Externartestequipmenf ■ '- ' "~ z 
Sl (Metric) /-English display 


'■- 0A- 


Fuel-Rail Pressure (gauge) 


-. A- - 


-OkPa (gauge) 


■-■- 765ikPa- 
'■" (gauge) 


-3kPaperbit 
(gauge).- i 


- FRP: xxx kPa-fxx.x psi)- - - ■'-- — 

"' ■ C -.' '! ' - . 


FRP shall display fuel rail pressure at the engine when the reading is referenced to atmosphere (gauge pressure). ... r -r 
For systems supporting a fuel pressure sensor, one of the following 3 PIDs is required: OA, 22j dr(23.< -'Support foe mbre'tharf one of these PIDs fe not allowed. 


j OB 

t 


Intake Manifold Absolute Pressure 


A 


OkPa 
r - (absolute) i 


255 kPa 
■* -(absolute) no:] 


1 kPa per bit 
■ '(absolute) 


MAP: xxx kPa (xx.x inHg) " 


MAP shall display manifold pressure derived from a Manifold Absolute Pressure sensor, if a sensor is utilised. If a vehicle uses both a MAP and MAF sensor, both the MAP'and MAF 
PIDs shall be supported. ^' " " '->-•' '' - -'■-:!-. .> -■ 


i oc 


Engine RPM 


A, B 


min 1 


16383.75 

mirF 1 -.' ■ 


14 rpm per bit 


RPM: xxxxx min"" 1, ! 


| OD 

1 


Vehicle Speed Sensor 


A 


Okm/h 


255 km/h 


1 km/h per bit 


VSS? xxx km/h i(xxx mph) 


VSS shall display vehicle road speed, if utilised by the control module strategy. Vehicle speed may be derived from a vehicle speed sensor, calculated by the PGM'using other speed 
sensors, or obtained from the vehicle serial data communication bus. 


1 OE 


Ignition Timing Advance for #1 Cylinder 


A 


-64° 


63.5° 


Vz ° with 
0"at'128" : '- 


SPARKADV: XX ° 


Ignition timing spark advance for #1 cylinder (hot including' mechanical'advance) ' ; '• ' 


]■ OF - 


Intake-AirTemperature - 


- -"A 


- ^40 °C 


+215 °C 


1 "Cwith — 
-40 °C offset 


IAT:xxx-°C(xxx°F) 


IAT shall display intake-manifold air temperature, i 
" otherse'n'sorTnputs- ■'•"■ f .-.."■ 


utilised by thecontrolmodule strategy. IAT may be obtained directly from a sensor," or may be inferred by the contro|;strategy using 


j .,.,. ;-- 


- ! ~~itr=-= 


-AirFlbwfiate-fromMass'Air Flow Sensdr- 


•■••'■■ -A,' B ■■' 


■■- Og/s 


655.35' g/s' ■'• 


0.01 g/s : 


■ MAF:*xx.xx g/s (xxxx.x'lb/mirt) - r "■■- ■'--■ 


MAF shall display the airflow rate as measured by the MAF sensor; if a serisoris utilised- ■•■—' : -'- " ' ' 


i 11 


Absolute. Xtjrpttle Position - ,r; 


1 Aii _>. 


..-.- 0% 


■- 100% 


-. 1007255%. j 


TP:xxx.x% .^.jq 


Absoiute'tfi irbffie position (not 'relative" or "learned" throttle position) shail be displayed as ei normalised value, scaled from to 100%. For example, if a to 5.0 volt sensor is used 
--(uses-a'5^volrrefer-ence voIHge), and:theclpsed!throW 
usually indicate greater than 0|i, arid trirAflle.pOsition ati/v|de open throttle will usuaily'indicate lessthan 100%. ,'.,':"." ".,' . '■.-"-.',, 

For systems where the output is proportional to the input voltage, this value is the percent of maximum input reference voltage. For systems where the output is inversely proportional 
-tb.the-inp-utvoltage,this;v£lueis"100%mihus ' _ ~ " . .,...!' 

' NOTE SeWpiD $45 fora definition of Relative Throttle Position.' '' ~ r *. '-'.'.' . ? '."..- "'"". ''.'.' /..,..' '1 



TABLE B9— PID $12 DEFINITION 



. PID- 
(hex): 



Description 



Data 
byte? 



Scaling/bit 



External test equipment 
SI.(Metric) / English display 



12 



Commanded Secondary Air Status 



A 
(hit): 



byte 1,of 1 



AIR_STAT: 



(if-supportedronerand-only- 
one bit at a time can be set 
toal) 



-;-0- 

'' 1 
— 2— 

S-7- 



-1-=upstream~offirsr-catalyticT)onverter - _/ - 
^downstream of first catalytic converter- inlet 

"l^satmosphereroff - ~ — ; - _ ■- 

fese'rye'ri0its : shairbe;repTJrfetfas'O^- -' ' c 



AIR-STAT: UPS. 
AIR_STAT: DNS 
AIR_STAT:OFF 



TABLE B10— T>ID $13 DEFINITION 



_£ID 

i(hex).r 


- ..._ -Description ._ - 


Data- - 
; byte 


..._.. _._... Scaling/bit . 


External test equipment 
. SI (Metric) / English display 


13 


Location of Oxygen Sensors 


A 
" (bit) - ■- 


byte 1 of 1 "' " ' ' 


02SLOC: 


(where-sensor-1- is closest - 
to the engine. Each bit 
indicates the presence or 
absence of an oxygen 
sensor at the following 
location) 


..■.■■:-,0v-:-- 
1 

2 
3 
4 
5 
6 
7 


4=Bank 1-SensoN present atthatlocation -■ 
1 =Bank 1 - Sensor 2 present at that location 
1 =Bank 1 - Sensor 3 present at that location 
1 =Bank 1 - Sensor 4 present at that location 
1 =Bank 2 - Sensor 1 present at that location 
1 =Bank 2 - Sensor 2 present at that location 
1 =Bank 2 - Sensor 3 present at that location 
1 =Bank 2 - Sensor 4 present at that location 


02S11 
02S12 
02S13 
02S14 
02S21 
02S22 
02S23 
02S24 



NOTE— PID $13 shall only be supported by a given vehicle if PID $1D is not 
supported. In no case shall a vehicle support both PIDs. 



23.89. 



TABLE B11— PID $14 - $1 B DEFINITION 



PID 
(hex) 


Description 
Use if PID $13 is supported! 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 




. 14 


Bank 1 - Sensor 1 




These PIDs shall be used for a 
conventional, to 1 Volt oxygen 
sensor. Any sensor with a different full 
scale value shall be normalised to 
provide nominal full scale at $C8 (200 
decimal). Wide-range/linear oxygen 
sensors shall use PIDs $24 to $2B or 
PIDs$34to$3B. 


I 


" ' - - ; 


15 


Bank 1 - Sensor 2 


16 


Bank 1 - Sensor 3 


17 


Bankl -Sensor 4 


18 


Bank 2- Sensor 1 


19 


Bank 2 - Sensor 2 


1A 


Bank 2 - Sensor 3 


1B 


Bank 2 -Sensor 4 




Oxygen Sensor Output Voltage 
(Bx-Sy) 


A 


OV 


; 1.275 V -, 


0.005 V 


02Sxy: x.xxx V 




Short Term Fuel Trim (Bx-Sy) 

(associated with this sensor $FF if this sensor is 

not used in the calculation) 


B 


-100.00% 
(lean) 


99.22 % 
(rich) 


: 100/128% 
(0% at 128) 


SHRTFTxy: xxx.x % 





NOTE— The PIDs listed in thetable above only apply if PID $13 is 
used to define the oxygen sensor location. 









rABLE B12— PID $14 - $1B DEFINITION 








PID 
(hex) 


Description 
Use if PID $1D is supported! 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


14 


Bank 1 - Sensor 1 




These PIDs shall be used for a 
conventional, to 1 Volt oxygen 
sensor. Any sensor with a different full 
scale value shall be normalised to 
provide nominal full scale at $C8 (200 
decimal). Wide-range/linear oxygen 
sensors shall use PIDs $24 to $2B or 
PIDs$34to$3B. 


■ •' - ' •■ 


■• -■■ -■■ 


15 


Bank 1 - Sensor 2 


16 


Bank 2 - Sensor 1 


17 


Bank 2 - Sensor 2 


18 


Bank 3- Sensor 1 


19 


Bank 3 -Sensor 2 


1A 


Bank 4 - Sensor 1 


1B 


Bank 4 - Sensor 2 ,...-. 




Oxygen Sensor Output Voltage 
(Bx-Sy) 


A 


OV 


1.275 V 


- 0.005 V 


02Sxy: x.xxx V 




Short Term Fuel Trim (Bx-Sy) 

(associated with this sensor $FF if this sensor is 

not used in the calculation) 


B 


-100.00% 
(lean) 


99.22 % 
(rich) 


100/128% 
(0% at 128) 


SHRTFTxy: xxx.x % 





NOTE — The PIDs listed in the table above only apply if PID $1D is 
used to define the oxygen sensor location. 



23.90 







TABLE B13—PID$1C DEFINITION 




PID 
(hex) 


Description 


; Data 
byte . 


Scaling 


' r External test equipment 
SI (Metric) / English display 


1C 


OBD requirements to which vehicle is designed 


A 
(hex) 


byte 1 of 1 

(State Encoded Variable) 


OBDSUP: 




01 


OBD II (California ARB) 


OBD II 






02- 


OBD (Federal EPA) 


OBD 






03 


OBD' and OBD' II 


OBD and OBD II 






04 


OBD I 


OBD I 






05 


Not OBD compliant 


NO OBD 






06 


EOBD 


EOBD 






07 


EOBD and OBD II 


EOBD and.OBD II 






08 


EOBD and OBD 


EOBD and OBD 






09 


EOBD, OBD and OBD II 


EOBD, OBD and OBD II 






0A 


JOBD 


JOBD 






0B 


JOBDandOBDII 


JOBDandOBDII 






OC 


JOBD and EOBD 


JOBD and EOBD 






OD 


JOBD, EOBD, and OBD II 


JOBD, EOBD, and OBD II 






OE-FF.. 


reserved by document 


; • C" 









TABLE B14— PID $1 D DEFINITION 


■' 


' PID 

(hex) 


Description 


Data 
byte 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


1D 


Location of oxygen sensors 


A 
(bit) 


byte 1 of 1 


02SLOC: 


(where sensor 1 is closest to 
the engine. Each bit 
indicates the presence or 
absence of an oxygen sensor 
at the following location) 



1 
2 
3 
4 
5 
6 
7-- : 


1 =Bank 1 - Sensor 1 present at that location 
1 =Bank 1 - Sensor 2 present at that location 
1 =Bank 2 - Sensor 1 present at that location 
1 =Bank 2 - Sensor 2 present at that location 
1 =Bank 3 - Sensor 1 present at that location 
1 iBank 3 - Sensor 2 present at that location 
1 =Bank 4 - Sensor 1 present at that location 
1 =Bank 4 -Sensor 2 present at that location '" 


02S11 

02S12 

02S21 

02S22 

02S31 

02S32 

02541 ' 

02S42 ■■*--' ""--" 



NOTE — PED $1D shall only be supported by a given vehicle if PID $13 is not 
supported. In no case shall a vehicle support both PIDs. 



TABLE B15— PID $1E DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


1E 


Auxiliary Input Status 


A 
(bit) 


byte 1 of 1 


Auxiliary Input Status 


Power Take Off (PTO) Status 



1-7 


= PTO not active (OFF); 

1 = PTO active (ON) 

reserved (bits shall be reported as '0') 


PTCLSTAT: OFF or ON 



TABLE B16— PID $1 F DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


1F 


Time Since Engine Start 


A, B 


Osec. 


65,535 sec. 


1 second per 
count 


RUNTM: xxxxx sec. 


RUNTM shall increment while the engine is running. It shall freeze if the engine stalls. RUNTM shall be reset to zero during every control module power-up and when entering the 
key-on, engine off position. RUNTM is limited to 65,535 seconds and shall not wrap around to zero. 



23;M 



TABLE B17— PID $21 DEFINITION 



PID 
(hex) 



21 



Description 



Distance Travelled While MIL is Activated 



Data 
byte 



A,B 



Mill, 
value 



Okm 



Max. 
value 



65535 km 



Conditions for "Distance travelled" counter: 

• reset to $0000 when MIL state changes from deactivated to activated by this ECU 

• accumulate counts in km if MIL is activated (ON) 
•do not change value while MIL is not activated (OFF) 

• reset to $0000 if diagnostic information is cleared either by service $04 or 40 warm-UD cvcles 
without MIL activated 



Scaling/ 
bit 



1 km per count 



• do not wrap to $0000 if value is $FFFF 



External test equipment 
SI (Metric) / English display 



MILJDIST: xxxxx km (xxxxx miles) 



TABLE B18— PID $22 DEFINITION 



PID 
(hex) 



22 



Description 



Fuel Rail Pressure relative to manifold vacuum 



Data 
byte 



A, B 



Min. 
value 



OkPa 



Max. 
value 



5177.27 kPa 



Scaling/bit 



0.079 kPa per bit unsigned, 
1 kPa = 0.1450377 PSI 



External test equipment 
SI (Metric) / English display 



FRP: xxxxxxx kPa (xxx.x PSI) 



FRP shall display fuel rail pressure at the engine when the reading is referenced to manifold vacuum (relative pressure). 

For systems supporting a fuel pressure sensor, one of the following 3 PIDs is required: 0A, 22, or 23. Support for more than one of these PIDs is not allowed. 



TABLE B19— PID $23 DEFINITION 



PID 
(hex) 



23 



Description 



Fuel Rail Pressure 



Data, 
byte 



A, B 



Min. 
value 



OkPa 



Max. 
value 



655350 kPa 



Scaling/bit 



10 kPa per bit unsigned, 1 
kPa = 0.1450377 PSI 



External test equipment 
SI (Metric) / English display 



FRP: xxxxxx kPa (xxxxx.x PSI) 



h F ^h7r^ P rL a rangl?han r FRP PIdToA. 6 " 91 " 6 """ * 9 "**" " "^"^ t0 a ' m ° Sphere fea9e preSSUre >- Diesel ** > ressure and ^°«™ *** Ration systems have a 
For systems supporting a fuel pressure sensor, one of the following 3 PIDs is required: 0A, 22, or 23. Support for more than one of these PIDs is not allowed. 



TABLE B20— PID $24 - $2B DEFINITION 



PID 
(hex) 



24 



25 



27 



Description 
Use if PID $1D is supported! 



Bank 1 - Sensor 1 (wide range 02S) 



Bank 1 - Sensor 2 (wide range 02S) 



Bank 1 - Sensor 3 (wide range 02S) 



Bank 1 - Sensor 4 (wide range 02S) 



Bank 2 - Sensor 1 (wide range 02S) 



: Bank 2 - Sensor 2 (wide range 02S) 



Bank 2 - Sensor 3 (wide range 02S) 



Bank 2- Sensor 4 (wide range 02S) 



Equivalence Ratio (lambda) (Bx-Sy) 



Oxygen Sensor Voltage (Bx-Sy) 



Data 
byte 



A, B 



C, D 



Min. 
value 



Max. 
value 



Scaling/bit 



PIDs $24 to $2B shall be 
used for linear or wide-ratio 
Oxygen Sensors when 
equivalence ratio and voltage 
are displayed 



0V 



7.999 V 



0.0000305 



0.000122 V 



External test equipment 
SI (Metric) / English display 



EQ_RATxy: x.xxx 



02Sxy: x.xxx V 



NOTE— The PIDs listed in the table above only apply if PED $13 is used to 
define the oxygen sensor location. 



23.92 







TABLE .BZtr-PID $24 


- $2B DEFINITION 




PID 

. <hex) 


Description 
Use if PID $1D is supported! 


Data 
byte 


Mill, 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


24 


Bank 1 - Sensor 1 (wide range 02S) 




PIDs$24to$2Bshallbe 
used for linear or wide-ratio 
Oxygen Sensors when 
equivalence ratio and voltage 
are displayed 




25 


Bank 1 - Sensor 2 (wide range 02S) 


26 


Bank 2 - Sensor 1 (wide range 02S) 


27 


Bank 2 - Sensor 2 (wide range 02S) 


28 


Bank 3 - Sensor 1 (wide range 02S) , 


29 


Bank 3 - Sensor 2 (wide range 02S) 


2A 


Bank 4 - Sensor 1 (wide range 02S) 


2B 


Bank 4 - Sensor 2 (wide range 02S) 




Equivalence Ratio (lambda) (Bx-Sy) 


A, B 





1.999 


0.0000305 . 


EQ_RATxy: x.xxx 




Oxygen Sensor Voltage (Bx-Sy) 


C,D 


OV 


7.999 V 


0.000122 V 


02Sxy: x.xxx V 



NOTE— The PIDs listed in the table above only apply if PID $ ID is used to 
define the. oxygen sensor location. 



TABLE B22— PID $2C - $2D DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value' 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


2C 


Commanded EGR" " ~ 


A 


0% 
(no flow) 


100% 
(max. flow) 


100/255% 


EGR_PCT: xxx.x% 


Commanded EGR displayed as a percent. EGR_PCT shall be normalised to the maximum EGR commanded output control parameter. EGR systems use a variety of methods to 
control the amountof EGR delivered to the engine. 

1) If an on/off solenoid is used - EGR_PCT shalldisplay 0% when the EGR is commanded off, 100% when the EGR system is commanded on. 

2) If a vacuum solenoid is duty cycled, the EGR duty cycle from: to 1 00% shall be displayed. 

3) If a linear or stepper motor valve is used, the fully closedposition shall be displayedas0%, the fully open position shall be displayed as 100%. Intermediate positions shall be 
displayed as a percent of the.ful|.open position. For example, a stepper-motor-EGR valve that moves from to 128 counts shall display 0% at counts, 100% at 128 counts and 50% 
at 64 counts. 

4) Any other actuation method shall be normalised to display 0% when no EGR is commanded and 100%at the maximum commanded EGB position. 


2D 


EGR Error =,(EGR actual - EGR commanded) / 
EGRcom'mahded * 100% 


A 


-100% 

(less than 

commanded) 


+99.22% 

(more than 

- commanded) 


100/128% 
(0% at 128) 


EGR J .ERR:.xxx.x% ,i 


EGR error, as a percent of commanded EGR. Often, EGR valve control outputs are not in the same engineering units as the EGR feedback input sensors. For example, an EGR 
valve can be controlled using a duty-cycled vacuum solenoid, however, the feedback input sensor is a position sensor. This makes it impossible to display "actual" versus , 
"commanded" in the same engineering units. EGR error solved this problem by displaying a normalised (non-dimensional) EGR system feedback parameter. EGR error-is defined-to 

be: " ■■ ~ ' '■ ' 

(actual EGR - commanded EGR) / commanded EGR. 

For example if 10% EGR is commanded and 5% is delivered to the engine, the EGR_ERR is (5% - 10%) / 10 = -50% error. 

EGR ERR may be computed using various control parameters such as position, steps, counts, etc. All EGR systems must react to quickly changing conditions in-the engine; 

therefore, EGR_ERR will generally show errors, during transient conditions. Under steady condition, the error will be minimised (no necessarily zero, however) if the EGR'systemis 

under control. ' ~ _~. .'!' 

If the control system does not use closed loop control, EGR_ERR shall not be supported. '" '■ 

When commanded EGR is 0%, EGR error is technically undefined. In this case EGR error should be set to 0% when actual EGR = 0% or EGR error should be set to 99:2% when 

actual EGR > 0%. 



23.93 



PID 
(hex) 



32 



PID 
(hex) 



33 



PID 
(hex) 



35 



39 



TABLE B23— PID $2E - $32 DEFINITION 



Description 



Commanded Evaporative Purge 



Data 
byte 



Min. 
value 



0% 
no flow 



Max. 
value 



100% ■ 
max. flow 



Scaling/bit 



100/255 % 



External test equipment 
SI (Metric) / English display 



EVAP_PCT:xxx.x% 



m^SZSSSS^^ EVAP° 'pcT e s d hLTS S no/ Pe h Cent ' EVAP " PCT *"! ? r ma " Sed *° ,he maXimUm EVAP ^e commanded output control parameter, 
it an on/orr solenoid is used - EVAP_PCT shall display 0% when purge is commanded off, 1 00% when purge is commanded on 

2 f a vacuum solenoid is duty cycled, the EVAP purge valve duty cycle from to 100% shall be displayed 

3)lf a linear Or SteDDer mntnr vah/R ic ncori thofnllw ol«o«ri .-,«,-.:*:„., ~i — ii i i: . j._- „„, ., , .. J 



^Spr=,^n^^ 



shall be 



50% at 64 counts. 



open position. For example, a stepper-motor EVAP purge valve that moves from to 1 28 counts shall display 0% at counts, 100% at 128 counts and 



4)Any other actuation method shall be normalised to display 0% when no purge is commanded and 100% at the 



maximum commanded purge position/flow. 



Fuel Level Input 



0% 
no fuel 



100% 
max. fuel 
capacity 



100/255 % 



FLI:xxxjc% 



HSi— == =^ss=B2Rssssssss=sara6BrsiBa5Bri 



Number of warm-ups since diagnostic trouble 
codes cleared 



255 



1 warm-up per 
count 



WARMJJPS: xxx 






Distance since diagnostic trouble codes cleared 



A, B 



km 



1 km per count 



CLFLDIST: xxxxx km (xxxxx miles) 



^EE^^ 



65,535 km and not wrap to zero. 



R_DIST shall remain at 



Evap System Vapor Pressure 



($8000) 
-8192 Pa 
(-32.8878 

inH20) 



($7FFF) 
8191 Pa 
(32.8838 
inH20) 



0.25 Pa per bit 
signed 



EVAP_VP: xxxx.xx Pa (xx.xxx in H20) 



ZS^lg^JSZ^F ^ the C ° n,r01 m ° dUle - ^ PreSSUre Si9nal " n0rma " y ° bteined ,r0m a S6nS0r l0Cated ■"•»*»■ tank 0=n> - Fuel Tank Pressure) or". 



TABLE B24— PID $33 DEFINITION 



Description 



Barometric Pressure 



Data 
byte 



Min. 
value 



OkPa 
(absolute) 



Max. 
value 



255 kPa 
(absolute) 



Scaling/bit 



1 kPa per bit 
(absolute) 



External test equipment 
SI (Metric) / English display 



BARO: xxx kPa (xx.x inHg) 



o^rrred'fmmTMAFTenso^ Tf* *%*" T * ^^ BAR ° S6nS ° r ' fr0m a MAP SenSOr at ^ and duri "9 certain ™ d <* of driving, 

NOTF w ^.hnr/ ^ T^"", 9 ° ertaln modeS 0f dnv ' ns - The oontro1 module sna " re P° rt BAR0 fram whatever source it is derived from 

NOTE SSKTS3^Tfc?Slf^H V ? IU " ^n d r?/.f 'T l '" ', heSe ° aSeS ' ,he rep ° rted «"» ma * not mateh the ^^ value °" *• ™' test equipment. 
NUI E If BARO is inferred while driving and stored in non-volatile RAM or Keep-alive RAM, BARO may not be accurate after a battery disconnect or total memory clear. 



TABLE B25— PID $34 - $3B DEFINITION 



Description 
Use if PID $1 D is supported! 



Bank 1 - Sensor 1 (wide range 02S) 



Bank 1 - Sensor 2 (wide range 02S) 



Bank 1 - Sensor 3 (wide range 02S) 



Bank 1 - Sensor 4 (wide range 02S) 



Bank 2 - Sensor 1 (wide range 02S) 



Bank 2 - Sensor 2 (wide range 02S) 



Bank 2 - Sensor 3 (wide range 02S) 



Bank 2 - Sensor 4 (wide range 02S) 



Equivalence Ratio (lambda) (Bx-Sy) 



Oxygen Sensor Current (Bx-Sy) 



Data 
byte 



A, B 



CD 



Min. 
value 



Max. 
value 



Scaling/bit 



PIDs$34to$3Bshallbe 
used for linear or wide-ratio 
Oxygen Sensors when 
equivalence ratio and current 
are displayed 



-128 mA 



1.999 



127.996 mA 



0.0000305 



0.00390625 mA 
($8000 = mA) 



External test equipment 
SI (Metric) / English display 



EQ_RATxy: x.xxx 



02Sxy: x.xxx mA 



NOTE— The PIDs listed in the table above only apply if PID $13 is used to 
define the oxygen sensor location. 



23.94 



TABLE B26— PID $34 - $3B DEFINITION 



PID 

(hex) 


-r Description 
Use if PID $1D is supported! 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


34 


Bank 1 - Sensor 1 (wide range 02S) 




PlDs$34to$3Bshallbe 
used for linear .or wide-ratio 
Oxygen Sensors when 
equivalence ratio and current 
are displayed 




35 


Bank 1 - S.eosor.2 (wide range 02S) 


36 


Bank 2 - Sensor 1 (wide range 02S) , 


37 


Bank.2 - Sensor ,2 (wide range 02S) 


38 


Bank 3 - Sensor 1 (wide range 02S) 


39 


Bank 3 - Sensor 2 (wide range 02S) . 


3A 


Bank 4 - Sensor 1 (wide range 02S) 


3B 


Bank 4- Sensor 2 (wide range Q2S) 




Equivalence RatiOj(lambda) (Bx-Sy) 


A,B 





1.999 


0.0000305 


EQ_RATxy: x:xxx 


Oxygen SansojcCurrent. (BxrSy) 


C, D 


-128 mA 


127.996 mA 


0.00390625 mA. 
($8000 = mA) 


02Sxy: x.xxx mA 



NOTE— The PJDs listed in the table above only apply: if PID $1D is used to 
define the oxygen sensor location. 





- 


TABLE B27— PID 5 


3C-$3F DEFINITION 




PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) 1 / English display 


3C 


Catalyst Temperature Bank 1, Sensor 1 


A, B 


-40 °C 


+6513.5 °C 


0.1 °C/ bit with -40 
°C offset 


CATEMP1 1 : xxxx.x °C (xxxx.x °F) 


CATEMP1 1 shall display catalyst substrate temperature for a bank 1 catalyst, if utilised by the cphtral module strategy for OBD monitoring, or the Bank 1 , Sensor 1 catalyst 
temperature sensor. CATEMP1 1 may be obtained directly from a sensor, or may be inferred by the control strategy using other sensor inputs. 


3D 


Catalyst Temperature Bank 2, Sensor 1 


A, B 


-40 °C 


+6513.5 °C 


0.1 °C/ bit with -40 
°C offset 


' CATEMP21 : XXXX.X °C (XXXX.X °F) 


CAT EMP2T shall display catalyst substrate temperature for a bank 2 catalyst, if utilised by the control modulestrategy for OBD monitoring, or the Bank 2, Sensor 1 catalyst 
temperature sensor. CATEMP21 may be obtained directly from a sensor, or may be inferred by the control strategy using other sensor inputs. 


3E 


Catalyst Temperature Bank 1, Sensors 


• "A-,B 


-40 °G 


+6513.5 °C 


0.1 °C/ bit with -40 
°C offset 


CATEMP12: xxx*x ; °C (XXXX.X °F) 


CATEMP1 2 shall display catalyst substrate temperature for an additional bank 1 catalyst, if utilised by the control module strategy for OBD monitoring, or the Bank 1 , Sensor 2 
catalysttemperature sensonCAT EMP12 may be obtained directly from a sensor, or may.be inferred by the control strategy using other sensor inputs. 


3F 


Catajyst Temperature Bank 2, Sensor 2 


A,B 


-40 °C 


+6513.5 °C 


0.1 °C/ bit with -40 
°C offset 


CATEMP22: xxxx.x °C (xxxx.x °F) 


CATEMP22 shall display catalyst substrate temperature for an-addifional bank 2 catalyst, jf utilised by the control module strategy for OBD monitoring, or the Bank 2, Sensor 2 
catalysttemperature sensor. CATEMP22 maybe obtained directly from asensorj or may be inferredby the control strategy using othersensor inputs., 



TABLE.B28— PID $41 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Scaling/bit 


External Test Equipment 


41 


Monitor status this driving cycle 








The bit in this PID shall report two pieces of information for each monitor: 

1)Monitor enable status for the current driving cycle. This bit shall indicate when a monitor is disabled in a manner such that there is no way for the driver to operate the vehicle for 

the remainder of the driving cycle and make the monitor run. Typical examples are: 

— Engine-off soak not long enough (e.g., cold start temperature conditions not satisfied), 

— Monitor maximum time limit or number of attempts/aborts exceeded, 

— Ambient air temperature too low or too high, . ":■:'' 

— BARO too low (high altitude). 

The monitor shall not indicate "disabled" for operator-controlled conditions such as rpm, load, throttle position, minimum time limit not exceeded, ECT, TP, etc. , j 
2)Monitor completion status for the current driving/monitoring cycle. Status shall be reset to "not complete" upon starting a new monitoring cycle. Note that some monitoring cycles 
can include various engine-operating conditions; other monitoring cycles begin after the ignition key is turned off. Some status bits on a given vehicle can utilise engine-running 
monitoring cycles while others can utilise engine-off monitoring cycles. Resetting the bits to "not complete" upon starting the engine will accommodate most engine-running and 
engine-off monitoring cycles, however, manufacturers are free to define their own monitoring cycles. 

NOTE PID $41 bits shall be utilised for all non-continuous monitors which are supported, and change completion status in PID $01 . If a non-continuous monitor is not supported or 
always shows "complete", the corresponding PID $41 bits shall indicate disabled and completed PID $41 bits may be utilised at the vehicle manufacturer's discretion for all 
continuous monitors which are supported with the exception of bit 03 which shall always show CCM (Comprehensive Component Monitoring) as enabled for spark ignition and 
compression ignition engines. 



23.95: 



TABLE B29— PID $41 DEFINITION (CONTINUED) 



Reserved - shall be reported as $00 



Enable status of continuous monitors this 
monitoring cycle: 



Misfire monitoring 
Fuel system monitoring 
Comprehensive component monitoring 
reserved (bit shall be reported as '0') 



Completion status of continuous monitors this 
monitoring cycle: 



Misfire monitoring 
Fuel system monitoring 
Comprehensive component monitoring 
reserved (bit shall be reported as '0') 



A 
(bit) 



B 
(bit) 



B 
(bit) 



byte 1 of 4 



byte 2 of 4 (Low, Nibble) 



'= monitor disabled for 

rest of this monitoring 
cycle or not supported (NO) 

1 = "monitor enabled for 

this monitoring cycle (YES) 



byte 2 of 4 (High Nibble) 



See PID $01 to determine which monitors 
are supported 

= monitor complete this 

monitoring cycle, or not 
supported (YES) 

1 = monitor not complete this 

monitoring cycle (NO) 



Enable status of continuous monitors this monitoring cycle: 
NO means disabled for rest of this monitoring cycle or not 
supported in PID $01, YES means enabled for this monitoring 
cycle. 



MIS_ENA:NOorYES 
FUEL_ENA:NOorYES 
CCM_ENA: YES 



Completion status of continuous monitors this monitoring 
cycle: 



MIS_CMPL: YES or NO 
FUELCMPL: YES or NO 
CCM_CMPL: YES or NO 







TABLE B30— PID $41 DEFINITION (CONTINUED) 




PID 
(hex) 


Description 


Data 
byte 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


41 


Monitor status this driving cycle 








Enable status of non-continuous monitors this 
monitoring cycle: 


C 

(bit)~ 


byte 3 of 4 


Enable status of non-continuous monitors this monitoring 
cycle: 


Catalyst monitoring 
Heated catalyst monitoring 
Evaporative system monitoring 
Secondary air system monitoring 
A/C system refrigerant monitoring 
Oxygen sensor monitoring 
Oxygen sensor heater monitoring 
EGR system monitoring 




1 

2 
3 
4 
5 
6 
7 


=monitor disabled for 

rest.of this monitoring 
cycle (NO) 

1 =monitor enabled for 

this monitoring cycle (YES) 


CAT_ENA: YES or NO 

HCAT ENA: YES or NO . 

EVAP_ENA:YESorNO 

AIR_ENA:YESorNO 

ACRF_ENA: YES or NO . 

02S_ENA: YES or NO 

HTR_ENA:YESorNO 

EGR_ENA: YES or NO 


Completion status of non-continuous monitors this 
monitoring cycle: 


D 
(bit) 


byte 4 of 4 


Completion status of non-continuous monitors this 
monitoring cycle: 


Catalyst monitoring 
Heated catalyst monitoring 
Evaporative system monitoring 
Secondary air system monitoring 
A/C system refrigerant monitoring 
Oxygen sensor monitoring 
Oxygen sensor heater monitoring 
EGR system monitoring-' 



1 
2 

3 

4 
5 
6 

7 


See PID $01 to determine which monitors 
are supported. 

=monitor disabled for 

rest of this monitoring 
cycle (NO) 

1 =monitor enabled for 

this monitoring cycle (YES) 


CAT CMPL: YES or NO 
HCATCMPL: YES or NO 
EVAPCMPLYESorNO 
AIR_CMPL: YES or NO 
ACRF CMPL: YES or NO 
02S_CMPL: YES or NO 

HTR_CMPL: YES or NO - 

EGR_CMPL: YES or NO 



TABLE B31— PID $42 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


42 


Control module voltage 


A, B 


ov 


65.535 V 


0.001 V per bit 


VPWR:xx.xxxV 


note" 42 P v^LZt?Z e „';! ) t T tr01 m< ?! e - V » WR te , n °„ rma " y battery VOl,a3e ' less any voltase drop in the circuit between ,he batte ry and the control module. 

bSe% wltege * " 96S ' Me ' Bni SyStemS °" thS V6hiCla VPWR re P resents the v °" a 9e at the control module; it may be significantly different than 



23.96 



TABLE B32^-PID $43 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min.: 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


43 


Absolute Load Value 


A, B 


0% 


25700 % 


100/255% 


LOAD_ABS: xxx.x% 


The absolute load:value:has:some differentcharacteristics than the LOAD_PCT: defined in PID;04This definition, although restrictive, will standardise the calculation. LOAD_ABS is 
the normalisedsvalueiof. air mass per intake stroke displayed as a percent. 

LOAD_ABS:= [air mass (g / iiitakestroke)] / [1:184 (g / intake stroke) * cylinder displacement in litres] 

Derivation: 

— air mass (g / intake stroke) = [total engine air mass (g/sec)] / [rpm (revs/min)* (1 min / 60 sec) * (1/2 # of 
cylinders (strokes / rev)], -: 

— LOAD_ABS = [air mass (g)/intake stroke] / [maximum air mass (g)/intake stroke at WOTOSTP at 100% volumetric efficiency] * 100%. 

Where: 

— STP = Standard Temperature and Pressure = 25 °C, 29.92 in Hg (101.3 kPa) BARO, WOT = wide open throttle. 

The quantity (maximum air mass (g)/intake stroke at WOTOSTP at 100% volumetric efficiency) is a constant for a given cylinder swept volume: The constant is-1.184 (g/litre 3) * 
cylinder displacement (litre 3/intake stroke) based on air density 
at-STP. ■- ........... 

Characteristics of LOAD_ABS are: - 

— Ranges from to approximatelyO:95 for naturally aspirated engines, - 4 for boosted engines, 

— Linearly correlated with engine indicated and brake torque, 

— Often used to schedule spark and EGR rates, 

— Peak value of LOAD_ABS correlates with volumetric efficiency at WOT, 

— Indicates the pumping, efficiency of the engine for diagnostic purposes. -..,.. 

Spark ignition engine; are required.to support PID $43. Compression ignition (diesel) engines are not required to support this PID. 
NOTE See PID $04 for an additional definition of engine LOAD. i "■ 



■ - 






TABLE B33— PID $44 DEFINITION 


. "" .-...' : . -'■"•" "'•.'.: i. 


'; PID 

| (hex) 


Description 


Data 
,5,- -•. ! byte 


Min. 

value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


; 44 


Commanded Equivalence Ratio 


- ' ! A, B 


. 


1;.999 .•; 


0.0000305 


EQ_RAT:x.xxx 


Fuel systems that utilise conventional'oxyge'n sensor shall display the commanded 1 open loop equivalence ratio while the fuel control system isin open loop. EQ_RAT shall indicate 

1 .0 while in closed loop fuel. : - r.. "-■ < -- 

Fuel systems that utilise wide-range/linear oxygen sensors shall display the commanded equivalence ratio in both open loop and closed loop operation. 

To obtain the actual A/F ratio being commanded, multiply the stoichiometric A/F ratio by the equivalence ratio. For example, for gasoline, stoichiometric is-14.64:1. ratio. If the fuel 

control system was.commanding an 0.95 EQ_RAT, the commanded A/Fratio to the engine -wouktbed.4.64.*. 0.95 = -13:9 A/F. 



- - 






TABLE B34— PID $45 DEFINITION 


• 


i PID 
I (hex) 


Description 


Data 
byte 


Min. 
value 


. Max. ,. 
' .value..'. 


^ Scaling/bit 


External test equipment - 
SI (Metric) / English display 


45 


Relative Throttle Position 


A 


% 


100.;%,, - 


100/255% 


TP_R: xxx.x % 


Relative or "learned'' throttlepositionshall be displayed as a normalised value, scaled from to 1 00%. TP^R should display a value of 0% at the "learned closed-throttle position. For 
examplejf ; a to.5.p_yolt sensor, is used (uses a 5.0 voltjrefersnc&ypjtage), and the closed throttleposltion is a 1.0 volts, TP shall display (1.0 -1.0/ 5.0)=- 0%at.closedt^ 
30% at 2.5 volts. Because of the closed-throttle offset, wide open throttle will usually indicate substantially less than 1 00%. 

For systems where the output is proportional to the input voltage, this;valueis the.'pereent-offmaxirnum input reference voltage. For systems where the output is inversely 
proportional to the input voltage, this value is 100% minus the percent of maximum input reference voltage. See PID $11 for a definition of Absolute Throttle Position,. _.._ 





- r "- ' ' - 




TABLE B35— PID $46 DEFINITION 


-. - J 


' PID 
; (hex) 


Description 


Data 
byte 


' Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


46 


Ambient air temperature 
(same^caling as IAT- $0F) 


A 


-40 °C 


+215 °C 


1 °C with 
-40 °C offset 


AAT: xxx °C / xxx °F 


AAT shall display ambient air temperature, if utilised by the control module strategy for OBD monitoring. AAT may be obtained directly from a sensor, may be obtained indirectly via 
the vehicle serial data communication bus, or may be inferred by the control strategy using other sensor inputs. 



TABLE B36— PID $47 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


47 


Absolute Throttle Position B 


A 


0% 


100% 


100/255 % 


TP_B: xxx.x % 


Absolute throttle position B, if utilised by the control module, (not "relative" or "learned" throttle position) shall be displayed as a normalised value, scaled from to 100%. For 
example, if a to 5.0 volt sensor is used (uses a 5.0 volt reference voltage), and the closed throttle position is a 1 .0 volts, TP_B shall display (1 .0 / 5.0) = 20% at closed throttle and 
50% at 2.5 volts. Throttle position at idle will usually indicate greater than 0%, and throttle position at wide open throttle will usually indicate less than 1 00%. 
For systems where the output is proportional to the input voltage, this value is the percent of maximum input reference voltage. For systems where the output is inversely proportional 
to the input voltage, this value is 100% minus the percent of maximum input reference voltage. 



23;97 



TABLE B37— PID $48 DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


■ Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


48 


Absolute Throttle Position C 


A 


0% 


100% 


100/255 % 


TP_C:xxx.x% ■■ ■ • 


examole To la^TZ t'lT^ " "X ^ contr °' m0 ^ ule ; < not " relative " °' " learned " throttle position) shall be displayed as a normalised value, scaled from to 100% For 

w I o i ?. tk « ! i d (US6S a S -° VOlt reference volta 9e , and the closed throttle position is a 1 .0 volts,- TP C shall display (10/50) = 20% at closed throttle and 

50% at 2.5 volts. Throttle position at idle will usually indicate greater than 0%, and throttle position at wide open throttle will usually indicate less than 100%! 

to thTfnnntl^™ ^.fS^ P ^°^ I* 8 ' mpUt ^l* 9 *' .*" s ValUe iS ,he percent of maximum input referenoe volta 9e- For systems where the output is inversely proportional 
to the input voltage, this value is 100% minus the percent of maximum input reference voltage. ei»»yHiupuiuuridi 









TABLE B38— PID $49 DEFINITION 




PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
.value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


49 


Accelerator Pedal Position D 


A 


0% 


.. 100% 


100/255% 


APP_D: xxx.x % 


^S^^S^^^S^S'i^ ""J? ^f' (n0t " re ! atiVe ; ° r " learned " pedal position > sna " ba displayedas a normalised value, scaled from to 100%. For 
example if a to 5.0 volt sensor is used (uses a 5.0 volt reference voltage , and the closed pedal is 1 .0 volt, APP D shall display (10/50) = 20% at closed oedal and 50% at 2 "5 
volts. Pedal position at idle will usually indicate greater than 0%, and pedal position at wide open pedal will usually indicate , Khan 100%' P 

tofte fnnntlnS ml.fS^Xf i0na ' ^ inpU ' ™'* a 9 e - ,his **» is the percent of maximum input reference voltage. For systems where the output is inversely proportional 
to the input voltage, this value is 100% minus the percent of maximum input reference voltage. ^ H ^ 



TABLE B39— PID $4A DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


4A 


Accelerator Pedal Position E 


A 


0% 


100 % 


100/255% 


APP_E: xxx.x % 


examnlf ?fTn to'rnfZf; " """^ ¥, *" "Tn' m , 0dU ! e ' ( " 0t " r8 ' a,iVe " ° r " learned " pedal position ) sna " be displa y ed as a normalised value, scaled from to 100%. For 
example if a to 5.0 volt sensor is used (uses a 5.0 volt reference voltage , and the closed pedal is 1 .0 volt, APP E shall display (10/50) = 20% at closed Dedal and 50% at 2 5 
volts. Pedal position at idle will usually indicate greater than 0%, and pedal position at wide open pedal will usually indicate llss than 100%. 

I^KStaoe ts^^iZ^Tnf,'^ 6 inpU ' T^ * ?* "?" f T P 8 ™"' ,° f maXimUm inpUt referenCe vol,aae - For systems where the ° utput is imerse * Proportional 
io me input voltage, mis value is 1 00% minus the percent of maximum input reference voltage. 



TABLE B40— PID $4B DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


4B 


Accelerator Pedal Position F 


A 


0% 


100% 


100/255% 


APP_F:xxx.x% 


■^^^^^^T hV 118 'Tn m ?. dU ' e ' < n °t "relative" or "learned" pedal position) shall be displayed as a normalised value, scaled from to 100%. For 
STp^ i nn t y 1 n used (uses a 5.0 volt reference voltage), and the closed pedal is 1 .0 volt, APP_F shall display (1 .0 / 5.0) = 20% at closed pedal and 50% at 2 5 
volts. Pedal position at idle will usually indicate greater than 0%, and pedal position at wide open pedal will usually indicate less than 100%. 

to me input voltage, this value is 1 00% minus the percent of maximum input reference voltage. 



TABLE B41— PID $4C DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) / English display 


4C 


Commanded Throttle Actuator Control 


A 


0% 
(closed throttle) 


100% 

(wide open 

throttle) 


100/255% 


TAC_PCT: xxx.x% 


ZSmSZ^^ TAC - PCT Sha " bS n ° rma " Sed '° ,he mSXimUm TAC c ° mmanded ou 'P u t control parameter. TAC systems use a variety of methods to : 

sha" bedisrtaveTaTroercent Vf^TJ^^ *' ?" P r Si "° n Sha ," " e diSplayed 3S ° % ' ,he ,U " y 0pen throttte position sna " be dis P layed as 1 °° % - Intermediate positions 
128 counte and 50% at 64 courts P ° S ***"* * stepper - rno t° r TAC «"* moves the throttle from to 128 courts shall display 0% at counts, 100% at 

2) Any other actuation method shall be normalised to display 0% when the throttle is commanded closed and 1 00% when the throttle is commanded open. 



23.98 



TABLE B42— PID $4D DEFINITION 



PID 
(hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
. value 


Scaling/ 
bit 


External test equipment 
SI (Metric) / English display 


4D 


Minutes run by the engine while MIL activated 


A, B 


Omin 


65535 min 
1092.25 hours 


1 min per count 


MIL_TIME:xxxx hrs, xx min 


Co.nditipns for "Minutes run by the engine while MIL activated" counter: . 

• reset to $0000 when MIL state changes from deactivated to activated by this ECU 

• accumulate counts in minutes if MIL is activated (ON) 

• do not change value while MIL is not activated (OFF) 

• reset to $0000 if diagnostic information [is cleared either by service $04 or 40 warm-up cycles without MIL activated _....._.. 



• do hot Wrap to $0000 if value is $FFFF ., 









TABLE B43— PID $4E DEFINITION 






: PID 
: (hex) 


Description 


Data 
byte 


Min. 
value 


Max. 
value 


Scaling/bit 


External test equipment 
SI (Metric) /English display 


4E ... 


, Time, since diagnostic trouble codes cleared 


. A„B 


min 


65535 min: 
1092;25 hours 


! min per count ; 


CLFLTIME: xxxx,hrs/xx min ■ 


Time accumulated since DTCs were cleared (via an 
indication for l/M (Inspection/Maintenance), of the las 
65,535 mm and not wrap to zero. 


sxternal test equipment or possibly, a battery disconnect). This PID is not associated with any particular DTC. It is simply an 
t time an external test equipment was used to; clear DTCs. If greater than 65,535 min have occurred, CLR_TIME shall remain at 



TABLE B44— PID $4F - $FF DEFINITION 



PID 
: (hex) 


Description 


Data 
byte 


yalue. 


Max. 
value 


Scaling/bit 


External test equipment 
' S| (Metric) /English display 


\ 4F - FF 


Reserved by document 


- . 


; 


— 


- 


..'•-.. 



appendix c 

(Normative) 

tids (test ed) for service $05 scaling and definition 

This appendix only applies to ISO 9141-2, SAE J1850, and ISO 14230-4. 

TABLE C1— TEST ID SCALING DESCRIPTION 



Test ID 


Description' * 


Min. ($00) 


Max.($FF) 


Scaling/bit 


" $01 "'■ 


Rich to lean sensor threshold voltage (constant) ...... 


OV 


1.275 V 


0.005V 


$02 


Lean to rich sensor threshold voltage (constant) 


OV 


1.275V 


d.oosv 


= -=$03 - 


-Low sensor voltage forswitcti time calculation (constant)' - 


OV 


1.275 V 


0.005V 


$04 


High sensor voltage for switch time calculation (constant) 


OV 


1.275 V 


0.005 V 


$05 


Rich to lean sensor switch time (calculated) 


0s 


1.02 s 


0.004 s 


$06 -::-. 


Leantorich sensor switch time (calculated) 


Os 


1.02 s 


0.004s 


$07 - 


Minimum sensor voltage for test cycle (calculated) 


OV 


1.275.V 


o.oosv 


$08 


Maximum sensor voltage for test cycle (calculated) 


OV 


1.275 V 


0.005 V 


$09 


Time between sensor transitions (calculated) 


Os 


10.2 s 


0.04is 


$0A 


Sensor period (calculated) 


s 


10,2 s 


0,04 s 


$0B-$1F 


reserved - to be specified by SAE and/or ISO 








$21-$2F " 


manufacturer Test ID description 


0s 


1.02s 


0.004 s 


$30^3F 




0s 


10.2 s 


0.04 s 


$41-$4F 




OV 


1.275 V 


0.005 V 


$50-$5F 




OV 


12.75 V 


0.05 V 


$6i;$6F 




Hz 


25.5 Hz 


0.1Hz 


$70-$7F 




counts 


255 counts 


1 count 


$81-$9F 


manufacturer Test ID description 


manufacturer specific values / 1 


inits 


$A1-$BF 








— $Ci-$DF 








$E1-$FF 









23.99- 



APPENDfXD 

(NORMATIVE) 

OBDMIDS (ON-BOARD DIAGNOSTIC MONITOR ID) DEFINITION FOR SERVICE $06 



This appendix only applies to ISO 15765-4. 



OBDMID (Hex) 



00 



02 



06 



08 



0B 



OE 



11-1F 



22 



35-38 



3E - 3F 



40 



42 



46 



47 



4C 



TABLE D1— STANDARD ON-BOARD DIAGNOSTIC MONITOR ID DEFINITION 



On-Board Diagnostic Monitor ID name 



OBD Monitor IDs supported ($01 - $20) 



Oxygen Sensor Monitor Bank 1 - Sensor 1 



Oxygen Sensor Monitor Bank 1 - Sensor 2 



Oxygen Sensor Monitor Bank 1 - Sensor 3 



Oxygen Sensor Monitor Bank 1 - Sensor 4 



Oxygen Sensor Monitor Bank 2 - Sensor 1 



Oxygen Sensor Monitor Bank 2 - Sensor 2 



Oxygen Sensor Monitor Bank 2 - Sensor 3 



Oxygen Sensor Monitor Bank 2 - Sensor 4 



Oxygen Sensor Monitor Bank 3 - Sensor i 



Oxygen Sensor Monitor Bank 3 - Sensor 2 



Oxygen Sensor Monitor Bank 3 - Sensor 3 



Oxygen Sensor Monitor Bank 3 - Sensor 4 



Oxygen Sensor Monitor Bank 4 - Sensor 1 



Oxygen Sensor Monitor Bank 4 - Sensor 2 



Oxygen Sensor Monitor Bank 4 - Sensor 3 



Oxygen Sensor Monitor Bank 4 - Sensor 4 



Reserved by document for future standardization 



OBD Monitor IDs supported ($21 - $40) 



Catalyst Monitor Bank 1 



Catalyst Monitor Bank 2 



Catalyst Monitor Bank 3 



Catalyst Monitor Bank 4 



Reserved by document for future standardization 



EGR Monitor Bank 1 



EGR Monitor Bank 2 



EGR Monitor Bank 3 



EGR Monitor Bank 4 



Reserved by document for future standardization 



EVAP Monitor (Cap Off) 



EVAP Monitor (0.090") 



EVAP Monitor (0.040") 



EVAP Monitor (0.020") 



Purge Flow Monitor 



Reserved by document for future standardization 



OBD Monitor IDs supported ($41 - $60) 



Oxygen Sensor Heater Monitor Bank 1 - Sensor 1 



Oxygen Sensor Heater Monitor Bank 1 - Sensor 2 



Oxygen Sensor Heater Monitor Bank 1 - Sensor 3 



Oxygen Sensor Heater Monitor Bank 1 - Sensor 4 



Oxygen Sensor Heater Monitor Bank 2 - Sensor 1 



Oxygen Sensor Heater Monitor Bank 2 - Sensor 2 



Oxygen Sensor Heater Monitor Bank 2 - Sensor 3 



Oxygen Sensor Heater Monitor Bank 2 - Sensor 4 



Oxygen Sensor Heater Monitor Bank 3 - Sensor 1 



Oxygen Sensor Heater Monitor Bank 3 - Sensor 2 



Oxygen Sensor Heater Monitor Bank 3 - Sensor 3 



Oxygen Sensor Heater Monitor Bank 3 - Sensor 4 



Oxygen Sensor Heater Monitor Bank 4 - Sensor 1 



Oxygen Sensor Heater Monitor Bank 4 - Sensor 2 



23.100 



TABLE D1— STANDARD ON-BOARD DIAGNOSTIC MONITOR ID DEFINITION 



OBDMID (Hex) 



4F 



50 



62 



63 



64 



75-7F 



. On-Board Diagnostic Monitor ID name 



Oxygen Sensor Heater Monitor Bank 4 - Sensor 3 



Oxygen Sensor Heater Monitor Bank 4 - Sensor 4 



Reserved by document for future standardization. 



OBD Monitor IDs supported ($61 -$80) 



Heated Catalyst Monitor Bank 1 



Heated Catalyst Monitor Bank 2 



Heated Catalyst Monitor Bank 3 



Heated Catalyst Monitor Bank 4 



Reserved by document for future standardization 



Secondary Air Monitor 1 



Secondary Air Monitor 2 



Secondary Air Monitor 3 



Secondary Air Monitor 4 



Reserved by document for future standardization 



OBD Monitor IDs supported ($81 - $A0) 



Fuel System Monitor Bank 1 



82 



Fuel System Monitor Bank 2 



Fuel System Monitor Bank 3 



Fuel System Monitor Bank 4 



85-9F 



Reserved by document for future standardization 



A0 



A1 



OBD Monitor IDs supported ($A1 - $C0) 



Mis-Fire Monitor General Data 



A2 



Mis-Fire Cylinder 1 Data 



A3 



Mis-Fire Cylinder 2 Data 



A4 



Mis-Fire Cylinder 3 Data 



Mis-Fire Cylinder 4 Data 



Mis-Fire Cylinder 5 Data 



A7 



Mis-Fire Cylinder 6 Data 



A8 



Mis-Fire Cylinder 7 Data 



A9 



Mis-Fire Cylinder 8 Data 



AA 



Mis-Fire Cylinder 9 Data 



Mis-Fire Cylinder 10 Data 



M|s-Fire Cylinder 11 Data 



Mis-F|re Cylinder 12 Data 



Reserved by document for future standardisation 



OBD Monitor IDs supported ($C1 - $E0) 



Reserved by document for future standardisation 



E0 



E1-FF 



OBD Monitor IDs supported ($E1 -$FF) 



Vehicle Manufacturer defined OBDM IDs 



Oxygen Sensor and Catalyst Configuration examples 



2340.1 



B1 S1 B1 S2 

(Bank 1 - Sensor 1.) (Bank 1 - Sensor 2) 
(wide range) (heated) 




Catalyst 



Exhaust Bank 1 

c y'- 1 Cylinder Bank 1 



V6/V8/V12 Cylinder 
Engine 



Cylinder Bank 2 

Exhaust Bank 2 



B1S3 

(Bank 1 - Sensor 3) 

(heated) 




Tail Pipe 



r^ fl cat*),* f ryi J 



B2 S1 B2 S2 

(Bank 2- Sensor 1) (Bank 2 - Sensor 2) 
(wide range) (heated) 



Catalyst 



.K 



Tail Pipe 



B2S3 

(Bank 2 - Sensor 3) 

(heated) 



FIGURE Dl— V6/V8/V12 CYLINDER ENGINE WITH 2 EXHAUST BANKS AND 4 CATALYSTS EXAMPLE 



B1 S1 

(Bank 1 - Sensor 1) 

(wide range) 



B1 S2 

(Bank 1 - Sensor 2) 

(heated) 



Exhaust Bank 1 
c y'- 1 Cylinder Bank 1 



V6/V8/V12 Cylinder 
Engine 



Cylinder Bank 2 
Exhaust Bank 2 




B2 S1 

(Bank 2 - Sensor 1) 

(wide range) 



B2 S2 

(Bank 2 - Sensor 2) 

(heated) 



B1 S3 

(Bank 1 - Sensor 3) 

(heated) 



r Catalyst j | 



Tail Pipe 



FIGURE D2— V6V8/V12 CYLINDER ENGINE WITH 2 EXHAUST BANKS AND 3 CATALYSTS EXAMPLE 



0) 


1 




c 




O) 






c 


2 


C 


111 




DQ 






(A 










3 


ffl 
X 


"<* 






-J 


4 






B1S1 B1 S2 

^(Bank 1 - Sensor 1) (Bank 1 - Sensor 2) 
(wide range) (heated) 

JL 



B1 S3 

(Bank 1 - Sensor 3) 

(heated) 



Catalyst 



Tail Pipe 



FIGURE D3— L4 CYLINDER ENGINE WITH 1 EXHAUST BANK AND 2 CATALYSTS EXAMPLE 



23.102 



o 


1 


c 




DJ 


JC 


c 


? s 


UJ 


ffl 








w 




■■■ 3 


>» 
o 


3|- 

■ .iiii- 


^ 1 




_1 


4 



B1 S1 

(Bank 1 -Sensor 1) 

(wide range) 



B1S2 

(Bankl -Sensor 2) 

(heated) 




Tail Pipe 



FIGURE D4— L4 CYLINDER ENGINE WITH 1 EXHAUST BANK AND 1 CATALYST EXAMPLE 



APPENDIX E 

(NORMATIVE) 

UNIT AND SCALING ID DEFINITION FOR SERVICE $06 



This appendix only applies to ISO.15765-4. The Unit and Scaling IDs are 
separated into two; ranges, $01 - $7F are unsigned Scaling Identifiers, and 
$80 - $FE are signed ScalingTdentifiers. Unit and Scaling IDs $00 and $FF 
are reserved for future definition and shall not be defined as Unit and Scal- 
ing Identifiers. 



Bit 7 = '0' unsigned Scaling Identifier range 
Bit 7 = "1 ' "signed Scaling Identifier range 


= 


7 : 


, 6 


: '5 4 3 2' 1 


I 



FIGURE El— UNSIGNED/SIGNED SCALING 
IDENTIFIER RANGE ENCODING 

E.l Unsigned Unit and Seating Identifiers definition 

TABLE E1— UNIT AND SCALING ID $01 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


-•' ■ External test equipment 
■„. SI (metric) display 




(hex) 


(dec.) 


(hex) 


(dec.) : 


01 


Raw Value 


- 1 per bit 
hex to decimal 
unsigned 


- 0000 





FFFF 


6553S 


> ! '--; ■'"■: xxxxx" 


Data Range examples: - 


Display examples: 


$0000 


..-.r " 

,65535 




i 


FFFF 




+65535 



TABLE E2— UNIT AND SCALING ID $02 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max: value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


02 


Raw Value 


0.1 per bit 

hex to decimal 

unsigned 


0000 





FFFF 


6553.5 


XXXX.X 


Data Range examples: 


i Display examples: 


$0000 


o:o jj 

] . 6553.5 i 




5 


FFFF 




+6553.5 ' 







TABLE E3^-UNIT AND SCALING ID$03 DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


: External test equipment 
" SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


03 


Raw Value 


0.01 per bit 

hex to decimal 

unsigned 


0000 





FFFF 


655.35 


- xxx:xx ! 


Data Range examples: 


Display examples: 


$0000 


0.00 
655.35 




9 


FFFF 




+655.35 



23.103. 



TABLE E4— UNIT AND SCALING ID $04 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


04 


Raw Value 


0.001 per bit 

hex to decimal 

unsigned 


0000 





FFFF 


65.535 


XX.XXX 


Data Range examples: 


Display examples: 


$0000 
$FFFF +65.535 


0.000 
65.535 





















TABLE E5— UNIT AND SCALING ID $05 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


05 


Raw Value 


0.0000305 per bit 

hex to decimal 

unsigned 


0000 





FFFF 


1.999 


X.XXX 


Data Range examples: 


Display examples: 


$0000 o 


0.000 
1.999 




$FFFF 




+1.999 



TABLE E6— UNIT AND SCALING ID $06 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


06 


Raw Value 


0.0000305 per bit 

hex to decimal 

unsigned 


0000 





FFFF 


19.988 


XX.XXX 


Data Range examples: 


Display examples: 


$0000 
SFFFF +19.988 


0.000 
19.988 





















TABLE E7— UNIT AND SCALING ID $07 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


07 


rotational 
frequency 


0.25 rpm per bit 
unsigned 


0000 


Orpm 


FFFF 


16384 rpm 


xxxxxrpm 


Data Range examples: 


Display examples: 




$0000 Orpm 
$0002 +0.5 rpm 
SFFFG +16383 rpm 
$FFFD +16383:25 rpm 
$FFFE +16383.50 rpm 
$FFFF +16383.75 rpm 


rpm 

1 rpm 
16383 rpm 

16383 rpm 

16384 rpm 
16384 rpm 



















TABLE E8— UNIT AND SCALING ID $08 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


08 


Speed 


0.01 km/h per bit 
unsigned 


0000 


Okm/h 


FFFF 


655.35 km/h 


xxx.xx km/h (xxxxx mph) 


Data Range examples: 


Display examples: 


Conversion km/h -> mph: 
1 km/h = 0.62137 mph 


$0000 a km/h 
$0064 +1 km/h ! 
S03E7 +9.99 km/h 
$FFFF +655.35 km/h 


0.00 km/h (0.00 mph) 

1.00 km/h (0.62 mph) 

9.99 km/h (6.21 mph) 

655.35 km/h (407.21 mph) 



















23.104 



TABLEE9-ajNITAND;seAUING ID $09 DEFINITION 



















Unit and .;,.*■; <:v 
Scaling: ID (hex) ■■*>: 


* ; Description 


.. Scaling/bit 


■:~ Min.Value 


.; Max. value "' 


External test equipment 
SI (Metric) display ""i 


(hex) 


(dec.) 


(hex) 


(dec.) 


09 


Speed] 


1 km/h per Bit 
unsigned^ . 


0000 


km/h 


FFFF 


65535 km/h 


xxxxx km/h (xxxxx mph) 


Data Range-examples: 


Display examples: 


Conversion km/h -> mph: 
1 km/h = 0.62137mph 


$0000 - Okm/h 

$0064 , +100 km/h 

$03E7 +999 km/h 

. $FFFF. ; .. . +65535 km/h 


Okm/h (Omph) 
100 km/h (62 mph) 
999 km/h (621 mph) 
65535 km/h ......... (40721 .mph)...,. 







TABLE E10— UNIT AND SCALING ID $0A DEFINITION 

I 








j- Unit and - - - - 

Scaling ID (hex) 


- Description- 


Scaling/bit 


Mill, value 


Max. value - 


External test equipment 
SI (Metric) display 








(hex) 


(dec.)" 


(h?x). 


: (dec.) 






OA 


Voltage 


0.122 mV per bit 
;. unsigned 


0000 "■■- 


0V . 


FFFF 


7.99 V 


X.XXXXV 


Data iRange examples: 


Display examples: 




Conversion mV -> V: 


$0000 mV 


0.0000 V 




,_..,,, 


1000.mV=,1._Y u: ...,,,.., 


..$0001 , ... ., .+p.122mV 


,_....., .. ...apopiy., , = ,. : - :: . 




■ - ■- ' .,: ■". 




'■'■ $2004 +999.912 mV 


0.9999V" 




i 


...... ,,,.,. . 


---. $FFFF--„-: +7995 mV 


7.9953 V 




: - -■ 





;■ ■ ; -- ■; ■ - ■ 


■- ' — 


,_ ... .. — ^.j. — 


-- -■ 


_. _ 


--..- ; J" 





., 




|_ _ TABLE E11 7 


-UNIT AND SCALING ip_$0B DEFINITION 




' 


Unit and 

Scaling ID (hex) 


Description 


-Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex). 


(dec.) 


(hex) 


(dec.) 


0B 

i 


Voltage 


0.001 V per bit 
... .... unsigned^,.. . 


0000 


0V 


FFFF 


65.535 V 


XX.XXXV 


. ._ .......... Data,Range examples:., ... 


. Display examples: .,_ ... .... ..... 


... " Conversion mv"-> V: i 
, 1000 mV:.= 1 V 


° i: '"$bboo ) ' OmV 
$0001: .: ' ' +1 mV 
" " $FFFF "" +65535 mV 


"' ■ o.oopy 

0.001V 
'. , t ..." "" "65T535V 



TABLE E12— UNIT AND SCALING ID $0C DEFINITION 



Unit and 
Scaling ID (hex) ' 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex).. 


(dec.) , 


(hex) 


(dec.) 


0C 


Voltage 


" 0.01V per bit 
unsigned 


0000- 


: ov 


FFFF 


655.35 V 


■ XXX.XXXV 


. - " DataRange examples: 


Display examples: 


ConversionmV -> V: 
1000 mV = 1 V 


$0000 mV 

$0001 +10 mV 

$FFFF . ... +eS5Majny_ ........ . 


0.000 V 
0.010 V 

:.;:-.■ .., -::.- ..:S55^3SQ V ■'-:■:- -::.:■ .:^ 





' 


-TABLE E13— UNIT AND SCALING ID $0D DEFINITION 






I Unit and 

Scaling ID(hex) 


— Description - - • ; 


- - Scaling/bit ■■ - - 


Min. value 


Max.-value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


|| . -ODr- 


Current 


0:00390625 mA 
per bit, unsigned 


0000 


0A 


FFFF 


255:996 mA 


xxx.xxxmA 


Data Range examples: 


Display examples: 






$0000 mA 


0.000 mA 








$0001 0.004 mA 


0.004 mA 








$8000 +128 m A 
$FFFF +255.996 mA 


128.000 mA 
255.996 mA 



23.105 



TABLE E1+-UNIT AND SCALING ID $OE DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


OE 


Current 


0.001 A per bit 
unsigned 


0000 


0A 


FFFF 


65.535 A 


xx.xxx A 


Data Range examples: 


Display examples: 


Conversion mA -> A: 
1000mA = 1A 


$0000 0A 
$8000 +32.768 A 
$FFFF +6S.535 A 


0.000 A 

32.768 A 

, 65.535 A 



















TABLE E15— UNIT AND SCALING ID $0F DEFINITION 



TABLE E16— UNIT AND SCALING ID $10 DEFINITION 



TABLE E18— UNIT AND SCALING ID $12 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


OF 


Current 


0.01 A per bit 
unsigned 


0000 


0A 


FFFF 


655.35 A 


xxx.xxx A 


Data Range examples: 


Display examples: 


Conversion mA -> A: 
1000mA = 1 A 


$0000 o mA 
$0001 +10 mA 
$FFFF +655350 mA 


! 0.000 A 
0.010 A 
655.350 A 



















Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


10 


Time 


1 ms per bit 
unsigned 


0000 


ms 


FFFF 


65535 ms 


xx.xxx s (x min, xx s) 


Data Range examples: 


Display examples: 


Conversion s -> min -> h: : 
60 s = 1 min 
60 min = 1 h. 


$0000 ■ ■ oms 
$8000 +32768 ms 
$EA60 +60000 ms (1 min) 
$FFFF +65535 ms (1 min, 6 s) 


0.000 s (0 min, s) 
32.768 s (0 min, 33 s) 
60.000 s (1 min, s) 
65.535 s (1 min, 6 s) 























TABLE E17- 


-UNIT AND SCALING ID $11 DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scallng/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


11 


Time 


100 ms per bit 
unsigned 


0000 


0s 


FFFF 


6553:5 s 


xxxx.x s (x h, x min, xx s) 


Data Range examples: 


Display examples: 




Conversion s -> min -> h: 


$0000 _ os 


0.000 s (0 h, min, s) 






60 s = 1 min 


$8000 +3276.8 s 


3276.8 s (0 h, 54 min, 37 s) 






60 min = 1 h 


$EA60 +6000 s (1 h 40 min) 
$FFFF +6553.5 s (1 hr, 49 min, 13 s) 


6000 s (1 h, 40 min, s) 
6553.5 s(1 h, 49 min, 13 s) 





Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


12 


Time 


1 second per bit 
unsigned 


0000 


0s 


FFFF 


65535 S 


xxxxx s (xx h, xx min, xx s) 


Data Range examples: 


Display examples: 


Conversion s -> min -> h: 
60 s = 1 min 
60 min = 1 h 


$0000 o s 
$003C +60 s 
$0E10 +3600 s 
$FFFF +65535 s 


s (0 h, min, s) 

60 s (0 h, 1 min, s) 

3600 s (1 h, min, s) 

65535 s (18 h, 12 min, 15 s) 



















23.106 



TABLE;E19-rrUnit and Scaling lDi$13definitioa<, 



Unit andr 
Scaling ID (hex) 


"Description 


Scaling/bit 


?:-.. Min;value i 


. ..Max; value 


External test equipment. 
SI (Metric) display. 


"(hex) 


;(dec.) 


(hex) 


(deci) 


13 


Resistance 


ImOhmperbit 
unsigned 


0000 


OroOhrrl 


FFFF : 


' 65535 mOhm 


xx.xxxOhm 


: . :_■ Data Range examples;. 


Display examples: 


Conversion mOhm,-» Ohm: 
1000 mOhm = T Ohm 


juOtOOOO OmOhm 
'o .$0001 +1 mOhm > 
-;- ^$8000 +32768 mOhm 
$FFFF +65535 mOhm 


0.000 Ohm 
; 0.001 Ohm 
32.768 Ohm 
65.535 Ohm 



TABLE E20— UNIT AND SCALING ID $14 DEFINITION; 



Unit and 
Scaling ID (hex) 



Description 



Resistance 



Scaling/bit 



1 Ohm per bit 
■ • . unsigned 



Conversion Ohnv:> kOhm: 
1000 Ohm= 1 ;kOhm 



Min. value 



(hex) 



0000 



(dec.) : 



OOhm 



Max. value 



(hex) 



FFFF 



(dec.) 



65535 Ohm 



Data Range examples: 



.-. .$0000 

= $0001 

$8000 

JiFFFF 



OOhm. '-. 

+1 Ohm 
+32768 Ohm 
_+65535 Ohm.. 



External test equipment 
SI (Metric) display 



xx.xxx kOhm 



Display examples: 



0.000 kOhm 
0.001 kOhm 
32.768 kOhm 
65.535 kOhm. 







- TABLE E21—UN1T AND SCALING ID SI 5 DEFINITION 




!■' 


Unit and 
Scaling ID (hex) 


Description 


-Scaling/bit- -'-- 


Miri. value 


Max-.-value — | — 


External-test-equipment- J 

SI (Metric) display ; 


— • 


. .jITVS" : , : ■'■ 


1 (hex) 


(dec); 


(hex) 


(deoi) 




; is i..- ■ -".. 


t . ■ Resistance 


-likOhmperbit 
• i unsigned 


oooo:. - 


i kOhm! 


FFFF 


65535ikOhm.v 


ixxxxx kOhm 


■0 r is Data [Range examples: ■-:■-;■! r- • .;? 


Display examples: ; 


. 


-.,- 1 i . ■■ •'- -.■ ' ■ 


•..?;. -SBOOO OkOhm ■■ .', 


kOhm 


1 - - 






-$0001 i +1 kOhm 


1 1 kOhm 


fcr^^r^.^v^-: . -„-...- 


,, ..,-,^:, = ,-. 


-~- --'■' ' ~- : ' " —-'-■-— ■ 


$8000 +32768 kOhm 


32768 kOhm 


--■■™-=r-.- .-;.-..-.:•: - ■ : . 


.--.;.-:-..-=-"■--. ..r.~-*~--- 


.::-^:,r.^ :-, ..-.-,.,..,.,. 


.... $FFFF ..„.,. _.. .+65535 kOhm ,.._,__. 


65535kOhm . .... ._ . 



-TABLE-E22— UNIT AND SCAL1NG-ID-$1 6 DEFINITION 



— Unit and— 

Scaling ID (hex) 1 


—Description 


- Scaling/bit 


J Min. value - — .— 


Max. value — ' 


External.test equipment 

.i. SI (Metric) display > 




— " 


; (hex) " 


" (dec.) 


(hex), . 


(dec); 


! 


16^ 


Temperature 


(0.1 °C per bit) - 

40 °C 

unsigned 


0000 u 


:•. 0.1-40 °c 


FFFF 


- +6513.5 "C, 


. .". xxxx.x °C (XXXX.X °F) 


Data Range examples: "■■> 


Display examples: 


$0QQ0 ' -40 °G 
!$00Q1 ■ -39.9 °C 


-40.0 °C (-40.0 °F) 
-39.9 °C (-39.8 °F) 


' Conversion °G -> Q F: 


—■—"- -"- "" -"■■'"• ■'■' ■'■■'■' - '■'• 


F = °C*1.8 + 32°C 


$00DC -18.0 °C 


-18.0 °C (-0.4 °F) 






,$0190 .... 0°C 


0.0 °C (32,0 °F) . 


c .■•-.■ ■ ----- 




$FFFF : +6513.5 °C 


: 6513.5 °C . (f ^756i3 °F) 



23.107 



TABLE E23— UNIT AND SCALING ID $17 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


17 


Pressure 
(Gauge) 


0.01 kPa per bit 
unsigned 


oooo 


OkPa 


FFFF 


655.35 kPa 


xxx.xx kPa (Gauge) 
(xx.x PSI) 


Conversion kPa -> PSI: 

1 kPa (10 HPa) = 0.1450377 PSI 

Additional Conversions: 

1 kPa = 4.0146309 inH20 

1 kPa = 101.9716213mmH20(millimeterofwater) 

1 kPa = 7.5006151 mmHg (millimeter of mercury) 

1 kPa = 0.010 bar 


Data Range examples: 


Display examples: 


$0000 okPa 
$0001 +0.01 kPa 
-■"' $FFFF +655.35 kPa 


0.00 kPa (0.0 PSI) 

0.01 kPa (0.0 PSI) 

655.35 kPa (95.1 PSI) 



















TABLE E24— UNIT AND SCALING ID $18 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


18 


Pressure 
(Air pressure) 


0.011 7 kPa per bit 
unsigned 


0000 


OkPa 


FFFF 


766.76 kPa 


xxx.xxx kPa (Air) 
(xxx.x PSI) 


Conversion kPa -> PSI: 

1 kPa (10 HPa) = 0.1450377 PSI 

Additional Conversions: 

1 kPa = 4.0146309 inH20 

1 kPa = 101 .971 621 3 mmH20 (millimeter of water) 

1 kPa = 7.5006151 mmHg (millimeter of mercury) 

1 kPa = 0.010 bar 


Data Range examples: 


Display examples: 


$0000 o kPa 
$0001 +0.0117kPa 
$FFFF +766.7595 kPa 


0.000 kPa (0.0 PSI) 

0.012 kPa (0.0 PSI) 

766.760 kPa (11 1.2 PSI) 



















TABLE E25— UNIT AND SCALING ID $19 DEFINITION 



Unit and 
Scaling ID (hex) 



Description 



Pressure 
(Fuel pressure) 



Scaling/bit 



0.079 kPa per bit 
unsigned 



Conversion kPa -> PSI: 

1 kPa (10 HPa) = 0.1450377 PSI 

Additional Conversions: 

1 kPa = 4.0146309 inH20 

1 kPa = 101.9716213 mmH20 (millimeter of water) 

1 kPa = 7.5006151 mmHg (millimeter of mercury) 

1 kPa = 0.010 bar 



Min. value 



(hex) 



(dec.) 



Max. value 



(hex) 



(dec.) 



5177.27 kPa 



Data Range examples: 



$0000 
$0001 
$FFFF 



OkPa 

+0.079 kPa 

+5177.265 kPa 



External test equipment 
SI (Metric) display 



xxxx.xxx kPa (Gauge) 
(xxx.x PSI) 



Display examples: 



0.000 kPa 

0.079 kPa 

5177.265 kPa 



(0.0 PSI) 

(0.0 PSI) 

(750.9 PSI) 



TABLE E26— UNIT AND SCALING ID $1A DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


1A 


Pressure 
(Gauge) 


1 kPa per bit 
unsigned 


0000 


OkPa 


FFFF 


65535 kPa 


xxxxx kPa (Gauge) 
(XXXX.X PSI) 


Conversion kPa -> PSI: 


Data Range examples: 


Display examples: 


1 
1 kPa = 101.9 
1 kPa = 7.50< 


1 kPa (10 HPa 

Additional Conversions: 

kPa = 4.0146309 inH20 

716213 mmH20 (millime 

)6151 mmHg (millimeter ( 

1 kPa = 0.010 bar 


= 0.1450377 PSI 

er of water) 
jf mercury) 


$0000 o kPa 
$0001 +1 kPa 
$FFFF +65535 kPa 


kPa (0.0 PSI) 

1 kPa (0.1 PSI) 
65535 kPa (9505.0 PSI) 



23.108 



TA'BCE E27S-UNrT"AFlD SCALING ID $1B DEFINITION 



Unit and: ..:•■; 
Scaling ID (hex) "' 


" ~~-~ Description 


;i:.- Scaling/bit 


-'■•'"■-•■ Mih. value 


*;.;■:■ Max. value 


External test equipment 
SI (Metric) dispfay 


: (hex) 


(dec.) 


(hex) 


(dec.) 


1B 


Pressure 
(Diesel Pressure) 


- 2e 10kPaperbit ^ 
unsigned 


; ' 0000 


OkPa 


FFFF 


655350 kPa 


xxxxxx kPa (Gauge) 
(XXXXX.X PSI) 


■■■■..-.-■•■ Conversion kPa -> PSI: 


Data Range examples: 


Display examples: 


i 1 kPa (10 HPa) = 0:1450377 PSI 

i Additional Conversions: 

"fKPa = 4:0146309 inH20: - 
1 kPa = 1 01 .971 621 3 mmH20 (millimeter of water) 
1 kPa = 7.5006151mmHg (millimeter of mercury) 
1kPa = 0.010 bar 


$0000 OkPa " 
{ - ' $0001 +10 kPa 
-"'■'■' $FFFF +655350 kPa 


OkPa (0.0 PSI) 

10kPa (1.5 PSI) 

655350 kPa (95050.0 PSI) 



TABLE E28— UNIT AND SCALING ID $1 C DEFINITION 



Unifand" 
ScalinglD(hex) 


.: Description 


Scaling/bit 


>- ^MinYvalue 


Max. value 


External test equipment 
SI (Metric) display' - 


(hex) 


(dec.) 


(hex) 


(dec.) 


;' 1C 


Angle 


0.01 ° per Bit : 
unsigned 


0000 


' 0° 


: FFFF 


-655.35° 


xxx.xx° 


- - ■ Data Range examples: - 


Display examples: - ■■ ■ 


s -::a ^ . 


$0000 0° 
$0001 +0.01 ° 
$8CA0 +360 ° 
$FFFF +655.35° 


0.00 ° 
0.01 ° 
360.00 ° 
■'- 655.38° ■ | 



TABLE E29MJNIT AND SCALING ID $1 D DEFINITION 



Unit and 


Description 


Scaling/bit 


' Mih. value 


Max. value 


External test equipment 
'■ " Si (Metric) display ----- 


=,,.=:: 






I 


(hex) 


(dec.) 


(hex) 


(dec.) 






1D 


Angle 


0.5° per bit 
Unsigned 


0000 


0° 


FFFF 


32767.5 ° 


xxxx.x° 




Data Range examples: 


Display examples: ! 

:■■■ -i' 


• ■ 




• $0000 - 0° 


0° 


..._- 




. _ - 




$0001 0.5 ° 


0.5° 










$FFFF 32767.5 ° 


32767.5 ° 


^ 



■ - : '.: :' 


"■.--■■ .T: 


TABLE E30— UNIT AND SCALING ID $1E DEFINITION 


, .V ■-, ~ 


j- ••'.-• >• 


Unit and 
i Scaling .ip.(hex) .— ...,. 


Description 


Scaling/bit 


Min. value 


Max. value 


: External test equipment 

:-«:.-.•,.: -.._-::. SL(MetriC). display , _ ; J 


(hex) , 


(dec) 


(hex), 


(dec.) 


■;-"=----■ -1E--- •'•-"■■ •■■ - 


Equivalence 1 ' 

ratio (lambda) 


■-- : --- 0.0000305 ■■'----■-■ 
per bit _ ' 
unsigned 


r oooo • 


- ■----■■ 0" < ■ 


" FFFF 


1-999 --*-'■■-■-■ 


~- x.xxx"lambda- - ----"-; 


Data Range examples: 


Display examplSsr-ii:':: - ! 


$0000 


0.000 lambda 

1.000 lambda ■ 

1.999 lambda 1 


measured Air/Fuel ratio divided by 

the stoichiometric Air/Fuel ratio 

(14.64 for gasoline)- 


1 


(8013 
FFFF 




1 
1.999 



23.109 



TABLE E31— UNIT AND SCALING ID $1F DEFINITION 



Unit and 
Scaling ID (hex) 



Description 



Air/Fuel 
Ratio 



Scaling/bit 



0.05 per bit 
unsigned 



measured Air/Fuel ratio NOT 

divided by the stoichiometric 

Air/Fuel ratio (14.64 for gasoline) 



Min. value 



(hex) 



(dec.) 



Max. value 



(hex) 



(dec.) 



3276.75 



Data Range examples: 



$0000 
$0001 
$0014 
$0126 
$FFFF 





0.05 

1.00 

14.7 

3276.75 



External test equipment 
SI (Metric) display 



xxxx.xx A/F ratio 



Display examples: 



0.00 A/F ratio 
0.05 A/F ratio 
1.00 A/F ratio 
14.70 A/F ratio 
3276.75 A/F ratio 



TABLE E33— UNIT AND SCALING ID $21 DEFINITION 



TABLE E35— UNIT AND SCALING ID $23 DEFINITION 







TABLE E32— UNIT AND SCALING ID $20 DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


20 


Ratio 


0.0039062 per bit 
unsigned 


0000 





FFFF 


255.993 


xxx.xxx 


Data Range examples: 


Display examples: 




$0000 o 
$0001 0.0039062 
$FFFF 255.993 


0.000 

0.004 

255.993 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


21 


Frequency 


1 mHz per bit 
unsigned 


0000 





FFFF 


65.535 


xx.xxx Hz 


Data Range examples: 


Display examples: 


Conversion mHz -> Hz -> kHz: 
1000mHz = 1Hz 


$0000 o mHz 
$8000 32768 mHz 
$FFFF 65535 mHz 


0.000 Hz 
32.768 Hz 
65.535 Hz ! 























TABLE E34— UNIT AND SCALING ID $22 DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


22 


Frequency 


1 Hz per bit 
unsigned 


0000 


Hz 


FFFF 


65535 Hz 


xxxxxHz 


Data Range examples: 


Display examples: 


Conversion Hz -> KHz -> MHz: 
1000 Hz = 1 KHz 
1 000 KHz = 1 MHz 


$0000 o Hz 
$8000 32768 Hz 
$FFFF 65535 Hz 


Hz 
32768 Hz 
65535 Hz 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


23 


Frequency 


1 KHz per bit 
unsigned 


0000 


OKHz 


FFFF 


65535 KHz 


xx.xxxMHz 


Data Range examples: 


Display examples: 


Conversion Hz -> KHz -> MHz: 
1000Hz = 1 KHz 
1 000 KHz = 1 MHz 


$0000 KHz 
$8000 32768 KHz 
$FFFF 65535 KHz 


0.000 MHz 
32.768 MHz 
65.535 MHz 



















23,110: 



TABLE E36V-UNIT AND SCALING ID $24 DEFINITION 



Unit and: 
Scaling ID (hex) 


-Description 


,; s Scaling/bit 


- Min. value 


■*r -Max*: value 


: .External test equipment 
SI (Metric) display;' 


(hex) 


(dec.) 


(hex) 


(dec.) 


, 24.'.- "• - ■• 


Counts . 


; 1 count per bit 
unsigned 


0000 


O'cbunts 


FFFF 


65535 


xxxxx counts 


Data Range examples: 


Display examples: 




■ ' 


: .$0000 '"'" counts 
$FFFF 65535 counts 


counts 
65535 counts 


^ 

















;l ... . 




TABLE E37- 


-UNIT AND SCALING ID $25 DEFINITION 




l 


J 


Unit and - 
i Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


< ne *> 


(dec.) 


(hex) 


(dec.) 


._;,.--:-- .-: 25^.- . 


Distance - 


--- - 1 km-perbit 
unsigned 


0000 ----- 


-0 


- FFFF 


--■• 65535 


■ '■ xxxxx km (xxxxx miles)' -•--■'■ ■---=■ 


Datai Range examples: 


Display examples:;.. '"j.s 


Conversion km -> mile: 
1 km =!D:621 37 miles 


— : $0000 km 
$FFFF "■. ' • 65535"km 


km (0 miles) 
65535 km (40721 miles) 





TABLE E38— UNIT AND SCALING ID $26 DEFINITION 

















'■: 


Unit and .... 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) : 


(hex) 


(dec.) 


26 


Voltage per time 


0.1 mV/ms per. bit. ., .... 
-^ "-- unsigned --■-• 


.00.QO . , 


. r 0,V/rns„ 


r.-fS?!.-- 


6.5535 V/ms 


xx.xxxx V/ms 


— ^r------- ---- ---■ ---•DataiRange examples: - - " - * :: 


i ... -. t -• Display examples:*— - '•" --' 


Conversion mV/ms -> V/ms: _ _ : 


$0000 OmV/ms 


O.OOOOV/ms : '-; - 
0.0001 V/ms 
j6.5535V/ms : - 


1000 mV/ms ; = 1 V/ms ""• 


- ; $0001' 

$FFFF' . 


0.1 mV/ms 
■+6553.5 mV/ms 





_ . - - - | 


TABLE E39— UNIT AND SCALING ID $27 DEFINITION - 




! 


Unit and. ,- 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex)i 


(dec.) 


(hex) 


(dec.) 


27 


Weight per time 


0.01 g/sper,bit . 
:-.^. ; unsigned—-"—" 


. 0000 


- :- ' 09/S l 


-.FFFF 


655.35 g/s 


xxx.xx g/s (x.xxx Ib/s) 


~--j^— -■- -- -Date'Range-examples: ——..-.-. 


- — — Display-examples: - +~~ ■"-" 


Conversion g/s -> Ib/s: 
i g/s = b:0022046 Ib/s 


$0000 _ ' Og/s 
$0dSr +0.01 g/s 
$FFFF ,+655.35 g/s. 


0.00 g/s (O.OOJb/s); 

0.01 g/s (0.00 Ib/s) 

655.35 g/s (1.445 Ib/s) 






TABLE E40— UN 


ITANDSC 


\LING ID-$28-DI 


EFINITION 


.. 





Unit and- - 
Scaling ID (hex) 


i 
Description 


Scaling/bit 


- Min. value 


Max. -value. 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


" (dec.) 


28 


Weight per time 


1 g/s per.bjt 
-u:--- unsigned : ' 


0000 


Og/s. 


.. FFFF.- 


65535 g/s 


xxxxx g/s (xxx.xx Ib/s) 


'-■-■-■■■■ Data Range-examples:-- - .. .r.- 


Display examples? ---".-.— 


3 Conversion g/s -> Ib/s: 
1 g/s = 0.0022046 Ib/s 


$0000 Og/s 
$0001 +1 g/s 
$FFFF +65535 g/s 


Og/s - (0.00 Jb/s); 

1 g/s (0.00 Ib/s) 

65535 g/s (144.48 Ib/s) 



23.111. 



TABLE E41— UNIT AND SCALING ID $29 DEFINITION" 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Klin, value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


29 


Pressure per 
time 


0.25 Pa/s per bit 
unsigned 


0000 


kPa/s 


FFFF 


16.384 
kPa/s 


xx.xxx kPa/s (xx.xxx inH20/s) 


Conversion inH20/s -> kPa/s: 

1 inH2C7s = 0.2490889 kPa/s 

(inch of water) 1 inH20 = 249.0889 Pa 

(millimeter of water) 1 mmH20 = 9.80665 Pa 
(millimeter of mercury) 1 mmHg = 133.3224 Pa 


Data Range examples: 


Display examples: 


$0000 OPa/s 0inH2O/s 
$0004 +1 Pa/s +4.015 inH20/s . 
$FFFF +16384 Pa/s +65.5348 inH20/s 


0.000 kPa/s (0.000 inH20/s) 
0.001 kPa/s (4.002 inH20/s) 
1 6.384 kPa/s (65.775 inH20/s) 



















TABLE E42— UNIT AND SCALING ID $2A DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


2A 


Weight per time 


0.001 kg/h per bit 
unsigned 


0000 


Okg/h 


FFFF 


65.535 kg/s 


xx.xxx kg/h 


Data Range examples: 


Display examples: 


Conversion Ibs/s -> kg/h: 
1 Ibs/s = 0.4535924 kg/h 


$0000 o kg/h 
$0001 +0.001 kg/h 
$FFFF +65.535 kg/h 


0.000 kg/h 
0.001 kg/h 
65.535 kg/h 























TABLE E43— UNIT AND SCALING ID $2B DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


2B 


Switches 


hex to decimal 
unsigned 


0000 





FFFF 


65535 


xxxxx switches 


Data Range examples: 


Display examples: 




$0000 switches 
$0001 +1 switches 
$FFFF +65535 switches 


switches 

1 switches 
65535 switches 



TABLE E44— UNIT AND SCALING ID $2C DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


2C 


mass per 
cylinder 


0.01 g/cyl per bit 
unsigned 


0000 


g/cyl 


FFFF 


655.35 g/cyl 


xxx.xx g/cyl 


Data Range examples: 


Display examples: 




$0000 o g/cyl 
$0001 +0.01 g/cyl 
$FFFF +655.35 g/cyl 


0.00 g/cyl 

0.01 g/cyl 

655.35 g/cyl 



TABLE E45— UNIT AND SCALING ID $2D DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


2D 


Weight per 
stroke 


0.01 mg/stroke 
unsigned 


0000 



mg/stroke 


FFFF 


655.35 
mg/stroke 


xxx.xx mg/stroke 




Data Range examples: 


Display examples: 


$0000 o mg/stroke 
$0001 +0.01 mg/stroke 
$FFFF +655.35 mg/stroke 


0.00 mg/stroke 

0.01 mg/stroke 

655.35 mg/stroke 



















23,112 







TABLE E46— UNIT: AND SCALING ID $2E DEFINITION 








.Ujiit.and;>j;;-; 
Scaling ID (hex)- .-.-,; 


,: ; : Description 


^Sealing/bit 


-;: jlr./ Min. value 




■ ■: ; ■ Max. value :••. 


-. > ' ■■;■'. External test equipment 
SI (Metric) display ' 




rfliex) 


: (decj 


(hex) 


(dec.) 


i5 -...-,2E/v . ■■■:- W 


-, True/False ; 


state-encoded 
. .-- ., unsigned-: 


■;■■■. fflOOO 


!,. false i 


: 0.0.01 - 


true 




. „ DataRangeexamples: — 


.. . .Display. examples: 


""-■" ,'r - " 


...... ^ . 


. $0000 false 
$0001 I true 


false 
true 



-0:,^c"...j. 


- <•- : vr o 


,;•■■:. TABLE E47— UNIT AND SCALING ID $2F DEFINITION 






-'■■■ ■'"— Untt'anff'""""'"'"" 
Scaling ID (hex) 


" Description "" ~ 


""" v:= Scalihg/bit 


""Mih. value 


Max. value * 


"Externallest equipment 
SI (Metric) display 


■•.-=•..-. -■ =...„■ ■.=:-. --.v: - : ; 


----- ■- - ■■: ■■--■ 


(hex). 


, _,, (dec.) 


.(hex) 


(dec.) ; , := 


--■••■■•-- = -" -•••=- -— ••■-- -■■■■ 


] .2F , L -. : .. 


Percent 


0.01 % per bit 
unsigned 


0000 


0% 


FFFF 


655.35 % 


xxx.xxSji ; 


' Data Range examples: 


Display examples: 






$0000." ■!■:.' i . > 0_% 


0.00% 


i.. , - .. - 


... .. . , 




r j $0001 | < +0.01 % 


! 0.01 % 


i -. 






■■ -- $2710 , -,+100% 


100.00% 


; J'Z 




..^■-■v 


;.$FFFF , . +655i35% 


655.35 % 



TABLE E48— UNIT AND SCALING ID INITION 



Unit and 
-Scaling ID (hex) 


Description 


Scaling/bit " i; 


"' '"" Mih. Value 


* ■'"'• Max. value 


External test equipment 
- --•-■■ SI (Metric) display -■-—-=---■ 


(hex)" ;: 


(dec!) 


-'(hex) 


(dec.) 


! 30 


Percent 


-'"'■ 0.001526% per bit 
unsigned , 


:: 0000 


;?3-o % 


FFFF 


100.00% 


xxx.xx % 


... Data Range examples: • 


Display examples: 


- - ' 


---; - 


$0000 ; 


. 0% 


0.00 % 

0.00 % 

I 

j 100.00% 


.■■j;; $0001 ! 
roc-:i$FFFF j 


+0.001526 % 
+100.00641 % 



k^-™-^,-.^-,^^ 


:,,-=„„ - ;,- iv,,T-, -,„ - 


-= =.-. _TABLE E4a=UNITAND,SCALINGID ; $3.1J3EFINITJON„ 


^•-•.==~-^.-:---.=i.--==- 




Unit and 
; - -ScalinglD(hex)--- - - 


Description 


Scaling/bit •'" "•'" 

' i 


-..! -ii -ffljn'.'vSiiie ' ''"'" 


'- '- Max. value 


External test equipment 
■■-■■--= -SI (Metric)display - = ^ : ' : 


"rnxf 


(dec.) 


''(Hex) ' : 


(dec.) 


31 


volume 


0.001 l*pef bit; 
, unsigned I 


---booo 


,:?' ! '. U 


FFFF 


65.535 L 


XX.XXXL 


■'■':■ Data Range-examples:: 


Display examples: 


_.._ _ • _. .. 





$0000 L 

- S0001 +0.001 L 

: ?$FFFF +65.535 L 


: , a ' 0.000 L 

i 0.001 L 

I 

65.535 L 






- .-. - . 


;-ir;, 











„TABLE.E50ttUNIT,AND SCALINGJD,$32.DEFINITI0N .-, 



Unit and 
- --Scaling ID (hex) 


Description 


Scaling/bit 


MinT/value ' 


... x.i ■ *"'THax. value 


External test equipment 
l >- SI (Metric) display --■---■■ " j 


'"' 




(hex) 


(dec.) 


(hex) 


(dec.) 


: "" ' ' ' . - "'-,'.'."- .. ! 


i 32 


length 


0.0000305 inch 
per bit .unsigned 


0000 


'■ - inch 


FFFF 


1.999 inch 


xx.xxx inch 


Data Range examples: - 


Display examples: 


_. J. inch. 


= 25.4 mm 


' $0000 inch. 


0.000 mm (0.000 inch) 


! 


■ 




$0010 +0.0004880 inch 
$0011 +0.0005185 inch 
,-. $FFEF ,.«.-.. . -,-.- . -+1.99881 75 inch . 


0.012 mm (0.000 inch) 

0.013 mm (0.001 inch) 

-,50.770 mm (1.999 inch) 



23.113 



TABLE E51— UNIT AND SCALING ID $33 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


33 


Equivalence 
ratio (lambda) 


0.00024414 
per bit, unsigned 


0000 





FFFF 


15.99976 


xx.xx lambda 


Data Range examples:, 


Display examples: 


measured Air/Fuel ratio 

divided by the stoichiometric 

Air/Fuel ratio (14.64 for gasoline) 


$0000 o 

$0001 o.OO 

. $1000 1.00 

: $E5BE 14.36 

$FFFF 16.00 


0.00 lambda 
0.00 lambda 
1.00 lambda 
; 14.36 lambda 
16.00 lambda 



NOTE— Unit And Scaling Identifiers in the unsigned range of $01 through $7F 
which are not specified are reserved by this document. Additional 
Scaling Identifiers shall be submitted to the SAE Vehicle E/E System 



Diagnostic Standards Committee or ISO/TC22/SC3/WG1 to consider 
for implementation in this document. 
E.2 Signed Unit and Scaling Identifiers Definition 







TABLE E52- 


-UNIT AND SCALING ID $81 DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


81 


Raw Value 


1 per bit 

hex to decimal 

signed 


8000 


-32768 


- 7FFF 


+32767 


xxxxx 


Data Range examples: 


Display examples: 


$8000 -32768 


-32768 
-1 



1 
32767 




. $FFFF 
$0000 
$0001 
$7FFF 




-1 



+1 

+32767 



TABLE E53— UNIT AND SCALING ID $82 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


82 


Raw Value 


0.1 per bit 

hex to decimal 

signed 


8000 


-3276.8 


7FFF 


+3276.7 


XXXX.X 


Data Range examples: 


Display examples: 


$8000 -3276.8 
r. . T! $ FFFF -0-1 

$0000 o • 
$0001 ' +0.1 
. $7FFF +3276.7 


-3276.8 
-0.1 

0.0 

0.1 
3276.7 





















TABLE E54— UNIT AND SCALING ID $83 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


83 


Raw Value 


0.01 per bit 

hex to decimal 

signed 


8000 


-327.68 


7FFF 


+327.67 


xxx.xx 


Data Range examples: 


Display examples: 


$8000 -327.68 


-327.68 
-0.01 
0.00 
0.01 

32.767 




$ 

$ 
5 


FFFF l 
0000 
0001 
7FFF 




-0.01 

o ■ -■ - 

+0.01 
+327.67 



23.114 



TABLE E55— UNIT AND SCALING ID $84 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


- Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 






(hex) 


(dec.) 


(hex) 


(dec.) 




84 


Raw Value 


0.001 per bit 

hex to decimal 

signed 


8000 


-32.768 


7FFF 


+32.767 


XX.XXX 


Data Range .examples: 


Display examples: 


$8000 -32:768 
$FFFF -0.001 


-32.768 
-0.001 












$0000 


0.000 








$0001 +0.001 


0.001 








$7FFF +32.767 


32.767 



TABLE E56— UNIT AND SCALING ID $85 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec): 


(hex) 


(dec.) 


85 


Raw Value 


0.0000305 per bit 

hex to decimal 

signed 


8000 


-0.999 


7FFF 


0.999 


X.XXX 


Data Range examples: 


Display examples: 


$8000 -0.999424 


-0.999 
0.000 
0.000 
0.000 
0.999 




$FFFF 
$0000 
$0001 
$7FFF 


-0.0000305 


+0.0000305 
+0.999394 



TABLE E57— UNIT AND SCALING ID $86 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec), 


(hex) 


(dec.) 


86 


Raw Value 


0.000305 per bit 

hextodecimai 

signed 


8000 


-9.994 


7FFF 


9.994 


X.XXX 


Data Range examples: 


Display examples: 


$8000 -9.99424 
$FFFF -0.000305 


-9.994 
0.000 












$0000 


0.000 








$0001 +0.000305 


0.000 








$7FFF +9.99394 


9.994 







TABLE E58— UNIT AND SCALING ID $8A DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display - 








(hex) 


(dec) 


(hex) 


(dec.) 




8A 


Voltage 


0.122 mV per bit 
signed 


8000 


-3.9977 V 


7FFF 


3.9976 V 


x.xxxxV 


Data Range examples: 


Display examples: 


Conversion mV -> V: 


$8000 -3997.696 mV 


-3.9977 V 




1000mV = 1V 


$FFFF -0.122 mV 


-0.0001 V 






$0000 mV 


0.0000 V 






$0001 0.122 mV 


0.0001 V 






$7FFF +3997.574 mV 


3.9976 V 



23.115 



TABLE E59^-UNIT AND SCALING ID $8B DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


: External test equipment 
SI (Metric) display 








(hex) 


(dec.) 


(hex) 


(dec.) 


8B 


Voltage 


0.001 mV per bit 
signed 


8000 


-32.768 V 


7FFF 


32.767 V 


XX.XXXV 


Data Range examples: 


Display examples: 


Conversion mV -> V: 


$8000 -32768 mV 


i -32.768 V 




1000mV = 1V 


$FFFF ; . -1 mV 


-0.001 v 






$0000 OmV 


0.000 V 






$0001 1 mV 


0.001 V 






$7FFF . +32767 mV 


32.767 V 



TABLE E60— UNIT AND SCALING ID $8C DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


8C 


Voltage 


0.01 mV per bit 
signed 


8000 


-327.68 V 


7FFF 


327.67 V 


xxx.xxV 


Data Range examples:. 


Display examples: 


Conversion mV -> V: 
1000 mV = 1 V 


$8000 -327680 mV 
' $FFFF -10 mV 
."- $0000 OmV 
" $0001 ' +10 mV 
$7FFF +327670 mV 


-327.68 V 
-0.01 V 
0.00 V 
0.01 V 

327.67 V 



TABLE E61— UNIT AND SCALING ID $8D DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


8D 


Current 


0.00390625 mA 
per bit, signed 


8000 


-128.0 mA 


7FFF 


127.996 mA 


xxx.xxx mA 


Data Range examples: 


Display examples: 




$8000 -128 mA 
$FFFF -0.00390625 mA 
■■■■■'■ $0000 +0mA 

$0001 0.00390625 mA 
$7FFF +127.996 mA 


-128.000 mA 
-0.004 mA 
0.000 mA 
0.004 mA 

127.996 mA 



TABLE E62— UNIT AND SCALING ID $8E DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


8E 


Current 


0.001 A per bit 
signed 


8000 


-32.768 A 


7FFF 


32.767 A 


xx.xxxA 


Data Range examples: 


Display examples: 


Conversion mA -> A: 
1000 mA = 1 A 


$8000 -32768 mA 
'-■-.. $FFFF -1mA 
•:■ '■ $0000 mA 
$0001 +1 mA 
$7FFF +32767 mA 


-32.768 A 
-0.001 A 
0.000 A 
0.001 A 
32.767 A 



23.116 



TABLE E63— UNIT AND SCALING ID $90 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


' ~ Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


90 


Time 


1 ms per bit 
signed 


8000 


-32.768 S 


7FFF 


+32.767 s 


XX.XXX s 


Data Range examples: 


Display examples: 




$8000 -32768 ms 
$0001 +1 ms 
$7FFF +32767 ms 


-32.768 S 

' +0.001 s 

32.767 s 
















! 



TABLE E64— UNIT AND SCALING ID $96 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


96 


Temperature 


0.1 °C per bit 
signed 


8000 


-3276.8 °C 


7FFF 


+3276.7 °C 


xxxx.x °C (xxxx.x °F) 


Data Range examples: 


Display examples: 


Conversion °C-> °F: 
°F = °C*1.8 + 32°C 


$8000 -3276.8 °C 
$FE70 -40 °C 
$FFFF -0.1 °C 
$0000 °C 
$0001 +0.1 °C 
$4E20 +2000 °C 
■ $7FFF +3276.7 °C 


-3276.8 °C (-5886.2 °F) 

-40.0 °C (-40.0 °F) 

-0.1 °C (31.8-F) 

0.0 °C (32.0 °F) 

0.1 °C (32.2 °F) 

2000.0 °C (3632.0 °F) 

3276.7 °C (5930.1 °F) 



TABLE E6&— Unit and Scaling ID $9G definition 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 








(hex) 


(dec.) 


(hex) 


(dec.) 




9C 


Angle 


0.01 ° per bit 
signed 


8000 


-327.68 • 


7FFF 


+327.67 ° 


xxx.xx 


Data Range examples: 


Display examples: 






$8000 -327.68 ° 


-327.68 ° 








$F060 -40 ° 


-40.00 ° 








$FFFF -0.01 ° 


-0.01 • 








$0000 • 


0.00° 








$0FA0 +40 " 


+40.00 • 








$7FFF +327.67 ° 


+327.67 • 







TABLE E66— UNIT AND SCALING ID $9D DEFINITION 






Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


9D 


Angle 


0.5 " per bit 
signed 


8000 


-16384° 


7FFF 


16383° 


xxxxx.x° 


Data Range examples: 


Display examples: 






$8000 -16384 • 


-16384.0° 








$FF60 -80 • 


-80.0° 








' $FFFF -0.5 • 


-0.5° 








$0000 " 


0.0° 








$0001 +0.5 ° 


0.5° 








$00A0 +80 " 


+80.0 ° 








$7FFF +16383.5 ° 


16383.5 ° 



23.117 



TABLE E67— UNIT AND SCALING ID $A8 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


A8 


Weight per 
time 


1 g/s per bit 
signed 


8000 


-32768 g/s 


7FFF 


'■ +32767 g/s 


xxxxx g/s (xx.xx Ib/s) 


Data Range examples: 


Display examples: 


Conversion g/s -> ib/s: 
1 g/s = 0.0022046 Ib/s 


$8000 -32768 g/s 
$FFFF -1 g/s 
$0000 g/s 

$0001 +1 g/s 
$7FFF +32767 g/s 


-32768 g/s (-72.24 Ib/s) 
-1 g/s (-0.00 Ib/s) 
Og/s , (0.00 Ib/s) 
1 g/s (-0.00 Ib/s) 

32767 g/s (-72.24 Ib/s) 



















TABLE E68— UNIT AND SCALING ID $A9 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


A9 


Pressure per 
time 


0.25 Pa/s per bit 
signed 


8000 


-8192 Pa/s 


7FFF 


8191.75 Pa/s 


xxxx.xx Pa/s (xx.xxx inH20/s) 


Conversion PA -> inH20: 
1 Pa = 0.0040146309 inH20 


Data Range examples: 


Display examples: 


$8000 -8192 Pa/s 
$FFFC -1 Pa/s 
$0000 o. Pa/s 
$0004 +1 Pa/s 
$7FFF +81 91 .75 Pa/s 


-8192.00 Pa/s (-32.888 inH20/s) 
-1.00 Pa/s ; (-0.004 inH20/s) 
0.00 Pa/s (0.000 inH20/s) 
1.00 Pa/s (0.004 inH20/s) 

81 91 .75 Pa/s (32.887 inH20/s) 



















TABLE E69— UNIT AND SCALING ID $AF DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


AF 


Percent 


0.01 % per bit 
signed 


8000 


-327.68 % 


7FFF 


+327.67 % 


xxx.xx% 


Data Range examples: 


Display examples: 




- $8000 -327.68% 
$D8F0 -100% 
$FFFF -0.01 % 
$0000 0% 
$0001 +0.01 % 
$2710 +100% 
$7FFF +327.67% 


-327.68 % 

-100.00% 

-0.10% 

0.00 % 

0.10% 

100.00% 

327.67 % 



TABLE E70— UNIT AND SCALING ID $B0 DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 








(hex) 


(dec.) 


(hex) 


(dec.) 


B0 


Percent 


0.003052 % per bit 
signed 


8000 


-100.01 % 


7FFF 


+100.00% 


xxx.xx% 


Data Range examples: . 


Display examples: 






$8000 -100.007936% 


-100.01 % 








$FFFF -0.003052% 


0.00% - 








$0000 0% 


0.00 % 








$0001 +0.003052% 


0.00% ; 








$7FFF +100.004884% 


+100.00% 



















23.118 



TABLE E71^UNIT AND SCALING ID $FD DEFINITION 



Unit and 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 






(hex) 


(dec.) 


(hex) 


(dec.) 




FD 


Pressure 
(absolute) 


0.001 kPa per 
bit, signed 


8000 


-32.768 kPa 


7FFF 


+32.767 kPa 


xx.xxx kPa 


Data Range examples: 


Display examples: 






$8000 -32.768 kPa 


-32.768 kPa 








$0001 +0.001 kPa 


+0.001 kPa 








$7FFF +32.767 kPa 


+32.767 kPa 



TABLE E72— UNIT AND SCALING ID $FE DEFINITION 



Unitand 
Scaling ID (hex) 


Description 


Scaling/bit 


Min. value 


Max. value 


External test equipment 
SI (Metric) display 


(hex) 


(dec.) 


(hex) 


(dec.) 


FE 


Pressure 
(vacuum) 


0.25 Pa per bit 
signed 


8000 


-8192 Pa 


7FFF 


81 91 .75 Pa 


xxxx.xx Pa (xx.xxx inH20) 


Data Range examples: 


Display examples: 


Conversion PA -> inH20: 
1 Pa = 0.0040146309 inH20 


$8000 -8192 Pa 
$FFFC -1 Pa 
$0000 Pa 
$0004 +1 Pa 
$7FFF +8191 .75 Pa 


-81 92.00 Pa (-32.888 inH20) 

-1.00 Pa (-0.004 inH20) 

0.00 Pa/ (0.000 inH20) 

1.00 Pa (0.004 inH20) 

81 91 .75 Pa (32.887 inH20) 



NOTE— Unit And Scaling Identifiers in the signed range of $80 through $FE 
which are not specified are reserved by this document. Additional 
Scaling identifiers shall be submitted to the SAE Vehicle E/E System 



Diagnostic Standards Committee or ISO/TC22/SC3/WG1 to consider 
for implementation in this document. 



APPENDIX F 

(NORMATIVE) 

IDS (TEST DD) FOR SERVICE $08 SCALING AND DEFINITION 



TABLE F1— TEST ID DESCRIPTION 



Test ID # 



Description 



$01 



Evaporative system leak test 

DATA_A - DATA_E should be set to $00 for a request and response message. For ISO 15765-4 protocol DATA_A - DATA_E shall not be included in the request and 
response message. If the conditions are not proper to run the test, the vehicle may either not respond to the request, or may respond with a manufacturer specified value 
as DATA_A which corresponds to the reason the test cannot be run. 

This service enables the conditions required to conduct an evaporative system leak test, but does not actually run the test. An example is to close a purge solenoid, 
preventing leakage if the system is pressurised. The vehicle manufacturer is responsible to determine the criteria to automatically stop the test (open the solenoid in the 
example) such as engine running, vehicle speed greater than zero, or exceeding a specified time period. 



$02 - $FF 



Reserved by this document 



APPENDIX G 

(NORMATIVE) 

INFOTYPES FOR SERVICE $09 SCALING AND DEFINITION 



TABLE G1— MESSAGECOUNT VIN DATA BYTE DESCRIPTION 



InfoType (Hex) 


Vehicle information data byte description 


Scaling 


Mnemonic 


01 


MessageCount VIN 

Number of messages to report Vehicle Identification Number (VIN) - For ISO 91 41 -2, ISO 1 4230-4, and SAE 
J1 850, the message count in the response shall always be $05, and shall be reported for consistency in the use of 
this service. Support for ISO 15765-4 is optional, but if used, the message count in the response shall always be 
$01. 


1 byte unsigned 
numeric 


MC_VIN 



23,119 



TABLE G2— VEHICLE IDENTIFICATION NUMBER DATA BYTE DESCRIPTION 



InfoType , 
(Hex) 


Description 


Scaling 


External test equipment 
SI (Metric) / English display 


02 


Vehicle Identification Number 


17 ASCII characters 


VIN: xxxxxxxxxxxxxxxxx 


^Ho^f™^- P ' m T ele S' r ° n ,M ^ eSS *° the VIN ' " ' S recommended t0 re P°rt it using this format for ease of use by the external test equipment intended either for 
vehicle diagnostics or Inspection/Maintenance programmes. 

For ISO 9141-2, ISO 14230-4, SAE J18S0 the response consists of the following messages- 

v^h^L^l'TJo " "I™ 6 <3) »i illin9 byt f. °L $ m°' f0 "° Wed " y VIN ° harac,er #1 ■ Messa 9 e #2 shaN contain VIN characters #2 to #5 inclusive, Message #3 shall contain 
VIN characters #6 to #9 inclusive, Message #4 shall contain VIN characters #10 to #13 inclusive, Message #5 shall contain VIN characters #14 io #17 inclusive 
l-or IbO 15765-4 there is only one response message which contains all VIN characters without any filling bytes 



InfoType (Hex) 



03 



TABLE G3— MESSAGECOUNT CALID DATA BYTE DESCRIPTION 



Vehicle information data byte description 



MessageCount CALID 

Number of messages to report calibration identifications - For ISO 9141-2, ISO 14230-4, and SAE J1850, the 
message count in the response shall always be a multiple of four (4) because four (4) messages are used' to report 
each calibration identification. Support for ISO 1 5765-4 is optional, but if used, the message count in the response 
shall always be $01 . 



Scaling 



1 byte unsigned 
numeric 



Mnemonic 



TABLE G4— CALIBRATION IDENTIFICATIONS DATA BYTE DESCRIPTION 



InfoType 
(Hex) 



Description 



Calibration Identifications 



Scaling 



16 ASCII characters 



External test equipment 
SI (Metric) / English display 



CALID: XXXXXXXXXXXXXXXX 



Multiple calibration identifications may be reported for a controller, depending on the software architecture. Calibration identifications can include a maximum of sixteen (1 6) 
characters Each calibration identification can contain only printable ASCII characters, and will be reported as ASCII values. Any unused data bytes shall be reported as $00 
and filled at the end of the calibration identification. 

Calibration identifications shall uniquely identify the software installed in the ECU. If regulations require calibration identifications for emission-related software those shall 
be reported in a standardised format. 

Ca '! b [ at !° n f developed by any entity other than the vehicle manufacturer shall also contain unique calibration identification to indicate that a calibration is installed in the 
vehicle that is different from that developed by the vehicle manufacturer. 

Vehicle controllers that contain calibration identifications shall store and report sixteen (1 6) ASCII character calibration identifications, even though they may not use all 
sixteen (1 6) characters. This will allow modified calibration IDs to be reported that, include additional characters. . 



TABLE G5— MESSAGECOUNT CVN DATA BYTE DESCRIPTION 



InfoType (Hex) 



Vehicle information data byte description 



MessageCount CVN 



Number of messages to report Calibration Verification Numbers. - For ISO 9141-2, ISO 14230-4, and SAE J1850, 
the message count in the response shall be the number of CVNs to report, because one message is required to ' 
report each CVN. Support for ISO 15765-4 is optional, but if used, the message count in the response shall always 
be $01. 



Scaling 



1 byte unsigned 
numeric 



MC_CVN 



TABLE G6— CALIBRATION VERIFICATION NUMBERS DATA BYTE DESCRIPTION 



InfoType 
(Hex) 



Description 



Calibration Verification Numbers 



Scaling 



4 byte hex (most significant byte reported 
as Data A) 



External test equipment 
SI (Metric) /English display 



CVN: XXXXXXXX 



A Calibration Verification Number (CVN) is used to verify the integrity of the vehicle software. The vehicle manufacturer is responsible to determine how many CVNs are 
required and how the CVNs are calculated, e.g., checksum, and the areas of memory to be included in each calculation. If regulations require calibration verification 
numbers for emission-related software, those shall be reported in a standardised format. Generally, each calibration, as identified by a calibration ID number (InfoType $04) 
will also have at least one unique calibration verification number (CVN). 

i^'ulattons'' " 38 meth ° dS '° rep0rt the CVN(S) t0 an external test ec 1 ui P msnt are allowed. The method to be implemented in the vehicle is specified by the applicable 

Method #1 :The CVN(s) must not be computed on demand, but instead shall be computed at least once per trip A trip 

shall be of reasonable length (e.g., 5-10 minutes). The computed CVN(s) shall be stored in NVM (Non Volatile Memory) for immediate access by the external test 

equipment. Once the computation is completed for the very first time after a reprogramming event of the ECU(s) or a battery disconnect, the results shall be made available 

to the external test equipment even if the engine is running. If the CVN(s) are requested before they have been computed a negative response message with response code 

$78 - RequestCorrectlyReceived-ResponsePending shall be sent by the ECU(s) until the positive response message is available for the ISO 14230-4 and ISO 15765-4 

protocols. For ISO 9141-2 and SAE J1850 protocols the external test equipment and ECU(s) shall behave as specified in Sections 4.1.4.3 1 and 4 1 4 3 3 

Method #2:lf method #1 does not apply the ECU(s)' on-board software shall compute the CVN(s) on an external test equipment 

request message. If the ECU(s) are not able to send an immediate positive response message a negative response message with response code $78 - 

c eq , U o e ^ . r ? CtlyRe0eiVed " ResponsePending sha " be sent bv,he ECU < S > until the Positive response message is available for the ISO 14230-4 and ISO 15765-4 protocols 

For ISO 9141-2 and SAE J1850 protocols the external test equipment and ECU(s) shall behave as specified in Sections 41431 and 41433 

Calibrations developed by any entity other than the vehicle manufacturer will generally have a calibration verification number that is different from that calculated based on 

the calibration developed by the vehicle manufacturer. 

If the calculation technique does not use all four (4) bytes, the CVN shall be right justified and filled with $00. 



23.120 



TABLE G7-^MESSAGECOUNT IPT DATA BYTE DESCRIPTION 



InfoType (Hex) 


Vehicle information data byte description 


Scaling 


Mnemonic 


07 


Mess'ageCount IPT 

Number of messages to report. In-use Performance Tracking. - For ISO .9141 -2, ISO 1.4230-4,.and SAE J1850, the 
message count in the response shall be $08, because at this time sixteen (16) values are required to be reported, 
and one message is required to report two values. Support for ISO 15765-4 isoptional, but if used, the message 
count in the response shall always be $01 . 


1 byte unsigned 
numeric 


MCJPT 



TABLE G8— IN-USE PERFORMANCE TRACKING DATA BYTE DESCRIPTION 



InfoType 
(Hex) 


Description 


#of 
data bytes 


External test equipment 
SI (Metric) /English display 


08 


In-use Performance Tracking - ■ ■ ■ - 


32 byte 


IPT: 


Scaling: unsigned numeric (most significant byte reported as Data A) 

This data is used to support possible regulatory requirements for In-use Performance Tracking. Manufacturers are required to. implement software algorithms that track in- 
use performance for each of the following components: catalyst bank 1 , catalyst bank 2, primary oxygen sensor bank 1 , primary oxygen sensor bank 2, evaporative 0.020" 
leak detection system, EGR system; and secondary air system. 

. The numerator for each component :or system shall track the number of time that all conditions necessary for a specific monitor to detect a malfunction have been. - .- - 
encountered. 

The denominator for each component or, system shall track the number of times thatthe vehicle has been operated in the specified conditions. These conditions are 
specified for each monitored component or system. 

the ignition counter shall track the number of times that the engine has been started. 
Alldata items of the In-use Performance Tracking record have to be reported in the order as listed in this table. 
Data values which are not implemented (e.g., bank 2 of the catalyst monitor of a 1 bank system) shall be reported as $0000. 




OBD Monitoring Conditions Encountered Counts 


2 bytes 


• OBDCONDV xxxxx cnts 


OBD Monitoring Conditions Encountered Counts displays the number of times that the vehicle has been operated in the specified OBD monitoring conditions (general 
denominator). 


Ignition Counter 


2 bytes 


IGNCNTR:xxxxx cnts 


Ignition Counter displays the count of the number of times that the engine has been started. 


.: ; 


Catalyst Monitor Completion Counts Bank 1 


2 bytes 


CATCOMP1: xxxxx cnts 


Catalyst Monitor Completion Counts Bank 1 displays the number of times that all conditions necessary 
encountered (numerator). 


to detect a catalyst system bank 1 malfunction have been 


Catalyst Monitor Conditions Encountered Counts Bank 1 


2 bytes 


CATCOND1:xxxXxcnts '-'-'■'- 


.Catalyst Monitor Conditions Encountered Counts Bank 1 displays the number of times that the vehicle 
(denominator). 


has been operated in the specified catalyst monitoring conditions — 


Catalyst Monitor Completion Counts Bank 2 


2 bytes 


CATCOMP2: Joooo: cnts 


Catalyst Monitor Completion Counts Bank 2 displays the number of time that all conditions necessary 
encountered (numerator). 


to detect a catalyst system bank 2' malfunction have been 


Catalyst Monitor Conditions Encountered Counts Bank 2 


2 bytes 


CATCOND2: xxxxx cnts 


Catalyst Monitor Conditions Encountered Counts Bank 2 displays the number of times that the vehicle 
(denominator)^ 


has been operated in the specified catalyst monitoring conditions 




02 Sensor Monitor' Completion Counts Bank 1 


2 bytes 


02SCOMP1 : xxxxx cnts ; 


02 Sensor Monitor Completion Counts Bank 1 displays the number of time that all conditions necessa 
encountered (numerator). 


ry to detect an oxygen sensor bank 1 malfunction have been 


02;Sensor:Monitor Conditions Encountered Counts Bank! 


2 bytes 


■02SCOND1 : xxxxx cnts 


02Sensor:Monitor Conditions: Encountered Counts Bank 1 displays the number of times that the vehi 
conditions (denominator). 


sle has been operated :in:the specified oxygen-sensor monitoring 


02 Sensor Monitor Completion Counts Bank 2 


2 bytes 


02SCOMP2: xxxxx cnts 




02Sensor Monitor Completion Counts Bank 2 displays the number of time that alt conditions necessary to detect an oxygen sensor:bank 2 malfunction have been 
encountered (numerator), 




02 Sensor Monitor Conditions Encountered Counts Bank 2 


2bytes 


02SCOND2: xxxxx cnts 




02 Sensor Monitor Conditions Encountered Counts Bank 2 displays the number of times that the vehicle has been operated in the specified oxygen sensor monitoring 
cohditions'(denominator). 




EGR Monitor Completion Condition Counts 


2 bytes 


EGRCOMP: xxxxx cnts 


EGR Monitor Completion Condition Counts displays the number of time that all conditions necessary t 
(numerator). 


detect an EGR system malfunction have been encountered 


EGR Monitor Conditions Encountered Counts 


2 bytes 


EGRCOND: xxxxx cnts 


EGR Monitor Conditions Encountered Counts displays the number of times that the vehicle has been 
(denominator). 


operated in the specified EGR system monitoring conditions 


AIR Monitor Completion Condition Counts (Secondary Air) 


2 bytes 


AIRCOMP: xxxxx cnts 


AIR Monitor Completion Condition Counts (Secondary Air) displays the number of time that all conditi 
encountered (numerator). 


>ns necessary to detect an AIR system malfunction have been 



23.121 



InfoType 
(Hex) 



TABLE G8— IN-USE PERFORMANCE TRACKING DATA BYTE DESCRIPTION 



Description 



2 bytes 



AIRCOND: xxxxx cnts 



AIR Monitor Conditions Encountered Counts (Secondary Air) 

condKionMdenoSorr COJntered ^""^ (SeCOndary Air) displays the number of ,imes ,hat the vehicle has been operated in the specified AIR system monitoring 



#of 
data bytes 



External test equipment 
SI (Metric) / English display 



EVAP Monitor Completion Condition Counts 



2 bytes 



EVAPCOMP: xxxxx cnts 



encTurtere^nuSor)" C ° nditi0n C ° UntS d ' SP ' ayS ^ """"^ '"^ ^ 3 " conditions n «»ssaty to detect a 0.020" EVAP system leak malfunction have been 



EVAP Monitor Conditions Encountered Counts 



2 bytes 



EVAPCOND: xxxxx cnts 



^Mb^^SlS!. EnC ° Untered C ° UntS diSplayS the number of times that ,he vehide has bee " OP""" ^ 'he specified EVAP system leak malfunction monitoring 



TABLE G9— RESERVED BY DOCUMENT 



InfoType (Hex) 



09 -FF 



Vehicle information data byte description 



Reserved by this document. 



Scaling 



Mnemonic 



